{"version":3,"sources":["Stores/MessageStore.js","Controllers/IMController.js","Assets/im_group_avatar.png","Assets/logo.png","Constants.js","gen/im_pb.js","gen/auxiliary_pb.js","Stores/AuthorizationStore.js","Stores/FileStore.js","Actions/Client.js","Utils/User.js","Components/Tile/ChatTile.js","Components/message/Photo.js","Components/Viewer/FileProgress.js","Components/Tile/DocumentTile.js","Components/message/DocumentAction.js","Components/message/Document.js","Utils/Message.js","Utils/Chat.js","Components/Tile/DialogTitle.js","Components/Tile/DialogMeta.js","Components/Tile/DialogContent.js","Components/Tile/DialogBadge.js","Components/Tile/Dialog.js","Components/ColumnLeft/DialogsList.js","Components/ColumnLeft/MainMenuButton.js","Components/ColumnLeft/DialogsHeader.js","Components/ColumnLeft/Dialogs.js","Components/message/DayMeta.js","Components/Tile/UserTile.js","Assets/Icons/Pending.js","Assets/Icons/Error.js","Assets/Icons/Sent.js","Assets/Icons/Succeeded.js","Components/message/Status.js","Components/message/Meta.js","Components/message/Progress.js","Components/message/Message.js","Components/ColumnMiddle/MessagesList.js","Components/ColumnMiddle/MainMenuButton.js","Components/ColumnMiddle/HeaderChat.js","Components/ColumnMiddle/Header.js","Assets/Icons/Send.js","Assets/Icons/Attach.js","Assets/Icons/Document.js","Assets/Icons/SharedMedia.js","Components/ColumnMiddle/AttachButton.js","Components/ColumnMiddle/InputboxControl.js","Components/ColumnMiddle/DialogDetails.js","Components/ColumnRight/ChatDetailsHeader.js","Components/Tile/UserControl.js","Components/ColumnRight/ChatDetails.js","Components/ColumnRight/ChatInfo.js","Components/MainPage.js","Components/Auth/AuthFormControl.js","Stores/NotificationStore.js","App.js","serviceWorker.js","Components/Auth/LoginRedirect.js","index.js","Workers/CacheManager.js","Stores/CacheStore.js","Stores/UserStore.js","Utils/Common.js","Utils/File.js","gen/msg_pb.js","Stores/ChatStore.js","Assets/default_avatar.png","Stores/ApplicationStore.js","gen/conversation_pb.js"],"names":["StateEnum","Object","freeze","STATE_NONE","STATE_SEND","STATE_ACK","STATE_RECEIPT","STATE_READ","isOutgoing","state","store","reset","items","Map","unread","loaded","Set","maxIds","onUpdate","update","msg","set","addUnreadMsg","chat_id","getConversationid","emit","msgs","inserted","finished","CacheStore","messageLoaded","loadMessages","forEach","contains","msgAck","updateLocal","msgId","getId","chatId","msgRead","updateRead","clearUnread","updateReadLocal","convId","console","log","lastMsgId","getLastMsgId","IMController","pullMessage","onClientUpdate","setLocal","emitUpdate","addIMListener","setMaxListeners","Infinity","addListener","this","message","chat","get","getJetts","m","ts","getAckts","saveMessage","values","key","setAckts","setId","messageId","v","k","maxId","has","add","Array","from","sort","a","b","delete","s","size","item","EventEmitter","window","im_pb","require","conv_pb","msg_pb","controller","cid","messages","init","ws","WebSocket","WS_URL","binaryType","onopen","login","onmessage","ev","buffer","Uint8Array","data","imResponse","IMResponse","deserializeBinary","handleMessage","onclose","Date","now","onerror","msgPull","MessagePull","setDirect","setMsgid","setConvid","setLimit","request","IMRequest","setCid","setOperation","IMOperation","CONVERSATIONMESSAGEPULL","setBlob","serializeBinary","send","ackResponse","op","setTs","disableLog","clientUpdate","setChatId","uploadImage","content","name","callback","formData","FormData","append","axios","post","CLIENT_UPLOAD_URL","headers","onUploadProgress","progressEvent","totalLength","lengthComputable","total","target","getResponseHeader","progressData","Math","round","message_id","progress","then","response","catch","e","userSet","downloadSet","parameters","disablelog","localStorage","getOperation","CLIENTOPEN","ACKCLIENTOPEN","queryConvs","CONVERSATIONQUERY","convs","ConversationList","getBlob","getConvsList","TARGETMESSAGESEND","Msg","getTs","ACK","CONVERSATIONMESSAGESEND","MsgAck","CONVERSATIONMESSAGEREAD","MsgRead","TARGETMESSAGEREAD","CONVERSATIONGROUPINFO","conv","Conversation","CONVERSATIONMESSAGEUPDATE","MessageUpdate","getConvid","getMsgid","MsgList","getMsgsList","length","finshed","getFinished","readyState","OPEN","getCid","setConversationid","setConversation","setMsg","url","fileBean","FileBean","setUrl","image","Image","setImgurl","close","setVersion","uid","token","openId","Error","stack","CLIENT_PROFILE_URL","code","file","im","module","exports","APP_NAME","PHOTO_SIZE","PHOTO_THUMBNAIL_SIZE","PHOTO_DISPLAY_SIZE","SCROLL_PRECISION","ANIMATION_DURATION_300MS","BASE_URL","AUTH_URL","AUTH_INFO_URL","KEY_AUTH_STATE","jspb","goog","global","Function","object","extend","proto","conversation_pb","exportSymbol","IMNut","StateMessage","opt_data","Message","initialize","inherits","DEBUG","COMPILED","displayName","NatsMsg","IMAck","OpResult","TgtMsgPush","TgtPeerState","TgtGroupMemberAdded","TgtGroupMemberRemoved","MchMsg","repeatedFields_","TgtMchMsg","BotMsg","TgtBotMsg","GENERATE_TO_OBJECT","prototype","toObject","opt_includeInstance","includeInstance","obj","getFieldWithDefault","$jspbMessageInstance","bytes","reader","BinaryReader","deserializeBinaryFromReader","nextField","isEndGroup","getFieldNumber","value","readEnum","setState","skipField","writer","BinaryWriter","serializeBinaryToWriter","getResultBuffer","f","getState","writeEnum","setProto3EnumField","operation","blob","getBlob_asB64","readBytes","undefined","getBlob_asU8","writeBytes","bytesAsB64","bytesAsU8","setProto3BytesField","conversation","getConversation","getMsg","readString","readMessage","readInt64","writeString","writeMessage","writeInt64","setProto3StringField","getWrapperField","setWrapperField","clearConversation","hasConversation","getField","clearMsg","hasMsg","setProto3IntField","setCode","getCode","c","setC","getC","readBool","setLogin","getLogin","writeBool","setProto3BooleanField","convid","msgid","direct","limit","readInt32","getDirect","getLimit","writeInt32","invitor","setInvitor","getInvitor","leaver","kicker","setLeaver","setKicker","getLeaver","getKicker","fromid","tocidList","getRepeatedField","getMessage_asB64","hash","setFromid","addTocid","setMessage","setHash","getFromid","getTocidList","writeRepeatedString","getMessage_asU8","getHash","setTocidList","setField","opt_index","addToRepeatedField","clearTocidList","getMessage","title","avatar","setTitle","setAvatar","getTitle","getAvatar","botid","fromcid","setBotid","setFromcid","getBotid","getFromcid","DEFAULT","CLIENTCLOSE","CLIENTQUERY","CLIENTONLINESTATE","CONVERSATIONCREATION","CONVERSATIONMEMBERADD","CONVERSATIONMEMBERREMOVE","CONVERSATIONUPDATENAME","CONVERSATIONLEAVE","CONVERSATIONGROUPJOIN","CONVERSATIONGROUPNICK","CONVERSATIONMEMBERADDED","CONVERSATIONMEMBERREMOVED","CONVERSATIONMESSAGEQUERY","CONVERSATIONENTER","CONVERSATIONEXIT","CONVERSATIONMESSAGEPUSH","SENDBOTMESSAGE","SENDMCHMESSAGE","TARGETMESSAGEPUSH","TARGETCONVPEERSTATE","TARGETBOTMESSAGE","TARGETMCHMESSAGE","Code","SUCCESS","ERRNOPERMISSION","ERRFAILED","OnlineState","NORMAL","LEAVE","RedpacketOpenedMsg","GroupMsg","GroupKickMsg","rpid","setRpid","getRpid","cidsList","invitetype","addCids","setInvitetype","getCidsList","getInvitetype","setCidsList","clearCidsList","AuxiliaryType","REDPACKETOPENED","GROUP","GROUPKICK","GroupInviteType","INVITOR","INVITEE","AuthStateEnum","STATE_IDLE","STATE_WAIT","STATE_FAILED","STATE_LOGIN","STATE_LOGOUT","authorization_state","current","save","user","nick","UserStore","saveUser","clear","load","getItem","JSON","parse","setItem","stringify","removeItem","authorization","db","urls","WeakMap","dataUrls","onUpdateFile","setDataUrl","id","dataUrl","getDataUrl","getBlobUrl","URL","createObjectURL","openChat","popup","getUser","AppStore","cacheLoaded","AuthStore","auth_state","access_token","open_id","error","updateUser","getPeerUser","getType","find","getPeerCid","ChatTile","props","onUpdateCache","forceUpdate","extra","handleLoad","nextProps","nextState","on","off","big","src","ChatStore","type","getSingleCover","getGroupCover","tileLoaded","tileColor","abs","className","classNames","onLoad","draggable","alt","UserAvatar","GroupAvatar","React","Component","Photo","displaySize","openMedia","MessageStore","pointer","onClick","defaultProps","thumbnailSize","showProgress","circleStyle","circle","FileProgress","onUpdateProgress","completeAnimation","prevPropsFile","prevFile","mount","FileStore","CircularProgress","classes","variant","thickness","cancelButton","download","upload","DocumentTile","onClientUpdateDocumentThumbnailBlob","thumbnail","photo","fileId","onClientUpdateProgress","minithumbnail","icon","completeIcon","miniSrc","thumbnailSrc","getSrc","zIndex","DocumentAction","currentFile","nextFile","theme","meta","local","is_downloading_active","remote","is_uploading_active","getSizeString","sizeString","documentAction","withStyles","color","palette","text","secondary","withTheme","Document","downloadFile","event","preventDefault","stopPropagation","fetch","document","createElement","href","click","width","height","md5","style","data-name","data-ext","getExtension","getText","result","MsgType","TEXT","TextDecoder","decode","REDPACKET","getContent","isMessageUnread","isSingleChat","getChatTitle","getName","getGroupNoName","slice","getLastMessageDate","last_ts","date","dayStart","setHours","dateFormat","day","getDay","weekStart","getDate","setDate","getMessageDate","last_msg","DialogTitle","onFastUpdatingComplete","onUpdateChatTitle","t","showSavedMessages","withTranslation","DialogMeta","onClientUpdateClearHistory","clearHistory","inProgress","DialogContent","getLastMessageContent","getLastMessageSenderName","DialogBadge","onNewMessage","onUpdateMessage","unread_count","getUnreadByChatId","showUnreadCount","Dialog","onClientUpdateChatId","previousChatId","nextChatId","handleSelect","button","handleContextMenu","contextMenu","left","clientX","top","clientY","handleCloseContextMenu","handleViewInfo","getViewInfoTitle","dialog","createRef","nextContext","hidden","isLastPinned","ApplicationStore","isSelected","getChatId","ref","onMouseDown","onContextMenu","Popover","open","onClose","anchorReference","anchorPosition","anchorOrigin","vertical","horizontal","transformOrigin","MenuList","root","MenuItem","DialogsList","handleScroll","list","listRef","scrollTop","offsetHeight","scrollHeight","onLoadNext","onQueryConv","sortedItems","getSortedItems","chats","updateOrder","soretedItems","fistSliceLoaded","prevProps","prevState","snapshot","dialogs","map","x","onScroll","menuAnchorOrigin","MainMenuButton","onUpdateAuthorizationState","authorizationState","handleMenuOpen","isAuthorizationReady","currentTarget","anchorEl","handleMenuClose","handleLogOut","onLogOut","setRef","mainMenuControl","Boolean","getContentAnchorEl","disableAutoFocusItem","disableRestoreFocus","IconButton","aria-owns","aria-haspopup","menuIconButton","aria-label","enhance","compose","margin","searchIconButton","DialogsHeader","logout","Dialogs","onClientUpdateChatDetailsVisibility","isChatDetailsVisible","handleHeaderClick","dialogListRef","scrollToTop","dialogsHeaderRef","loadCache","cache","DayMeta","i18n","toLocaleDateString","month","UserTile","onClientUpdateUserBlob","userId","onClientUpdateChatBlob","user_id","onUpdateChatPhoto","onSelect","small","createSvgIcon","stroke","strokeWidth","fill","fillRule","transform","d","strokeLinecap","strokeLinejoin","cx","cy","r","x1","y1","x2","y2","Status","onUpdateMessageSend","updateMsgId","Pending","viewBox","Sent","Succeeded","sendingState","prevChatId","prevMessageId","Meta","editDate","onDateClick","views","is_outgoing","dateStr","Progress","onClientUpdateClearSelection","selected","onClientUpdateMessageHighlighted","highlighted","setTimeout","onClientUpdateMessageSelected","onUpdateMessageEdited","onUpdateMessageViews","onUpdateMessageProgress","uploadProgress","onUpdateMessageContent","emojiMatches","handleSelectUser","handleSelectChat","handleSelection","mouseDown","handleAnimationEnd","handleMouseDown","handleMouseOver","handleMouseOut","mouseOut","showUnreadSeparator","showTail","showTitle","animation","fitSize","getFitSize","getSize","sizes","video","sender_user_id","media","PICTURE","getLocalpath","getImgurl","FILE","getMd5","getUrl","getMedia","tile","getMessageStyle","onMouseOver","onMouseOut","onAnimationEnd","MessagesList","history","getMessages","scrollToBottom","onLoadCache","onSendMessage","onAckMessage","onReadMessage","scrollToStart","handleListDragEnter","sessionId","itemsRef","scrollDownVisible","playerOpened","dragging","selectionActive","historyEquals","previousMessageId","readMessages","i","prevMessage","showDate","showMessageDate","el","itemsMap","onDragEnter","isFirst","ackTs","jetTs","prevDate","getFullYear","getMonth","handleButtonClick","handleChatInfo","openChatDetails","HeaderChat","Header","changeChatDetailsVisibility","connectionState","getConnectionState","openDeleteDialog","AttachButton","handleMenuClick","handleAttachPhoto","onAttachPhoto","handleAttachDocument","onAttachDocument","handleAttachPoll","onAttachPoll","Attach","ListItemIcon","ListItemText","primary","InputboxControl","handleKeyDown","altKey","ctrlKey","keyCode","metaKey","repeat","shiftKey","handleSubmit","handleCancel","element","editMessageId","newMessageRef","innerHTML","innerText","handleInput","trim","replace","sendMessage","attachDocumentRef","handleAttachDocumentComplete","files","handleSendDocument","attachPhotoRef","handleAttachPhotoComplete","readImageSize","handleSendPhoto","photoWidth","photoHeight","setLocalpath","setType","setJetts","sendImage","handlePaste","clipboardData","originalEvent","kind","indexOf","push","getAsFile","plainText","getData","execCommand","setSize","setName","sendFile","inputContent","TextEncoder","encode","sendMsg","imageRef","contentEditable","suppressContentEditableWarning","onKeyDown","onPaste","onInput","multiple","onChange","accept","Send","DialogDetails","onUpdateChatDetailsVisibility","nextMessageId","messagesList","scrollToMessage","getMessageId","selectedCount","ChatDetailsHeader","info","rightIconButton","leftIconButton","UserControl","handleClick","ChatDetails","handleOpenUser","findUserChat","openUser","chatDetailsListRef","isGroup","isGroupChat","isMe","getMembersList","ListItem","backButton","Divider","List","closeIconButton","nested","listItem","padding","ChatInfo","onGroupInfo","handleCloseChatDetails","userChatId","detailsRef","dialogChatId","loadContent","MainPage","onClientUpdateOpenChat","currentChatId","currentMessageId","dialogDetailsRef","AuthFormControl","location","auth_url","err","Logo","Button","disableElevation","fullWidth","scanQrCode","appInactive","newMessages","settings","windowFocused","timerHandler","updateTimer","focused","onTimer","unreadCount","getUnreadCount","getElementById","getUnread","setInterval","clearInterval","notifications","App","hasFocus","onLogout","prevAuthorizationState","AuthorizationStore","inactive","page","onblur","onfocus","isLocalhost","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","onSuccess","LoginRedirect","parsed","qs","search","process","auth_id","authState","authData","ReactDOM","render","basename","exact","path","component","origin","addEventListener","contentType","status","ready","unregister","reload","checkValidServiceWorker","manager","onWorkerMessage","handlerKey","handler","handlers","command","resolve","reject","messageM","loadedMsgConv","userStore","Store","chatStore","fileStore","keys","ids","loadStore","del","chatIds","CacheManager","remove","saveChatsInternal","debounce","promises","loadChats","loadUsers","loadFiles","Promise","all","users","index","newItems","saveChat","removeChat","getCache","saveMessageInternal","addMessages","fullInfoItems","dimension","useWidth","diff","is_downloading_completed","currDiff","max","increaseToMax","floor","func","wait","immediate","timeout","context","args","arguments","later","apply","callNow","clearTimeout","FileReader","readAsDataURL","first","second","fileName","parts","split","pop","toLowerCase","toFixed","auxiliary_pb","AuxiliaryMsg","conversationid","blobextra","getBlobextra_asB64","jetts","ackts","setBlobextra","getBlobextra_asU8","getBlobextra","lastid","msgsList","toObjectList","setFinished","setLastid","addMsgs","getLastid","writeRepeatedMessage","getRepeatedWrapperField","setMsgsList","setRepeatedWrapperField","opt_value","addToRepeatedWrapperField","clearMsgsList","localpath","cachepath","filename","imgurl","setCachepath","setFilename","setWidth","setHeight","getCachepath","getFilename","getWidth","getHeight","mediatype","setMediatype","setMd5","getMediatype","VOICE","AUXILIARY","updateConv","clearChats","lastTs","assign","updateGroup","entries","source1","source2","includes","extendedUpdate","visibility","app","MemNick","setNick","getNick","creator","version","membersList","nicksList","getNicksList","setCreator","addMembers","addNicks","getCreator","getVersion","setMembersList","clearMembersList","setNicksList","clearNicksList","convsList","addConvs","setConvsList","clearConvsList","ConversationType","SINGLE","MULTIPLE","SYS"],"mappings":"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","file":"static/js/main.848106fb.chunk.js","sourcesContent":["import {EventEmitter} from \"events\";\nimport IMController from \"../Controllers/IMController\";\nimport CacheStore from \"./CacheStore\";\n\nexport const StateEnum = Object.freeze({\n    STATE_NONE: 0,\n    STATE_SEND: 1,\n    STATE_ACK: 2,\n    STATE_RECEIPT: 3,\n    STATE_READ: 4,\n});\n\nexport function isOutgoing(state) {\n    return state === StateEnum.STATE_SEND || state === StateEnum.STATE_ACK || state === StateEnum.STATE_READ;\n}\n\nclass MessageStore extends EventEmitter {\n    constructor() {\n        super();\n\n        this.reset();\n\n        this.addIMListener();\n        this.setMaxListeners(Infinity);\n    }\n\n    reset = () => {\n        this.items = new Map();\n        this.unread = new Map();\n        this.loaded = new Set();\n        this.maxIds = new Map();\n    };\n\n    addIMListener() {\n        IMController.addListener('update', this.onUpdate);\n        IMController.addListener('clientUpdate', this.onClientUpdate);\n    }\n\n    onUpdate = update => {\n        switch (update['@type']) {\n            case 'tgtMsgSend': {\n                const msg = update.msg;\n                this.set(msg);\n                this.addUnreadMsg(msg);\n                update = {chat_id: msg.getConversationid(), ...update}\n                this.emit(\"tgtMsgSend\", update);\n                break;\n            }\n            case 'messagePull': {\n                const {msgs, chat_id, finished} = update\n                let inserted = false;\n                if (!CacheStore.messageLoaded(chat_id)) {\n                    CacheStore.loadMessages(chat_id)\n                }\n                msgs.forEach( msg => {\n                    if (!this.contains(msg)) {\n                        this.set(msg)\n                        inserted = true\n                    }\n                });\n                inserted && this.emit(\"tgtMsgSend\", update);\n                break;\n            }\n            case 'msgAck': {\n                const msgAck = update.msgAck;\n                this.updateLocal(msgAck);\n                this.emit(\"msgAck\", {\n                    msgId: msgAck.getId(),\n                    chatId: msgAck.getConversationid(),\n                });\n                break;\n            }\n            case 'msgRead': {\n                const msgRead = update.msgRead;\n                this.updateRead(msgRead);\n                this.clearUnread(msgRead);\n                this.emit(\"msgRead\", {\n                    msgId: msgRead.getId(),\n                    chatId: msgRead.getConversationid(),\n                });\n                break;\n            }\n            case 'msgHasRead': {\n                const msgRead = update.msgRead;\n                this.updateReadLocal(msgRead);\n                this.emit(\"msgHasRead\", {\n                    msgId: msgRead.getId(),\n                    chatId: msgRead.getConversationid(),\n                });\n                break;\n            }\n            case 'messageUpdate': {\n                const  {convId, msgId} = update;\n                console.log(\"messageUpdate\", {convId: convId}, {msgId: msgId}, {lastMsgId: this.getLastMsgId(convId)})\n                if (msgId > this.getLastMsgId(convId)) {\n                    IMController.pullMessage(convId, this.getLastMsgId(convId))\n                }\n                break\n            }\n        }\n    };\n\n    onClientUpdate = update => {\n        switch (update['@type']) {\n            case 'clientSendMessage': {\n                this.setLocal(update.msg);\n                this.emitUpdate(update);\n                break\n            }\n            case 'clientUpdateMessagesLoaded': {\n                this.emitUpdate(update);\n                break;\n            }\n        }\n    };\n\n    emitUpdate = update => {\n        this.emit(update['@type'], update);\n    };\n\n    contains(message) {\n        if (!message) return false;\n        let chat = this.items.get(message.getConversationid());\n        if (!chat) return false;\n        if (chat.get(message.getId()) || chat.get(message.getJetts())) return true;\n        if (message.getConversationid() === '02BYXxXiaQvWv4WFRs6XR1SFgPFpKjxH7KTs41duZa3iG') {\n            console.log(\"MessageStore not contains\", chat, message,message.getJetts(), chat.get(message.getJetts()),\n                message.getId(), chat.get(message.getId()))\n        }\n        return false;\n    }\n\n    set(message) {\n        if (!message) return;\n\n        let chat = this.items.get(message.getConversationid());\n        if (!chat) {\n            chat = new Map();\n            this.items.set(message.getConversationid(), chat);\n        }\n\n        const m = {state: StateEnum.STATE_RECEIPT, msg: message, ts: message.getAckts() / 1000_000}\n        chat.set(message.getId(), m);\n        if (this.maxIds.get(message.getConversationid()) || message.getId() > 0) {\n            this.maxIds.set(message.getConversationid(), message.getId())\n        }\n        CacheStore.saveMessage(message.getConversationid(), message.getId(), m)\n    }\n\n    setLocal(message) {\n        if (!message) return;\n        const chatId = message.getConversationid();\n\n        let chat = this.items.get(chatId);\n        if (!chat) {\n            chat = new Map();\n            this.items.set(chatId, chat);\n        }\n        const m = {state: StateEnum.STATE_SEND, msg: message, ts: message.getJetts()};\n        chat.set(message.getJetts(), m);\n        CacheStore.saveMessage(chatId, message.getJetts(), m);\n    }\n\n    updateReadLocal(msgRead) {\n        if (!msgRead) return;\n        const [chatId, msgId] = [msgRead.getConversationid(), msgRead.getId()];\n        let chat = this.items.get(chatId);\n        if (!chat) {\n            return;\n        }\n        console.log(\"updateReadLocal\", chatId, msgId)\n        for (let message of chat.values()) {\n            if (message.msg && message.msg.getId() === msgId) {\n                console.log(\"updateReadLocal message.msg.getId\", message.msg.getId())\n\n                const m = {...message, state: StateEnum.STATE_READ}\n                chat.set(message.msg.getJetts(), m)\n                CacheStore.saveMessage(chatId, message.msg.getJetts(), m);\n                return\n            }\n        }\n        // chat.values.forEach(message => {\n        //     if (!message.msg && message.msg.getId() !== msgId) return;\n        //     message.state = StateEnum.STATE_READ;\n        // })\n    }\n\n    updateRead(msgRead) {\n        if (!msgRead) return;\n        const [chatId] = msgRead.getConversationid();\n        let chat = this.items.get(chatId);\n        if (!chat) {\n            return;\n        }\n        const key = msgRead.getId();\n        let message = chat.get(key);\n        if (!message) {\n            return;\n        }\n        message.state = StateEnum.STATE_READ;\n\n        const m = {...message, state: StateEnum.STATE_READ}\n        chat.set(key, m);\n        CacheStore.saveMessage(chatId, key, m);\n    }\n\n    updateLocal(msgAck) {\n        if (!msgAck) return;\n\n        let chat = this.items.get(msgAck.getConversationid());\n        if (!chat) {\n            return;\n        }\n        const key = msgAck.getJetts();\n        let message = chat.get(key);\n        if (!message) {\n            return;\n        }\n        message.msg.setAckts(msgAck.getAckts());\n        message.msg.setId(msgAck.getId());\n        message.state = StateEnum.STATE_ACK;\n\n        const m = {...message, state: StateEnum.STATE_ACK}\n        chat.set(msgAck.getJetts(), m);\n        CacheStore.saveMessage(message.msg.getConversationid(), key, m);\n        IMController.update({\n            '@type': 'msgAcked',\n            msg: m.msg,\n        })\n    }\n\n    get(chatId, messageId) {\n        let chat = this.items.get(chatId);\n        if (!chat) {\n            //this.load(chatId, messageId);\n            return null;\n        }\n\n        let message = chat.get(messageId);\n        if (!message) {\n            //this.load(chatId, messageId);\n            return null;\n        }\n\n        return message;\n    }\n\n    addMessages(chatId, msgs) {\n        console.log(\"MessageStore addMessages\", chatId, msgs);\n        let chat = this.items.get(chatId);\n        if (!chat) {\n            chat = new Map();\n            this.items.set(chatId, chat);\n        }\n        msgs.forEach((v, k) => {\n            chat.set(k, v)\n            const maxId = this.maxIds.get(chatId)\n            if (maxId && v.msg && v.msg.getId() >maxId) {\n                this.maxIds.set(chatId, v.msg.getId())\n            }\n        })\n    }\n\n    getMessages(chatId) {\n        console.log(\"MessageStore getMessages\", chatId);\n        if (this.loaded.has(chatId)) {\n            this.loaded.add(chatId);\n            // this.addMessages(chatId, CacheStore.loadMessages(chatId));\n        }\n        let chat = this.items.get(chatId);\n        if (!chat) {\n            return [];\n        }\n        // chat.values.\n        return Array.from(chat.values()).sort((a,b) => ((a.ts > b.ts) ? 1 : -1));\n    }\n\n    getLastMsgId(chatId) {\n        return this.maxIds.get(chatId) || 0\n    }\n\n    addUnreadMsg(msg) {\n        if (!msg) return;\n        const [convId, msgId] = [msg.getConversationid(), msg.getId()];\n        if (!convId) return;\n        if (!this.unread.has(convId)) {\n            this.unread.set(convId, new Set());\n        }\n\n        this.unread.get(convId).add(msgId)\n    }\n\n    clearUnread(msgRead) {\n        if (!msgRead) return;\n        const [convId, msgId] = [msgRead.getConversationid(), msgRead.getId()];\n        if (!convId) return;\n        if (!this.unread.has(convId)) return;\n        this.unread.get(convId).delete(msgId);\n    }\n\n    getUnreadByChatId(chatId) {\n        let s = this.unread.get(chatId)\n        return s ? s.size : 0;\n    }\n\n    getUnread() {\n        let s = 0;\n        [...this.unread.values()].forEach(item => {\n            s += item.size\n        })\n        return s;\n    }\n}\n\nconst store = new MessageStore();\nwindow.message = store;\nexport default store;","import {EventEmitter} from \"events\";\nimport {CLIENT_PROFILE_URL, CLIENT_UPLOAD_URL, WS_URL} from \"../Constants\";\nimport axios from 'axios';\nvar im_pb = require('../gen/im_pb');\nvar conv_pb = require('../gen/conversation_pb');\nvar msg_pb = require('../gen/msg_pb');\n\nclass IMController extends EventEmitter {\n    state = {\n        cid: null,\n        messages: [],\n    };\n    ws;\n\n    constructor() {\n        super();\n\n        this.userSet = new Set();\n        this.downloadSet = new Set();\n        this.parameters = {};\n        this.disablelog = true;\n        this.localStorage = false;\n    }\n\n    init = (cid) => {\n        console.log(\"IMController init\")\n        this.ws = new WebSocket(WS_URL);\n        this.state.cid = cid;\n        this.ws.binaryType = 'arraybuffer';\n        this.ws.onopen = () => {\n            console.log(\"onopen\");\n            this.emit('update', {\n                '@type': 'imState',\n            })\n            this.login();\n        };\n\n        this.ws.onmessage = ev => {\n            console.log(ev);\n            const buffer = new Uint8Array(ev.data);  // arraybuffer object\n            const imResponse = im_pb.IMResponse.deserializeBinary(buffer);\n            console.log(imResponse);\n            this.handleMessage(imResponse);\n        };\n\n        this.ws.onclose = () => {\n            console.log('disconnected', Date.now());\n            this.emit('update', {\n                '@type': 'imState',\n            })\n        };\n\n        this.ws.onerror = ev => {\n        }\n    };\n\n    handleMessage(response) {\n        const {cid} = this.state;\n        switch (response.getOperation()) {\n            case im_pb.IMOperation.CLIENTOPEN: {\n                this.ackResponse(im_pb.IMOperation.ACKCLIENTOPEN);\n                this.queryConvs();\n                break;\n            }\n            case im_pb.IMOperation.CONVERSATIONQUERY: {\n                const convs = conv_pb.ConversationList.deserializeBinary(response.getBlob())\n                this.emit('update', {\n                    '@type': 'queryConv',\n                    convs: convs.getConvsList(),\n                });\n                break;\n            }\n            case im_pb.IMOperation.TARGETMESSAGESEND: {\n                const msg = msg_pb.Msg.deserializeBinary(response.getBlob())\n                console.log('ackResponse', response.getTs())\n                this.ackResponse(im_pb.IMOperation.ACK, response.getTs())\n                this.emit('update', {\n                    '@type': 'tgtMsgSend',\n                    msg: msg,\n                });\n                break;\n            }\n            case im_pb.IMOperation.CONVERSATIONMESSAGESEND: {\n                const msgAck = msg_pb.MsgAck.deserializeBinary(response.getBlob())\n                // console.log(\"CONVERSATIONMESSAGESEND, \", msgAck);\n                this.emit(\"update\", {\n                    '@type': 'msgAck',\n                    msgAck: msgAck,\n                });\n\n                break;\n            }\n\n            case im_pb.IMOperation.CONVERSATIONMESSAGEREAD: {\n                const msgRead = msg_pb.MsgRead.deserializeBinary(response.getBlob())\n                // console.log(\"CONVERSATIONMESSAGEREAD, \", msgRead);\n                this.emit(\"update\", {\n                    '@type': 'msgRead',\n                    msgRead: msgRead,\n                });\n\n                break;\n            }\n            case im_pb.IMOperation.TARGETMESSAGEREAD: {\n                const msgRead = msg_pb.MsgRead.deserializeBinary(response.getBlob())\n                // console.log(\"TARGETMESSAGEREAD, \", msgRead);\n                this.emit(\"update\", {\n                    '@type': 'msgHasRead',\n                    msgRead: msgRead,\n                });\n\n                break\n            }\n            case im_pb.IMOperation.CONVERSATIONGROUPINFO: {\n                const conv = msg_pb.Conversation.deserializeBinary(response.getBlob())\n                console.log(\"CONVERSATIONGROUPINFO, \", conv);\n                this.emit(\"update\", {\n                    '@type': 'groupInfo',\n                    conv: conv,\n                });\n\n                break;\n            }\n            case im_pb.IMOperation.CONVERSATIONMESSAGEUPDATE: {\n                const update = im_pb.MessageUpdate.deserializeBinary(response.getBlob())\n                this.ackResponse(im_pb.IMOperation.ACK, response.getTs())\n                this.emit(\"update\", {\n                    '@type': 'messageUpdate',\n                    convId: update.getConvid(),\n                    msgId: update.getMsgid(),\n                });\n                break;\n            }\n            case im_pb.IMOperation.CONVERSATIONMESSAGEPULL: {\n                const msgs = msg_pb.MsgList.deserializeBinary(response.getBlob())\n                if (msgs.getMsgsList().length === 0) return;\n                this.emit(\"update\", {\n                    '@type': 'messagePull',\n                    msgs: msgs.getMsgsList(),\n                    chat_id: msgs.getConvid(),\n                    finshed: msgs.getFinished(),\n                });\n                break;\n            }\n        }\n    }\n\n    pullMessage = (convId, msgId) => {\n        const msgPull = new im_pb.MessagePull();\n        msgPull.setDirect(true);\n        msgPull.setMsgid(msgId);\n        msgPull.setConvid(convId);\n        msgPull.setLimit(20);\n        const request = new im_pb.IMRequest();\n        request.setCid(this.state.cid);\n        request.setOperation(im_pb.IMOperation.CONVERSATIONMESSAGEPULL);\n        request.setBlob(msgPull.serializeBinary());\n        this.send(request);\n    };\n\n    getImState() {\n        return this.ws ? false : this.ws.readyState === this.ws.OPEN;\n    }\n\n    ackResponse = (op, ts = 0) => {\n        const request = new im_pb.IMRequest();\n        request.setCid(this.state.cid);\n        request.setOperation(op);\n        request.setTs(ts);\n        this.send(request);\n    };\n\n    readMessage(convId, msg) {\n        if (!msg || msg.getCid() === this.state.cid) {\n            return\n        }\n        const msgRead = new msg_pb.MsgRead();\n        msgRead.setCid(msg.getCid());\n        msgRead.setId(msg.getId());\n        msgRead.setConversationid(convId);\n        const request = new im_pb.IMRequest();\n        request.setCid(this.state.cid);\n        request.setOperation(im_pb.IMOperation.CONVERSATIONMESSAGEREAD);\n        request.setBlob(msgRead.serializeBinary());\n        this.send(request);\n    }\n\n    login() {\n        const request = new im_pb.IMRequest();\n        request.setCid(this.state.cid);\n        request.setOperation(im_pb.IMOperation.CLIENTOPEN);\n        this.send(request);\n    }\n\n    queryConvs() {\n        console.log('queryConvs');\n        const request = new im_pb.IMRequest();\n        request.setCid(this.state.cid);\n        request.setOperation(im_pb.IMOperation.CONVERSATIONQUERY);\n        request.setTs(Date.now());\n        this.send(request);\n    }\n\n    update = update => {\n        if (!this.disableLog) {\n            console.log('update', update);\n        }\n        this.emit('update', update);\n    };\n\n    clientUpdate = update => {\n        if (!this.disableLog) {\n            console.log('clientUpdate', update);\n        }\n        this.emit('clientUpdate', update);\n    };\n\n    send = request => {\n        const b = request.serializeBinary();\n        console.log(request, b);\n        this.ws.send(b);\n    };\n\n    setChatId = (chatId, messageId = null) => {\n        const update = {\n            '@type': 'clientUpdateChatId',\n            chatId: chatId,\n            messageId: messageId\n        };\n\n        this.clientUpdate(update);\n    };\n\n    sendMsg(msg, conv) {\n        const request = new im_pb.IMRequest();\n        request.setConversation(conv);\n        request.setCid(this.state.cid);\n        request.setOperation(im_pb.IMOperation.CONVERSATIONMESSAGESEND);\n        request.setTs(Date.now());\n        request.setMsg(msg);\n        this.send(request);\n\n        const update = {\n            '@type': 'clientSendMessage',\n            msg: msg,\n        }\n        this.clientUpdate(update)\n    }\n\n    sendFile(msg, content, name, conv) {\n        this.uploadImage(content, name,msg, url => {\n            const fileBean = msg_pb.FileBean.deserializeBinary(msg.getBlob());\n            fileBean.setUrl(url);\n            msg.setBlob(fileBean.serializeBinary())\n\n            const request = new im_pb.IMRequest();\n            request.setConversation(conv);\n            request.setCid(this.state.cid);\n            request.setOperation(im_pb.IMOperation.CONVERSATIONMESSAGESEND);\n            request.setTs(Date.now());\n            request.setMsg(msg);\n            this.send(request);\n        });\n        const update = {\n            '@type': 'clientSendMessage',\n            msg: msg,\n        };\n        this.clientUpdate(update)\n    }\n\n    sendImage(msg, content, name, conv) {\n        this.uploadImage(content, name, msg, url => {\n            const image = new msg_pb.Image();\n            image.setImgurl(url);\n            msg.setBlob(image.serializeBinary())\n\n            const request = new im_pb.IMRequest();\n            request.setConversation(conv);\n            request.setCid(this.state.cid);\n            request.setOperation(im_pb.IMOperation.CONVERSATIONMESSAGESEND);\n            request.setTs(Date.now());\n            request.setMsg(msg);\n            this.send(request);\n        })\n        const update = {\n            '@type': 'clientSendMessage',\n            msg: msg,\n        }\n        this.clientUpdate(update)\n    }\n\n    logout() {\n        this.ws.close();\n        this.clientUpdate({\n            '@type': \"clientLogout\",\n        })\n    }\n\n    queryGroup(convId) {\n        const request = new im_pb.IMRequest();\n        const conv = new conv_pb.Conversation();\n        conv.setId(convId);\n        conv.setVersion(0);\n        request.setConversation(conv);\n        request.setOperation(im_pb.IMOperation.CONVERSATIONGROUPINFO);\n        this.send(request);\n    }\n\n    async getUser(uid, token, openId, cid) {\n        if (this.userSet.has(cid)) {\n            return\n        }\n        this.userSet.add(cid)\n        const headers = {\n            'uid': uid,\n            'token': token,\n            'openId': openId,\n\n        }\n        console.log(\"IMController: \", new Error().stack);\n        axios.post(CLIENT_PROFILE_URL, 'cid='+cid, {\n            headers: headers\n        }).then(data => {\n            console.log(data);\n            if (data.data.code === 200) {\n                this.update({\n                    '@type': 'updateUser',\n                    'user': data.data.data,\n                })\n            } else {\n                this.userSet.delete(cid);\n            }\n        }).catch(e => {\n            console.log(e);\n            this.userSet.delete(cid);\n        })\n    }\n\n    async downloadFile(url) {\n        if (this.downloadSet.has(url)) {\n            return\n        }\n        this.downloadSet.add(url)\n        axios.get(url)\n            .then(response => {\n                console.log('IMController downloadFile', response.data)\n                this.update({\n                    '@type': 'downloadFile',\n                    url: url,\n                    file: response.data,\n                })\n                //Buffer.from(response.data, 'binary').toString('base64')\n            }).catch(e => {\n                console.log('IMController downloadFile',e)\n        })\n    }\n\n    uploadImage = (content, name, msg, callback) => {\n        const convId = msg.getConversationid();\n        const msgId = msg.getJetts();\n\n        const formData = new FormData()\n        formData.append(\"name\", name)\n        formData.append(\"file\", content)\n        const headers = {\n            // 'uid': uid,\n            // 'token': token,\n            // 'openId': openId,\n            // 'Content-Type': \"multipart/form-data\",\n        };\n        axios.post(CLIENT_UPLOAD_URL, formData, {\n            headers: headers,\n            onUploadProgress: progressEvent => {\n                const totalLength = progressEvent.lengthComputable ? progressEvent.total : progressEvent.target.getResponseHeader('content-length')\n                    || progressEvent.target.getResponseHeader('x-decompressed-content-length');\n                console.log(\"onUploadProgress\", totalLength, progressEvent);\n                let progressData = 0;\n                if (totalLength !== null) {\n                    progressData = Math.round( (progressEvent.loaded * 100) / totalLength );\n                }\n                this.clientUpdate({\n                    '@type': 'clientUpdateProgress',\n                    chat_id: convId,\n                    message_id: msgId,\n                    progress: progressData,\n                });\n            },\n        }).then(response => {\n            console.log(\"uploadImage\", {response: response})\n            callback(response.data.data)\n        }).catch(e => {\n            console.log(\"uploadImage\", e)\n        })\n    }\n}\n\nconst controller = new IMController();\nwindow.im = controller;\nexport default controller;","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","export const APP_NAME = \"IMNut Web\";\n\nexport const PHOTO_SIZE = 320;\nexport const PHOTO_THUMBNAIL_SIZE = 90;\nexport const PHOTO_DISPLAY_SIZE = 420;\n\n\nexport const SCROLL_PRECISION = 200;\n\nexport const ANIMATION_DURATION_100MS = 100;\nexport const ANIMATION_DURATION_200MS = 200;\nexport const ANIMATION_DURATION_300MS = 300;\nexport const ANIMATION_DURATION_500MS = 500;\n\n\nexport const WS_URL = process.env.NODE_ENV === \"production\" ? \"wss://imweb.bapi.app/chat\" : \"wss://203.195.155.183:444\";\nconst BASE_URL_PRODUCTION = 'https://sdk.b.app';\nconst BASE_URL_TEST = 'http://sdk.wdrange.com.cn';\nconst BASE_URL = process.env.NODE_ENV === \"production\" ? BASE_URL_PRODUCTION : BASE_URL_TEST;\nexport const AUTH_URL = BASE_URL + \"/api/third/im/auth\";\nexport const AUTH_INFO_URL = BASE_URL + \"/api/third/im/authInfo\";\nexport const CLIENT_PROFILE_URL = BASE_URL + \"/api/im/userProfile\";\nexport const CLIENT_UPLOAD_URL = BASE_URL + \"/aapi/upload\";\n\nexport const KEY_AUTH_STATE = 'auth';","/**\n * @fileoverview\n * @enhanceable\n * @suppress {messageConventions} JS Compiler reports an error if a variable or\n *     field starts with 'MSG_' and isn't a translatable message.\n * @public\n */\n// GENERATED CODE -- DO NOT EDIT!\n\nvar jspb = require('google-protobuf');\nvar goog = jspb;\nvar global = Function('return this')();\n\nvar msg_pb = require('./msg_pb.js');\ngoog.object.extend(proto, msg_pb);\nvar conversation_pb = require('./conversation_pb.js');\ngoog.object.extend(proto, conversation_pb);\ngoog.exportSymbol('proto.IMNut.BotMsg', null, global);\ngoog.exportSymbol('proto.IMNut.Code', null, global);\ngoog.exportSymbol('proto.IMNut.IMAck', null, global);\ngoog.exportSymbol('proto.IMNut.IMOperation', null, global);\ngoog.exportSymbol('proto.IMNut.IMRequest', null, global);\ngoog.exportSymbol('proto.IMNut.IMResponse', null, global);\ngoog.exportSymbol('proto.IMNut.MchMsg', null, global);\ngoog.exportSymbol('proto.IMNut.MessagePull', null, global);\ngoog.exportSymbol('proto.IMNut.MessageUpdate', null, global);\ngoog.exportSymbol('proto.IMNut.NatsMsg', null, global);\ngoog.exportSymbol('proto.IMNut.OnlineState', null, global);\ngoog.exportSymbol('proto.IMNut.OpResult', null, global);\ngoog.exportSymbol('proto.IMNut.StateMessage', null, global);\ngoog.exportSymbol('proto.IMNut.TgtBotMsg', null, global);\ngoog.exportSymbol('proto.IMNut.TgtGroupMemberAdded', null, global);\ngoog.exportSymbol('proto.IMNut.TgtGroupMemberRemoved', null, global);\ngoog.exportSymbol('proto.IMNut.TgtMchMsg', null, global);\ngoog.exportSymbol('proto.IMNut.TgtMsgPush', null, global);\ngoog.exportSymbol('proto.IMNut.TgtPeerState', null, global);\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.StateMessage = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.IMNut.StateMessage, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.StateMessage.displayName = 'proto.IMNut.StateMessage';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.NatsMsg = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.IMNut.NatsMsg, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.NatsMsg.displayName = 'proto.IMNut.NatsMsg';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.IMAck = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.IMNut.IMAck, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.IMAck.displayName = 'proto.IMNut.IMAck';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.IMRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.IMNut.IMRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.IMRequest.displayName = 'proto.IMNut.IMRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.IMResponse = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.IMNut.IMResponse, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.IMResponse.displayName = 'proto.IMNut.IMResponse';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.OpResult = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.IMNut.OpResult, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.OpResult.displayName = 'proto.IMNut.OpResult';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.TgtMsgPush = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.IMNut.TgtMsgPush, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.TgtMsgPush.displayName = 'proto.IMNut.TgtMsgPush';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.TgtPeerState = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.IMNut.TgtPeerState, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.TgtPeerState.displayName = 'proto.IMNut.TgtPeerState';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.MessagePull = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.IMNut.MessagePull, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.MessagePull.displayName = 'proto.IMNut.MessagePull';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.MessageUpdate = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.IMNut.MessageUpdate, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.MessageUpdate.displayName = 'proto.IMNut.MessageUpdate';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.TgtGroupMemberAdded = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.IMNut.TgtGroupMemberAdded, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.TgtGroupMemberAdded.displayName = 'proto.IMNut.TgtGroupMemberAdded';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.TgtGroupMemberRemoved = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.IMNut.TgtGroupMemberRemoved, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.TgtGroupMemberRemoved.displayName = 'proto.IMNut.TgtGroupMemberRemoved';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.MchMsg = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, proto.IMNut.MchMsg.repeatedFields_, null);\n};\ngoog.inherits(proto.IMNut.MchMsg, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.MchMsg.displayName = 'proto.IMNut.MchMsg';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.TgtMchMsg = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.IMNut.TgtMchMsg, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.TgtMchMsg.displayName = 'proto.IMNut.TgtMchMsg';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.BotMsg = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, proto.IMNut.BotMsg.repeatedFields_, null);\n};\ngoog.inherits(proto.IMNut.BotMsg, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.BotMsg.displayName = 'proto.IMNut.BotMsg';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.TgtBotMsg = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.IMNut.TgtBotMsg, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.TgtBotMsg.displayName = 'proto.IMNut.TgtBotMsg';\n}\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.StateMessage.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.StateMessage.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.StateMessage} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.StateMessage.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    state: jspb.Message.getFieldWithDefault(msg, 1, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.StateMessage}\n */\nproto.IMNut.StateMessage.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.StateMessage;\n  return proto.IMNut.StateMessage.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.StateMessage} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.StateMessage}\n */\nproto.IMNut.StateMessage.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {!proto.IMNut.OnlineState} */ (reader.readEnum());\n      msg.setState(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.StateMessage.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.StateMessage.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.StateMessage} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.StateMessage.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getState();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      1,\n      f\n    );\n  }\n};\n\n\n/**\n * optional OnlineState state = 1;\n * @return {!proto.IMNut.OnlineState}\n */\nproto.IMNut.StateMessage.prototype.getState = function() {\n  return /** @type {!proto.IMNut.OnlineState} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/** @param {!proto.IMNut.OnlineState} value */\nproto.IMNut.StateMessage.prototype.setState = function(value) {\n  jspb.Message.setProto3EnumField(this, 1, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.NatsMsg.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.NatsMsg.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.NatsMsg} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.NatsMsg.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    operation: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    blob: msg.getBlob_asB64()\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.NatsMsg}\n */\nproto.IMNut.NatsMsg.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.NatsMsg;\n  return proto.IMNut.NatsMsg.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.NatsMsg} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.NatsMsg}\n */\nproto.IMNut.NatsMsg.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {!proto.IMNut.IMOperation} */ (reader.readEnum());\n      msg.setOperation(value);\n      break;\n    case 2:\n      var value = /** @type {!Uint8Array} */ (reader.readBytes());\n      msg.setBlob(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.NatsMsg.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.NatsMsg.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.NatsMsg} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.NatsMsg.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getOperation();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      1,\n      f\n    );\n  }\n  f = message.getBlob_asU8();\n  if (f.length > 0) {\n    writer.writeBytes(\n      2,\n      f\n    );\n  }\n};\n\n\n/**\n * optional IMOperation operation = 1;\n * @return {!proto.IMNut.IMOperation}\n */\nproto.IMNut.NatsMsg.prototype.getOperation = function() {\n  return /** @type {!proto.IMNut.IMOperation} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/** @param {!proto.IMNut.IMOperation} value */\nproto.IMNut.NatsMsg.prototype.setOperation = function(value) {\n  jspb.Message.setProto3EnumField(this, 1, value);\n};\n\n\n/**\n * optional bytes blob = 2;\n * @return {!(string|Uint8Array)}\n */\nproto.IMNut.NatsMsg.prototype.getBlob = function() {\n  return /** @type {!(string|Uint8Array)} */ (jspb.Message.getFieldWithDefault(this, 2, \"\"));\n};\n\n\n/**\n * optional bytes blob = 2;\n * This is a type-conversion wrapper around `getBlob()`\n * @return {string}\n */\nproto.IMNut.NatsMsg.prototype.getBlob_asB64 = function() {\n  return /** @type {string} */ (jspb.Message.bytesAsB64(\n      this.getBlob()));\n};\n\n\n/**\n * optional bytes blob = 2;\n * Note that Uint8Array is not supported on all browsers.\n * @see http://caniuse.com/Uint8Array\n * This is a type-conversion wrapper around `getBlob()`\n * @return {!Uint8Array}\n */\nproto.IMNut.NatsMsg.prototype.getBlob_asU8 = function() {\n  return /** @type {!Uint8Array} */ (jspb.Message.bytesAsU8(\n      this.getBlob()));\n};\n\n\n/** @param {!(string|Uint8Array)} value */\nproto.IMNut.NatsMsg.prototype.setBlob = function(value) {\n  jspb.Message.setProto3BytesField(this, 2, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.IMAck.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.IMAck.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.IMAck} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.IMAck.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    operation: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    blob: msg.getBlob_asB64()\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.IMAck}\n */\nproto.IMNut.IMAck.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.IMAck;\n  return proto.IMNut.IMAck.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.IMAck} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.IMAck}\n */\nproto.IMNut.IMAck.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {!proto.IMNut.IMOperation} */ (reader.readEnum());\n      msg.setOperation(value);\n      break;\n    case 2:\n      var value = /** @type {!Uint8Array} */ (reader.readBytes());\n      msg.setBlob(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.IMAck.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.IMAck.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.IMAck} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.IMAck.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getOperation();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      1,\n      f\n    );\n  }\n  f = message.getBlob_asU8();\n  if (f.length > 0) {\n    writer.writeBytes(\n      2,\n      f\n    );\n  }\n};\n\n\n/**\n * optional IMOperation operation = 1;\n * @return {!proto.IMNut.IMOperation}\n */\nproto.IMNut.IMAck.prototype.getOperation = function() {\n  return /** @type {!proto.IMNut.IMOperation} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/** @param {!proto.IMNut.IMOperation} value */\nproto.IMNut.IMAck.prototype.setOperation = function(value) {\n  jspb.Message.setProto3EnumField(this, 1, value);\n};\n\n\n/**\n * optional bytes blob = 2;\n * @return {!(string|Uint8Array)}\n */\nproto.IMNut.IMAck.prototype.getBlob = function() {\n  return /** @type {!(string|Uint8Array)} */ (jspb.Message.getFieldWithDefault(this, 2, \"\"));\n};\n\n\n/**\n * optional bytes blob = 2;\n * This is a type-conversion wrapper around `getBlob()`\n * @return {string}\n */\nproto.IMNut.IMAck.prototype.getBlob_asB64 = function() {\n  return /** @type {string} */ (jspb.Message.bytesAsB64(\n      this.getBlob()));\n};\n\n\n/**\n * optional bytes blob = 2;\n * Note that Uint8Array is not supported on all browsers.\n * @see http://caniuse.com/Uint8Array\n * This is a type-conversion wrapper around `getBlob()`\n * @return {!Uint8Array}\n */\nproto.IMNut.IMAck.prototype.getBlob_asU8 = function() {\n  return /** @type {!Uint8Array} */ (jspb.Message.bytesAsU8(\n      this.getBlob()));\n};\n\n\n/** @param {!(string|Uint8Array)} value */\nproto.IMNut.IMAck.prototype.setBlob = function(value) {\n  jspb.Message.setProto3BytesField(this, 2, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.IMRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.IMRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.IMRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.IMRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    operation: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    cid: jspb.Message.getFieldWithDefault(msg, 2, \"\"),\n    conversation: (f = msg.getConversation()) && conversation_pb.Conversation.toObject(includeInstance, f),\n    msg: (f = msg.getMsg()) && msg_pb.Msg.toObject(includeInstance, f),\n    blob: msg.getBlob_asB64(),\n    ts: jspb.Message.getFieldWithDefault(msg, 10, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.IMRequest}\n */\nproto.IMNut.IMRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.IMRequest;\n  return proto.IMNut.IMRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.IMRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.IMRequest}\n */\nproto.IMNut.IMRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {!proto.IMNut.IMOperation} */ (reader.readEnum());\n      msg.setOperation(value);\n      break;\n    case 2:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setCid(value);\n      break;\n    case 3:\n      var value = new conversation_pb.Conversation;\n      reader.readMessage(value,conversation_pb.Conversation.deserializeBinaryFromReader);\n      msg.setConversation(value);\n      break;\n    case 4:\n      var value = new msg_pb.Msg;\n      reader.readMessage(value,msg_pb.Msg.deserializeBinaryFromReader);\n      msg.setMsg(value);\n      break;\n    case 5:\n      var value = /** @type {!Uint8Array} */ (reader.readBytes());\n      msg.setBlob(value);\n      break;\n    case 10:\n      var value = /** @type {number} */ (reader.readInt64());\n      msg.setTs(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.IMRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.IMRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.IMRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.IMRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getOperation();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      1,\n      f\n    );\n  }\n  f = message.getCid();\n  if (f.length > 0) {\n    writer.writeString(\n      2,\n      f\n    );\n  }\n  f = message.getConversation();\n  if (f != null) {\n    writer.writeMessage(\n      3,\n      f,\n      conversation_pb.Conversation.serializeBinaryToWriter\n    );\n  }\n  f = message.getMsg();\n  if (f != null) {\n    writer.writeMessage(\n      4,\n      f,\n      msg_pb.Msg.serializeBinaryToWriter\n    );\n  }\n  f = message.getBlob_asU8();\n  if (f.length > 0) {\n    writer.writeBytes(\n      5,\n      f\n    );\n  }\n  f = message.getTs();\n  if (f !== 0) {\n    writer.writeInt64(\n      10,\n      f\n    );\n  }\n};\n\n\n/**\n * optional IMOperation operation = 1;\n * @return {!proto.IMNut.IMOperation}\n */\nproto.IMNut.IMRequest.prototype.getOperation = function() {\n  return /** @type {!proto.IMNut.IMOperation} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/** @param {!proto.IMNut.IMOperation} value */\nproto.IMNut.IMRequest.prototype.setOperation = function(value) {\n  jspb.Message.setProto3EnumField(this, 1, value);\n};\n\n\n/**\n * optional string cid = 2;\n * @return {string}\n */\nproto.IMNut.IMRequest.prototype.getCid = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 2, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.IMRequest.prototype.setCid = function(value) {\n  jspb.Message.setProto3StringField(this, 2, value);\n};\n\n\n/**\n * optional Conversation conversation = 3;\n * @return {?proto.IMNut.Conversation}\n */\nproto.IMNut.IMRequest.prototype.getConversation = function() {\n  return /** @type{?proto.IMNut.Conversation} */ (\n    jspb.Message.getWrapperField(this, conversation_pb.Conversation, 3));\n};\n\n\n/** @param {?proto.IMNut.Conversation|undefined} value */\nproto.IMNut.IMRequest.prototype.setConversation = function(value) {\n  jspb.Message.setWrapperField(this, 3, value);\n};\n\n\n/**\n * Clears the message field making it undefined.\n */\nproto.IMNut.IMRequest.prototype.clearConversation = function() {\n  this.setConversation(undefined);\n};\n\n\n/**\n * Returns whether this field is set.\n * @return {boolean}\n */\nproto.IMNut.IMRequest.prototype.hasConversation = function() {\n  return jspb.Message.getField(this, 3) != null;\n};\n\n\n/**\n * optional Msg msg = 4;\n * @return {?proto.IMNut.Msg}\n */\nproto.IMNut.IMRequest.prototype.getMsg = function() {\n  return /** @type{?proto.IMNut.Msg} */ (\n    jspb.Message.getWrapperField(this, msg_pb.Msg, 4));\n};\n\n\n/** @param {?proto.IMNut.Msg|undefined} value */\nproto.IMNut.IMRequest.prototype.setMsg = function(value) {\n  jspb.Message.setWrapperField(this, 4, value);\n};\n\n\n/**\n * Clears the message field making it undefined.\n */\nproto.IMNut.IMRequest.prototype.clearMsg = function() {\n  this.setMsg(undefined);\n};\n\n\n/**\n * Returns whether this field is set.\n * @return {boolean}\n */\nproto.IMNut.IMRequest.prototype.hasMsg = function() {\n  return jspb.Message.getField(this, 4) != null;\n};\n\n\n/**\n * optional bytes blob = 5;\n * @return {!(string|Uint8Array)}\n */\nproto.IMNut.IMRequest.prototype.getBlob = function() {\n  return /** @type {!(string|Uint8Array)} */ (jspb.Message.getFieldWithDefault(this, 5, \"\"));\n};\n\n\n/**\n * optional bytes blob = 5;\n * This is a type-conversion wrapper around `getBlob()`\n * @return {string}\n */\nproto.IMNut.IMRequest.prototype.getBlob_asB64 = function() {\n  return /** @type {string} */ (jspb.Message.bytesAsB64(\n      this.getBlob()));\n};\n\n\n/**\n * optional bytes blob = 5;\n * Note that Uint8Array is not supported on all browsers.\n * @see http://caniuse.com/Uint8Array\n * This is a type-conversion wrapper around `getBlob()`\n * @return {!Uint8Array}\n */\nproto.IMNut.IMRequest.prototype.getBlob_asU8 = function() {\n  return /** @type {!Uint8Array} */ (jspb.Message.bytesAsU8(\n      this.getBlob()));\n};\n\n\n/** @param {!(string|Uint8Array)} value */\nproto.IMNut.IMRequest.prototype.setBlob = function(value) {\n  jspb.Message.setProto3BytesField(this, 5, value);\n};\n\n\n/**\n * optional int64 ts = 10;\n * @return {number}\n */\nproto.IMNut.IMRequest.prototype.getTs = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 10, 0));\n};\n\n\n/** @param {number} value */\nproto.IMNut.IMRequest.prototype.setTs = function(value) {\n  jspb.Message.setProto3IntField(this, 10, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.IMResponse.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.IMResponse.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.IMResponse} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.IMResponse.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    operation: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    cid: jspb.Message.getFieldWithDefault(msg, 2, \"\"),\n    blob: msg.getBlob_asB64(),\n    ts: jspb.Message.getFieldWithDefault(msg, 10, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.IMResponse}\n */\nproto.IMNut.IMResponse.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.IMResponse;\n  return proto.IMNut.IMResponse.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.IMResponse} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.IMResponse}\n */\nproto.IMNut.IMResponse.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {!proto.IMNut.IMOperation} */ (reader.readEnum());\n      msg.setOperation(value);\n      break;\n    case 2:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setCid(value);\n      break;\n    case 3:\n      var value = /** @type {!Uint8Array} */ (reader.readBytes());\n      msg.setBlob(value);\n      break;\n    case 10:\n      var value = /** @type {number} */ (reader.readInt64());\n      msg.setTs(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.IMResponse.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.IMResponse.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.IMResponse} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.IMResponse.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getOperation();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      1,\n      f\n    );\n  }\n  f = message.getCid();\n  if (f.length > 0) {\n    writer.writeString(\n      2,\n      f\n    );\n  }\n  f = message.getBlob_asU8();\n  if (f.length > 0) {\n    writer.writeBytes(\n      3,\n      f\n    );\n  }\n  f = message.getTs();\n  if (f !== 0) {\n    writer.writeInt64(\n      10,\n      f\n    );\n  }\n};\n\n\n/**\n * optional IMOperation operation = 1;\n * @return {!proto.IMNut.IMOperation}\n */\nproto.IMNut.IMResponse.prototype.getOperation = function() {\n  return /** @type {!proto.IMNut.IMOperation} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/** @param {!proto.IMNut.IMOperation} value */\nproto.IMNut.IMResponse.prototype.setOperation = function(value) {\n  jspb.Message.setProto3EnumField(this, 1, value);\n};\n\n\n/**\n * optional string cid = 2;\n * @return {string}\n */\nproto.IMNut.IMResponse.prototype.getCid = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 2, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.IMResponse.prototype.setCid = function(value) {\n  jspb.Message.setProto3StringField(this, 2, value);\n};\n\n\n/**\n * optional bytes blob = 3;\n * @return {!(string|Uint8Array)}\n */\nproto.IMNut.IMResponse.prototype.getBlob = function() {\n  return /** @type {!(string|Uint8Array)} */ (jspb.Message.getFieldWithDefault(this, 3, \"\"));\n};\n\n\n/**\n * optional bytes blob = 3;\n * This is a type-conversion wrapper around `getBlob()`\n * @return {string}\n */\nproto.IMNut.IMResponse.prototype.getBlob_asB64 = function() {\n  return /** @type {string} */ (jspb.Message.bytesAsB64(\n      this.getBlob()));\n};\n\n\n/**\n * optional bytes blob = 3;\n * Note that Uint8Array is not supported on all browsers.\n * @see http://caniuse.com/Uint8Array\n * This is a type-conversion wrapper around `getBlob()`\n * @return {!Uint8Array}\n */\nproto.IMNut.IMResponse.prototype.getBlob_asU8 = function() {\n  return /** @type {!Uint8Array} */ (jspb.Message.bytesAsU8(\n      this.getBlob()));\n};\n\n\n/** @param {!(string|Uint8Array)} value */\nproto.IMNut.IMResponse.prototype.setBlob = function(value) {\n  jspb.Message.setProto3BytesField(this, 3, value);\n};\n\n\n/**\n * optional int64 ts = 10;\n * @return {number}\n */\nproto.IMNut.IMResponse.prototype.getTs = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 10, 0));\n};\n\n\n/** @param {number} value */\nproto.IMNut.IMResponse.prototype.setTs = function(value) {\n  jspb.Message.setProto3IntField(this, 10, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.OpResult.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.OpResult.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.OpResult} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.OpResult.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    code: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    msg: jspb.Message.getFieldWithDefault(msg, 2, \"\"),\n    blob: msg.getBlob_asB64()\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.OpResult}\n */\nproto.IMNut.OpResult.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.OpResult;\n  return proto.IMNut.OpResult.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.OpResult} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.OpResult}\n */\nproto.IMNut.OpResult.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {!proto.IMNut.Code} */ (reader.readEnum());\n      msg.setCode(value);\n      break;\n    case 2:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setMsg(value);\n      break;\n    case 3:\n      var value = /** @type {!Uint8Array} */ (reader.readBytes());\n      msg.setBlob(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.OpResult.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.OpResult.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.OpResult} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.OpResult.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getCode();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      1,\n      f\n    );\n  }\n  f = message.getMsg();\n  if (f.length > 0) {\n    writer.writeString(\n      2,\n      f\n    );\n  }\n  f = message.getBlob_asU8();\n  if (f.length > 0) {\n    writer.writeBytes(\n      3,\n      f\n    );\n  }\n};\n\n\n/**\n * optional Code code = 1;\n * @return {!proto.IMNut.Code}\n */\nproto.IMNut.OpResult.prototype.getCode = function() {\n  return /** @type {!proto.IMNut.Code} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/** @param {!proto.IMNut.Code} value */\nproto.IMNut.OpResult.prototype.setCode = function(value) {\n  jspb.Message.setProto3EnumField(this, 1, value);\n};\n\n\n/**\n * optional string msg = 2;\n * @return {string}\n */\nproto.IMNut.OpResult.prototype.getMsg = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 2, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.OpResult.prototype.setMsg = function(value) {\n  jspb.Message.setProto3StringField(this, 2, value);\n};\n\n\n/**\n * optional bytes blob = 3;\n * @return {!(string|Uint8Array)}\n */\nproto.IMNut.OpResult.prototype.getBlob = function() {\n  return /** @type {!(string|Uint8Array)} */ (jspb.Message.getFieldWithDefault(this, 3, \"\"));\n};\n\n\n/**\n * optional bytes blob = 3;\n * This is a type-conversion wrapper around `getBlob()`\n * @return {string}\n */\nproto.IMNut.OpResult.prototype.getBlob_asB64 = function() {\n  return /** @type {string} */ (jspb.Message.bytesAsB64(\n      this.getBlob()));\n};\n\n\n/**\n * optional bytes blob = 3;\n * Note that Uint8Array is not supported on all browsers.\n * @see http://caniuse.com/Uint8Array\n * This is a type-conversion wrapper around `getBlob()`\n * @return {!Uint8Array}\n */\nproto.IMNut.OpResult.prototype.getBlob_asU8 = function() {\n  return /** @type {!Uint8Array} */ (jspb.Message.bytesAsU8(\n      this.getBlob()));\n};\n\n\n/** @param {!(string|Uint8Array)} value */\nproto.IMNut.OpResult.prototype.setBlob = function(value) {\n  jspb.Message.setProto3BytesField(this, 3, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.TgtMsgPush.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.TgtMsgPush.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.TgtMsgPush} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.TgtMsgPush.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    c: jspb.Message.getFieldWithDefault(msg, 1, \"\")\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.TgtMsgPush}\n */\nproto.IMNut.TgtMsgPush.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.TgtMsgPush;\n  return proto.IMNut.TgtMsgPush.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.TgtMsgPush} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.TgtMsgPush}\n */\nproto.IMNut.TgtMsgPush.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setC(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.TgtMsgPush.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.TgtMsgPush.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.TgtMsgPush} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.TgtMsgPush.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getC();\n  if (f.length > 0) {\n    writer.writeString(\n      1,\n      f\n    );\n  }\n};\n\n\n/**\n * optional string c = 1;\n * @return {string}\n */\nproto.IMNut.TgtMsgPush.prototype.getC = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 1, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.TgtMsgPush.prototype.setC = function(value) {\n  jspb.Message.setProto3StringField(this, 1, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.TgtPeerState.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.TgtPeerState.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.TgtPeerState} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.TgtPeerState.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    cid: jspb.Message.getFieldWithDefault(msg, 1, \"\"),\n    login: jspb.Message.getFieldWithDefault(msg, 2, false)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.TgtPeerState}\n */\nproto.IMNut.TgtPeerState.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.TgtPeerState;\n  return proto.IMNut.TgtPeerState.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.TgtPeerState} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.TgtPeerState}\n */\nproto.IMNut.TgtPeerState.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setCid(value);\n      break;\n    case 2:\n      var value = /** @type {boolean} */ (reader.readBool());\n      msg.setLogin(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.TgtPeerState.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.TgtPeerState.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.TgtPeerState} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.TgtPeerState.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getCid();\n  if (f.length > 0) {\n    writer.writeString(\n      1,\n      f\n    );\n  }\n  f = message.getLogin();\n  if (f) {\n    writer.writeBool(\n      2,\n      f\n    );\n  }\n};\n\n\n/**\n * optional string cid = 1;\n * @return {string}\n */\nproto.IMNut.TgtPeerState.prototype.getCid = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 1, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.TgtPeerState.prototype.setCid = function(value) {\n  jspb.Message.setProto3StringField(this, 1, value);\n};\n\n\n/**\n * optional bool login = 2;\n * Note that Boolean fields may be set to 0/1 when serialized from a Java server.\n * You should avoid comparisons like {@code val === true/false} in those cases.\n * @return {boolean}\n */\nproto.IMNut.TgtPeerState.prototype.getLogin = function() {\n  return /** @type {boolean} */ (jspb.Message.getFieldWithDefault(this, 2, false));\n};\n\n\n/** @param {boolean} value */\nproto.IMNut.TgtPeerState.prototype.setLogin = function(value) {\n  jspb.Message.setProto3BooleanField(this, 2, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.MessagePull.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.MessagePull.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.MessagePull} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.MessagePull.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    convid: jspb.Message.getFieldWithDefault(msg, 1, \"\"),\n    msgid: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    direct: jspb.Message.getFieldWithDefault(msg, 3, false),\n    limit: jspb.Message.getFieldWithDefault(msg, 4, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.MessagePull}\n */\nproto.IMNut.MessagePull.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.MessagePull;\n  return proto.IMNut.MessagePull.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.MessagePull} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.MessagePull}\n */\nproto.IMNut.MessagePull.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setConvid(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readInt64());\n      msg.setMsgid(value);\n      break;\n    case 3:\n      var value = /** @type {boolean} */ (reader.readBool());\n      msg.setDirect(value);\n      break;\n    case 4:\n      var value = /** @type {number} */ (reader.readInt32());\n      msg.setLimit(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.MessagePull.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.MessagePull.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.MessagePull} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.MessagePull.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getConvid();\n  if (f.length > 0) {\n    writer.writeString(\n      1,\n      f\n    );\n  }\n  f = message.getMsgid();\n  if (f !== 0) {\n    writer.writeInt64(\n      2,\n      f\n    );\n  }\n  f = message.getDirect();\n  if (f) {\n    writer.writeBool(\n      3,\n      f\n    );\n  }\n  f = message.getLimit();\n  if (f !== 0) {\n    writer.writeInt32(\n      4,\n      f\n    );\n  }\n};\n\n\n/**\n * optional string convId = 1;\n * @return {string}\n */\nproto.IMNut.MessagePull.prototype.getConvid = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 1, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.MessagePull.prototype.setConvid = function(value) {\n  jspb.Message.setProto3StringField(this, 1, value);\n};\n\n\n/**\n * optional int64 msgId = 2;\n * @return {number}\n */\nproto.IMNut.MessagePull.prototype.getMsgid = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/** @param {number} value */\nproto.IMNut.MessagePull.prototype.setMsgid = function(value) {\n  jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional bool direct = 3;\n * Note that Boolean fields may be set to 0/1 when serialized from a Java server.\n * You should avoid comparisons like {@code val === true/false} in those cases.\n * @return {boolean}\n */\nproto.IMNut.MessagePull.prototype.getDirect = function() {\n  return /** @type {boolean} */ (jspb.Message.getFieldWithDefault(this, 3, false));\n};\n\n\n/** @param {boolean} value */\nproto.IMNut.MessagePull.prototype.setDirect = function(value) {\n  jspb.Message.setProto3BooleanField(this, 3, value);\n};\n\n\n/**\n * optional int32 limit = 4;\n * @return {number}\n */\nproto.IMNut.MessagePull.prototype.getLimit = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 4, 0));\n};\n\n\n/** @param {number} value */\nproto.IMNut.MessagePull.prototype.setLimit = function(value) {\n  jspb.Message.setProto3IntField(this, 4, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.MessageUpdate.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.MessageUpdate.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.MessageUpdate} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.MessageUpdate.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    convid: jspb.Message.getFieldWithDefault(msg, 1, \"\"),\n    msgid: jspb.Message.getFieldWithDefault(msg, 2, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.MessageUpdate}\n */\nproto.IMNut.MessageUpdate.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.MessageUpdate;\n  return proto.IMNut.MessageUpdate.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.MessageUpdate} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.MessageUpdate}\n */\nproto.IMNut.MessageUpdate.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setConvid(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readInt64());\n      msg.setMsgid(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.MessageUpdate.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.MessageUpdate.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.MessageUpdate} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.MessageUpdate.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getConvid();\n  if (f.length > 0) {\n    writer.writeString(\n      1,\n      f\n    );\n  }\n  f = message.getMsgid();\n  if (f !== 0) {\n    writer.writeInt64(\n      2,\n      f\n    );\n  }\n};\n\n\n/**\n * optional string convId = 1;\n * @return {string}\n */\nproto.IMNut.MessageUpdate.prototype.getConvid = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 1, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.MessageUpdate.prototype.setConvid = function(value) {\n  jspb.Message.setProto3StringField(this, 1, value);\n};\n\n\n/**\n * optional int64 msgId = 2;\n * @return {number}\n */\nproto.IMNut.MessageUpdate.prototype.getMsgid = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/** @param {number} value */\nproto.IMNut.MessageUpdate.prototype.setMsgid = function(value) {\n  jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.TgtGroupMemberAdded.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.TgtGroupMemberAdded.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.TgtGroupMemberAdded} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.TgtGroupMemberAdded.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    convid: jspb.Message.getFieldWithDefault(msg, 1, \"\"),\n    invitor: jspb.Message.getFieldWithDefault(msg, 2, \"\")\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.TgtGroupMemberAdded}\n */\nproto.IMNut.TgtGroupMemberAdded.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.TgtGroupMemberAdded;\n  return proto.IMNut.TgtGroupMemberAdded.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.TgtGroupMemberAdded} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.TgtGroupMemberAdded}\n */\nproto.IMNut.TgtGroupMemberAdded.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setConvid(value);\n      break;\n    case 2:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setInvitor(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.TgtGroupMemberAdded.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.TgtGroupMemberAdded.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.TgtGroupMemberAdded} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.TgtGroupMemberAdded.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getConvid();\n  if (f.length > 0) {\n    writer.writeString(\n      1,\n      f\n    );\n  }\n  f = message.getInvitor();\n  if (f.length > 0) {\n    writer.writeString(\n      2,\n      f\n    );\n  }\n};\n\n\n/**\n * optional string convId = 1;\n * @return {string}\n */\nproto.IMNut.TgtGroupMemberAdded.prototype.getConvid = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 1, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.TgtGroupMemberAdded.prototype.setConvid = function(value) {\n  jspb.Message.setProto3StringField(this, 1, value);\n};\n\n\n/**\n * optional string invitor = 2;\n * @return {string}\n */\nproto.IMNut.TgtGroupMemberAdded.prototype.getInvitor = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 2, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.TgtGroupMemberAdded.prototype.setInvitor = function(value) {\n  jspb.Message.setProto3StringField(this, 2, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.TgtGroupMemberRemoved.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.TgtGroupMemberRemoved.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.TgtGroupMemberRemoved} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.TgtGroupMemberRemoved.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    convid: jspb.Message.getFieldWithDefault(msg, 1, \"\"),\n    leaver: jspb.Message.getFieldWithDefault(msg, 2, \"\"),\n    kicker: jspb.Message.getFieldWithDefault(msg, 3, \"\")\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.TgtGroupMemberRemoved}\n */\nproto.IMNut.TgtGroupMemberRemoved.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.TgtGroupMemberRemoved;\n  return proto.IMNut.TgtGroupMemberRemoved.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.TgtGroupMemberRemoved} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.TgtGroupMemberRemoved}\n */\nproto.IMNut.TgtGroupMemberRemoved.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setConvid(value);\n      break;\n    case 2:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setLeaver(value);\n      break;\n    case 3:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setKicker(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.TgtGroupMemberRemoved.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.TgtGroupMemberRemoved.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.TgtGroupMemberRemoved} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.TgtGroupMemberRemoved.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getConvid();\n  if (f.length > 0) {\n    writer.writeString(\n      1,\n      f\n    );\n  }\n  f = message.getLeaver();\n  if (f.length > 0) {\n    writer.writeString(\n      2,\n      f\n    );\n  }\n  f = message.getKicker();\n  if (f.length > 0) {\n    writer.writeString(\n      3,\n      f\n    );\n  }\n};\n\n\n/**\n * optional string convId = 1;\n * @return {string}\n */\nproto.IMNut.TgtGroupMemberRemoved.prototype.getConvid = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 1, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.TgtGroupMemberRemoved.prototype.setConvid = function(value) {\n  jspb.Message.setProto3StringField(this, 1, value);\n};\n\n\n/**\n * optional string leaver = 2;\n * @return {string}\n */\nproto.IMNut.TgtGroupMemberRemoved.prototype.getLeaver = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 2, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.TgtGroupMemberRemoved.prototype.setLeaver = function(value) {\n  jspb.Message.setProto3StringField(this, 2, value);\n};\n\n\n/**\n * optional string kicker = 3;\n * @return {string}\n */\nproto.IMNut.TgtGroupMemberRemoved.prototype.getKicker = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 3, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.TgtGroupMemberRemoved.prototype.setKicker = function(value) {\n  jspb.Message.setProto3StringField(this, 3, value);\n};\n\n\n\n/**\n * List of repeated fields within this message type.\n * @private {!Array<number>}\n * @const\n */\nproto.IMNut.MchMsg.repeatedFields_ = [2];\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.MchMsg.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.MchMsg.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.MchMsg} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.MchMsg.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    fromid: jspb.Message.getFieldWithDefault(msg, 1, \"\"),\n    tocidList: jspb.Message.getRepeatedField(msg, 2),\n    message: msg.getMessage_asB64(),\n    hash: jspb.Message.getFieldWithDefault(msg, 4, \"\"),\n    ts: jspb.Message.getFieldWithDefault(msg, 5, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.MchMsg}\n */\nproto.IMNut.MchMsg.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.MchMsg;\n  return proto.IMNut.MchMsg.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.MchMsg} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.MchMsg}\n */\nproto.IMNut.MchMsg.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setFromid(value);\n      break;\n    case 2:\n      var value = /** @type {string} */ (reader.readString());\n      msg.addTocid(value);\n      break;\n    case 3:\n      var value = /** @type {!Uint8Array} */ (reader.readBytes());\n      msg.setMessage(value);\n      break;\n    case 4:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setHash(value);\n      break;\n    case 5:\n      var value = /** @type {number} */ (reader.readInt64());\n      msg.setTs(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.MchMsg.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.MchMsg.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.MchMsg} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.MchMsg.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getFromid();\n  if (f.length > 0) {\n    writer.writeString(\n      1,\n      f\n    );\n  }\n  f = message.getTocidList();\n  if (f.length > 0) {\n    writer.writeRepeatedString(\n      2,\n      f\n    );\n  }\n  f = message.getMessage_asU8();\n  if (f.length > 0) {\n    writer.writeBytes(\n      3,\n      f\n    );\n  }\n  f = message.getHash();\n  if (f.length > 0) {\n    writer.writeString(\n      4,\n      f\n    );\n  }\n  f = message.getTs();\n  if (f !== 0) {\n    writer.writeInt64(\n      5,\n      f\n    );\n  }\n};\n\n\n/**\n * optional string fromId = 1;\n * @return {string}\n */\nproto.IMNut.MchMsg.prototype.getFromid = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 1, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.MchMsg.prototype.setFromid = function(value) {\n  jspb.Message.setProto3StringField(this, 1, value);\n};\n\n\n/**\n * repeated string toCid = 2;\n * @return {!Array<string>}\n */\nproto.IMNut.MchMsg.prototype.getTocidList = function() {\n  return /** @type {!Array<string>} */ (jspb.Message.getRepeatedField(this, 2));\n};\n\n\n/** @param {!Array<string>} value */\nproto.IMNut.MchMsg.prototype.setTocidList = function(value) {\n  jspb.Message.setField(this, 2, value || []);\n};\n\n\n/**\n * @param {string} value\n * @param {number=} opt_index\n */\nproto.IMNut.MchMsg.prototype.addTocid = function(value, opt_index) {\n  jspb.Message.addToRepeatedField(this, 2, value, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n */\nproto.IMNut.MchMsg.prototype.clearTocidList = function() {\n  this.setTocidList([]);\n};\n\n\n/**\n * optional bytes message = 3;\n * @return {!(string|Uint8Array)}\n */\nproto.IMNut.MchMsg.prototype.getMessage = function() {\n  return /** @type {!(string|Uint8Array)} */ (jspb.Message.getFieldWithDefault(this, 3, \"\"));\n};\n\n\n/**\n * optional bytes message = 3;\n * This is a type-conversion wrapper around `getMessage()`\n * @return {string}\n */\nproto.IMNut.MchMsg.prototype.getMessage_asB64 = function() {\n  return /** @type {string} */ (jspb.Message.bytesAsB64(\n      this.getMessage()));\n};\n\n\n/**\n * optional bytes message = 3;\n * Note that Uint8Array is not supported on all browsers.\n * @see http://caniuse.com/Uint8Array\n * This is a type-conversion wrapper around `getMessage()`\n * @return {!Uint8Array}\n */\nproto.IMNut.MchMsg.prototype.getMessage_asU8 = function() {\n  return /** @type {!Uint8Array} */ (jspb.Message.bytesAsU8(\n      this.getMessage()));\n};\n\n\n/** @param {!(string|Uint8Array)} value */\nproto.IMNut.MchMsg.prototype.setMessage = function(value) {\n  jspb.Message.setProto3BytesField(this, 3, value);\n};\n\n\n/**\n * optional string hash = 4;\n * @return {string}\n */\nproto.IMNut.MchMsg.prototype.getHash = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 4, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.MchMsg.prototype.setHash = function(value) {\n  jspb.Message.setProto3StringField(this, 4, value);\n};\n\n\n/**\n * optional int64 ts = 5;\n * @return {number}\n */\nproto.IMNut.MchMsg.prototype.getTs = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 5, 0));\n};\n\n\n/** @param {number} value */\nproto.IMNut.MchMsg.prototype.setTs = function(value) {\n  jspb.Message.setProto3IntField(this, 5, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.TgtMchMsg.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.TgtMchMsg.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.TgtMchMsg} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.TgtMchMsg.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    fromid: jspb.Message.getFieldWithDefault(msg, 1, \"\"),\n    title: jspb.Message.getFieldWithDefault(msg, 2, \"\"),\n    avatar: jspb.Message.getFieldWithDefault(msg, 3, \"\"),\n    msg: (f = msg.getMsg()) && msg_pb.Msg.toObject(includeInstance, f),\n    ts: jspb.Message.getFieldWithDefault(msg, 5, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.TgtMchMsg}\n */\nproto.IMNut.TgtMchMsg.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.TgtMchMsg;\n  return proto.IMNut.TgtMchMsg.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.TgtMchMsg} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.TgtMchMsg}\n */\nproto.IMNut.TgtMchMsg.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setFromid(value);\n      break;\n    case 2:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setTitle(value);\n      break;\n    case 3:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setAvatar(value);\n      break;\n    case 4:\n      var value = new msg_pb.Msg;\n      reader.readMessage(value,msg_pb.Msg.deserializeBinaryFromReader);\n      msg.setMsg(value);\n      break;\n    case 5:\n      var value = /** @type {number} */ (reader.readInt64());\n      msg.setTs(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.TgtMchMsg.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.TgtMchMsg.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.TgtMchMsg} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.TgtMchMsg.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getFromid();\n  if (f.length > 0) {\n    writer.writeString(\n      1,\n      f\n    );\n  }\n  f = message.getTitle();\n  if (f.length > 0) {\n    writer.writeString(\n      2,\n      f\n    );\n  }\n  f = message.getAvatar();\n  if (f.length > 0) {\n    writer.writeString(\n      3,\n      f\n    );\n  }\n  f = message.getMsg();\n  if (f != null) {\n    writer.writeMessage(\n      4,\n      f,\n      msg_pb.Msg.serializeBinaryToWriter\n    );\n  }\n  f = message.getTs();\n  if (f !== 0) {\n    writer.writeInt64(\n      5,\n      f\n    );\n  }\n};\n\n\n/**\n * optional string fromId = 1;\n * @return {string}\n */\nproto.IMNut.TgtMchMsg.prototype.getFromid = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 1, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.TgtMchMsg.prototype.setFromid = function(value) {\n  jspb.Message.setProto3StringField(this, 1, value);\n};\n\n\n/**\n * optional string title = 2;\n * @return {string}\n */\nproto.IMNut.TgtMchMsg.prototype.getTitle = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 2, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.TgtMchMsg.prototype.setTitle = function(value) {\n  jspb.Message.setProto3StringField(this, 2, value);\n};\n\n\n/**\n * optional string avatar = 3;\n * @return {string}\n */\nproto.IMNut.TgtMchMsg.prototype.getAvatar = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 3, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.TgtMchMsg.prototype.setAvatar = function(value) {\n  jspb.Message.setProto3StringField(this, 3, value);\n};\n\n\n/**\n * optional Msg msg = 4;\n * @return {?proto.IMNut.Msg}\n */\nproto.IMNut.TgtMchMsg.prototype.getMsg = function() {\n  return /** @type{?proto.IMNut.Msg} */ (\n    jspb.Message.getWrapperField(this, msg_pb.Msg, 4));\n};\n\n\n/** @param {?proto.IMNut.Msg|undefined} value */\nproto.IMNut.TgtMchMsg.prototype.setMsg = function(value) {\n  jspb.Message.setWrapperField(this, 4, value);\n};\n\n\n/**\n * Clears the message field making it undefined.\n */\nproto.IMNut.TgtMchMsg.prototype.clearMsg = function() {\n  this.setMsg(undefined);\n};\n\n\n/**\n * Returns whether this field is set.\n * @return {boolean}\n */\nproto.IMNut.TgtMchMsg.prototype.hasMsg = function() {\n  return jspb.Message.getField(this, 4) != null;\n};\n\n\n/**\n * optional int64 ts = 5;\n * @return {number}\n */\nproto.IMNut.TgtMchMsg.prototype.getTs = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 5, 0));\n};\n\n\n/** @param {number} value */\nproto.IMNut.TgtMchMsg.prototype.setTs = function(value) {\n  jspb.Message.setProto3IntField(this, 5, value);\n};\n\n\n\n/**\n * List of repeated fields within this message type.\n * @private {!Array<number>}\n * @const\n */\nproto.IMNut.BotMsg.repeatedFields_ = [3];\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.BotMsg.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.BotMsg.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.BotMsg} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.BotMsg.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    botid: jspb.Message.getFieldWithDefault(msg, 1, \"\"),\n    fromcid: jspb.Message.getFieldWithDefault(msg, 2, \"\"),\n    tocidList: jspb.Message.getRepeatedField(msg, 3),\n    message: msg.getMessage_asB64(),\n    hash: jspb.Message.getFieldWithDefault(msg, 5, \"\"),\n    ts: jspb.Message.getFieldWithDefault(msg, 6, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.BotMsg}\n */\nproto.IMNut.BotMsg.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.BotMsg;\n  return proto.IMNut.BotMsg.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.BotMsg} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.BotMsg}\n */\nproto.IMNut.BotMsg.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setBotid(value);\n      break;\n    case 2:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setFromcid(value);\n      break;\n    case 3:\n      var value = /** @type {string} */ (reader.readString());\n      msg.addTocid(value);\n      break;\n    case 4:\n      var value = /** @type {!Uint8Array} */ (reader.readBytes());\n      msg.setMessage(value);\n      break;\n    case 5:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setHash(value);\n      break;\n    case 6:\n      var value = /** @type {number} */ (reader.readInt64());\n      msg.setTs(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.BotMsg.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.BotMsg.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.BotMsg} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.BotMsg.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getBotid();\n  if (f.length > 0) {\n    writer.writeString(\n      1,\n      f\n    );\n  }\n  f = message.getFromcid();\n  if (f.length > 0) {\n    writer.writeString(\n      2,\n      f\n    );\n  }\n  f = message.getTocidList();\n  if (f.length > 0) {\n    writer.writeRepeatedString(\n      3,\n      f\n    );\n  }\n  f = message.getMessage_asU8();\n  if (f.length > 0) {\n    writer.writeBytes(\n      4,\n      f\n    );\n  }\n  f = message.getHash();\n  if (f.length > 0) {\n    writer.writeString(\n      5,\n      f\n    );\n  }\n  f = message.getTs();\n  if (f !== 0) {\n    writer.writeInt64(\n      6,\n      f\n    );\n  }\n};\n\n\n/**\n * optional string botId = 1;\n * @return {string}\n */\nproto.IMNut.BotMsg.prototype.getBotid = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 1, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.BotMsg.prototype.setBotid = function(value) {\n  jspb.Message.setProto3StringField(this, 1, value);\n};\n\n\n/**\n * optional string fromCid = 2;\n * @return {string}\n */\nproto.IMNut.BotMsg.prototype.getFromcid = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 2, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.BotMsg.prototype.setFromcid = function(value) {\n  jspb.Message.setProto3StringField(this, 2, value);\n};\n\n\n/**\n * repeated string toCid = 3;\n * @return {!Array<string>}\n */\nproto.IMNut.BotMsg.prototype.getTocidList = function() {\n  return /** @type {!Array<string>} */ (jspb.Message.getRepeatedField(this, 3));\n};\n\n\n/** @param {!Array<string>} value */\nproto.IMNut.BotMsg.prototype.setTocidList = function(value) {\n  jspb.Message.setField(this, 3, value || []);\n};\n\n\n/**\n * @param {string} value\n * @param {number=} opt_index\n */\nproto.IMNut.BotMsg.prototype.addTocid = function(value, opt_index) {\n  jspb.Message.addToRepeatedField(this, 3, value, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n */\nproto.IMNut.BotMsg.prototype.clearTocidList = function() {\n  this.setTocidList([]);\n};\n\n\n/**\n * optional bytes message = 4;\n * @return {!(string|Uint8Array)}\n */\nproto.IMNut.BotMsg.prototype.getMessage = function() {\n  return /** @type {!(string|Uint8Array)} */ (jspb.Message.getFieldWithDefault(this, 4, \"\"));\n};\n\n\n/**\n * optional bytes message = 4;\n * This is a type-conversion wrapper around `getMessage()`\n * @return {string}\n */\nproto.IMNut.BotMsg.prototype.getMessage_asB64 = function() {\n  return /** @type {string} */ (jspb.Message.bytesAsB64(\n      this.getMessage()));\n};\n\n\n/**\n * optional bytes message = 4;\n * Note that Uint8Array is not supported on all browsers.\n * @see http://caniuse.com/Uint8Array\n * This is a type-conversion wrapper around `getMessage()`\n * @return {!Uint8Array}\n */\nproto.IMNut.BotMsg.prototype.getMessage_asU8 = function() {\n  return /** @type {!Uint8Array} */ (jspb.Message.bytesAsU8(\n      this.getMessage()));\n};\n\n\n/** @param {!(string|Uint8Array)} value */\nproto.IMNut.BotMsg.prototype.setMessage = function(value) {\n  jspb.Message.setProto3BytesField(this, 4, value);\n};\n\n\n/**\n * optional string hash = 5;\n * @return {string}\n */\nproto.IMNut.BotMsg.prototype.getHash = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 5, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.BotMsg.prototype.setHash = function(value) {\n  jspb.Message.setProto3StringField(this, 5, value);\n};\n\n\n/**\n * optional int64 ts = 6;\n * @return {number}\n */\nproto.IMNut.BotMsg.prototype.getTs = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 6, 0));\n};\n\n\n/** @param {number} value */\nproto.IMNut.BotMsg.prototype.setTs = function(value) {\n  jspb.Message.setProto3IntField(this, 6, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.TgtBotMsg.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.TgtBotMsg.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.TgtBotMsg} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.TgtBotMsg.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    cid: jspb.Message.getFieldWithDefault(msg, 1, \"\"),\n    message: msg.getMessage_asB64(),\n    ts: jspb.Message.getFieldWithDefault(msg, 3, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.TgtBotMsg}\n */\nproto.IMNut.TgtBotMsg.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.TgtBotMsg;\n  return proto.IMNut.TgtBotMsg.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.TgtBotMsg} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.TgtBotMsg}\n */\nproto.IMNut.TgtBotMsg.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setCid(value);\n      break;\n    case 2:\n      var value = /** @type {!Uint8Array} */ (reader.readBytes());\n      msg.setMessage(value);\n      break;\n    case 3:\n      var value = /** @type {number} */ (reader.readInt64());\n      msg.setTs(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.TgtBotMsg.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.TgtBotMsg.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.TgtBotMsg} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.TgtBotMsg.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getCid();\n  if (f.length > 0) {\n    writer.writeString(\n      1,\n      f\n    );\n  }\n  f = message.getMessage_asU8();\n  if (f.length > 0) {\n    writer.writeBytes(\n      2,\n      f\n    );\n  }\n  f = message.getTs();\n  if (f !== 0) {\n    writer.writeInt64(\n      3,\n      f\n    );\n  }\n};\n\n\n/**\n * optional string cid = 1;\n * @return {string}\n */\nproto.IMNut.TgtBotMsg.prototype.getCid = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 1, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.TgtBotMsg.prototype.setCid = function(value) {\n  jspb.Message.setProto3StringField(this, 1, value);\n};\n\n\n/**\n * optional bytes message = 2;\n * @return {!(string|Uint8Array)}\n */\nproto.IMNut.TgtBotMsg.prototype.getMessage = function() {\n  return /** @type {!(string|Uint8Array)} */ (jspb.Message.getFieldWithDefault(this, 2, \"\"));\n};\n\n\n/**\n * optional bytes message = 2;\n * This is a type-conversion wrapper around `getMessage()`\n * @return {string}\n */\nproto.IMNut.TgtBotMsg.prototype.getMessage_asB64 = function() {\n  return /** @type {string} */ (jspb.Message.bytesAsB64(\n      this.getMessage()));\n};\n\n\n/**\n * optional bytes message = 2;\n * Note that Uint8Array is not supported on all browsers.\n * @see http://caniuse.com/Uint8Array\n * This is a type-conversion wrapper around `getMessage()`\n * @return {!Uint8Array}\n */\nproto.IMNut.TgtBotMsg.prototype.getMessage_asU8 = function() {\n  return /** @type {!Uint8Array} */ (jspb.Message.bytesAsU8(\n      this.getMessage()));\n};\n\n\n/** @param {!(string|Uint8Array)} value */\nproto.IMNut.TgtBotMsg.prototype.setMessage = function(value) {\n  jspb.Message.setProto3BytesField(this, 2, value);\n};\n\n\n/**\n * optional int64 ts = 3;\n * @return {number}\n */\nproto.IMNut.TgtBotMsg.prototype.getTs = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/** @param {number} value */\nproto.IMNut.TgtBotMsg.prototype.setTs = function(value) {\n  jspb.Message.setProto3IntField(this, 3, value);\n};\n\n\n/**\n * @enum {number}\n */\nproto.IMNut.IMOperation = {\n  DEFAULT: 0,\n  CLIENTOPEN: 1,\n  CLIENTCLOSE: 2,\n  CLIENTQUERY: 3,\n  CLIENTONLINESTATE: 4,\n  CONVERSATIONCREATION: 1000,\n  CONVERSATIONMEMBERADD: 1001,\n  CONVERSATIONMEMBERREMOVE: 1002,\n  CONVERSATIONQUERY: 1003,\n  CONVERSATIONUPDATENAME: 1004,\n  CONVERSATIONLEAVE: 1005,\n  CONVERSATIONGROUPINFO: 1006,\n  CONVERSATIONGROUPJOIN: 1007,\n  CONVERSATIONGROUPNICK: 1008,\n  CONVERSATIONMEMBERADDED: 1100,\n  CONVERSATIONMEMBERREMOVED: 1101,\n  CONVERSATIONMESSAGESEND: 2000,\n  CONVERSATIONMESSAGEUPDATE: 2001,\n  CONVERSATIONMESSAGEQUERY: 2002,\n  CONVERSATIONENTER: 2003,\n  CONVERSATIONEXIT: 2004,\n  CONVERSATIONMESSAGEREAD: 2005,\n  CONVERSATIONMESSAGEPUSH: 2010,\n  CONVERSATIONMESSAGEPULL: 2011,\n  SENDBOTMESSAGE: 2100,\n  SENDMCHMESSAGE: 2101,\n  TARGETMESSAGEPUSH: 3000,\n  TARGETMESSAGESEND: 3001,\n  TARGETCONVPEERSTATE: 3002,\n  TARGETMESSAGEREAD: 3003,\n  TARGETBOTMESSAGE: 3100,\n  TARGETMCHMESSAGE: 3101,\n  ACK: 4000,\n  ACKCLIENTOPEN: 4001\n};\n\n/**\n * @enum {number}\n */\nproto.IMNut.Code = {\n  SUCCESS: 0,\n  ERRNOPERMISSION: 1,\n  ERRFAILED: 2\n};\n\n/**\n * @enum {number}\n */\nproto.IMNut.OnlineState = {\n  NORMAL: 0,\n  LEAVE: 1\n};\n\ngoog.object.extend(exports, proto.IMNut);\n","/**\n * @fileoverview\n * @enhanceable\n * @suppress {messageConventions} JS Compiler reports an error if a variable or\n *     field starts with 'MSG_' and isn't a translatable message.\n * @public\n */\n// GENERATED CODE -- DO NOT EDIT!\n\nvar jspb = require('google-protobuf');\nvar goog = jspb;\nvar global = Function('return this')();\n\ngoog.exportSymbol('proto.IMNut.AuxiliaryType', null, global);\ngoog.exportSymbol('proto.IMNut.GroupInviteType', null, global);\ngoog.exportSymbol('proto.IMNut.GroupKickMsg', null, global);\ngoog.exportSymbol('proto.IMNut.GroupMsg', null, global);\ngoog.exportSymbol('proto.IMNut.RedpacketOpenedMsg', null, global);\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.RedpacketOpenedMsg = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.IMNut.RedpacketOpenedMsg, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.RedpacketOpenedMsg.displayName = 'proto.IMNut.RedpacketOpenedMsg';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.GroupMsg = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, proto.IMNut.GroupMsg.repeatedFields_, null);\n};\ngoog.inherits(proto.IMNut.GroupMsg, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.GroupMsg.displayName = 'proto.IMNut.GroupMsg';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.GroupKickMsg = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.IMNut.GroupKickMsg, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.GroupKickMsg.displayName = 'proto.IMNut.GroupKickMsg';\n}\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.RedpacketOpenedMsg.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.RedpacketOpenedMsg.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.RedpacketOpenedMsg} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.RedpacketOpenedMsg.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    msgid: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    rpid: jspb.Message.getFieldWithDefault(msg, 2, \"\"),\n    convid: jspb.Message.getFieldWithDefault(msg, 3, \"\")\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.RedpacketOpenedMsg}\n */\nproto.IMNut.RedpacketOpenedMsg.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.RedpacketOpenedMsg;\n  return proto.IMNut.RedpacketOpenedMsg.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.RedpacketOpenedMsg} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.RedpacketOpenedMsg}\n */\nproto.IMNut.RedpacketOpenedMsg.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {number} */ (reader.readInt64());\n      msg.setMsgid(value);\n      break;\n    case 2:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setRpid(value);\n      break;\n    case 3:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setConvid(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.RedpacketOpenedMsg.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.RedpacketOpenedMsg.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.RedpacketOpenedMsg} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.RedpacketOpenedMsg.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getMsgid();\n  if (f !== 0) {\n    writer.writeInt64(\n      1,\n      f\n    );\n  }\n  f = message.getRpid();\n  if (f.length > 0) {\n    writer.writeString(\n      2,\n      f\n    );\n  }\n  f = message.getConvid();\n  if (f.length > 0) {\n    writer.writeString(\n      3,\n      f\n    );\n  }\n};\n\n\n/**\n * optional int64 msgId = 1;\n * @return {number}\n */\nproto.IMNut.RedpacketOpenedMsg.prototype.getMsgid = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/** @param {number} value */\nproto.IMNut.RedpacketOpenedMsg.prototype.setMsgid = function(value) {\n  jspb.Message.setProto3IntField(this, 1, value);\n};\n\n\n/**\n * optional string rpId = 2;\n * @return {string}\n */\nproto.IMNut.RedpacketOpenedMsg.prototype.getRpid = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 2, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.RedpacketOpenedMsg.prototype.setRpid = function(value) {\n  jspb.Message.setProto3StringField(this, 2, value);\n};\n\n\n/**\n * optional string convId = 3;\n * @return {string}\n */\nproto.IMNut.RedpacketOpenedMsg.prototype.getConvid = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 3, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.RedpacketOpenedMsg.prototype.setConvid = function(value) {\n  jspb.Message.setProto3StringField(this, 3, value);\n};\n\n\n\n/**\n * List of repeated fields within this message type.\n * @private {!Array<number>}\n * @const\n */\nproto.IMNut.GroupMsg.repeatedFields_ = [1];\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.GroupMsg.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.GroupMsg.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.GroupMsg} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.GroupMsg.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    cidsList: jspb.Message.getRepeatedField(msg, 1),\n    invitor: jspb.Message.getFieldWithDefault(msg, 2, \"\"),\n    invitetype: jspb.Message.getFieldWithDefault(msg, 3, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.GroupMsg}\n */\nproto.IMNut.GroupMsg.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.GroupMsg;\n  return proto.IMNut.GroupMsg.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.GroupMsg} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.GroupMsg}\n */\nproto.IMNut.GroupMsg.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {string} */ (reader.readString());\n      msg.addCids(value);\n      break;\n    case 2:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setInvitor(value);\n      break;\n    case 3:\n      var value = /** @type {!proto.IMNut.GroupInviteType} */ (reader.readEnum());\n      msg.setInvitetype(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.GroupMsg.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.GroupMsg.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.GroupMsg} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.GroupMsg.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getCidsList();\n  if (f.length > 0) {\n    writer.writeRepeatedString(\n      1,\n      f\n    );\n  }\n  f = message.getInvitor();\n  if (f.length > 0) {\n    writer.writeString(\n      2,\n      f\n    );\n  }\n  f = message.getInvitetype();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      3,\n      f\n    );\n  }\n};\n\n\n/**\n * repeated string cids = 1;\n * @return {!Array<string>}\n */\nproto.IMNut.GroupMsg.prototype.getCidsList = function() {\n  return /** @type {!Array<string>} */ (jspb.Message.getRepeatedField(this, 1));\n};\n\n\n/** @param {!Array<string>} value */\nproto.IMNut.GroupMsg.prototype.setCidsList = function(value) {\n  jspb.Message.setField(this, 1, value || []);\n};\n\n\n/**\n * @param {string} value\n * @param {number=} opt_index\n */\nproto.IMNut.GroupMsg.prototype.addCids = function(value, opt_index) {\n  jspb.Message.addToRepeatedField(this, 1, value, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n */\nproto.IMNut.GroupMsg.prototype.clearCidsList = function() {\n  this.setCidsList([]);\n};\n\n\n/**\n * optional string invitor = 2;\n * @return {string}\n */\nproto.IMNut.GroupMsg.prototype.getInvitor = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 2, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.GroupMsg.prototype.setInvitor = function(value) {\n  jspb.Message.setProto3StringField(this, 2, value);\n};\n\n\n/**\n * optional GroupInviteType inviteType = 3;\n * @return {!proto.IMNut.GroupInviteType}\n */\nproto.IMNut.GroupMsg.prototype.getInvitetype = function() {\n  return /** @type {!proto.IMNut.GroupInviteType} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/** @param {!proto.IMNut.GroupInviteType} value */\nproto.IMNut.GroupMsg.prototype.setInvitetype = function(value) {\n  jspb.Message.setProto3EnumField(this, 3, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.GroupKickMsg.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.GroupKickMsg.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.GroupKickMsg} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.GroupKickMsg.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    kicker: jspb.Message.getFieldWithDefault(msg, 1, \"\"),\n    cid: jspb.Message.getFieldWithDefault(msg, 2, \"\")\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.GroupKickMsg}\n */\nproto.IMNut.GroupKickMsg.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.GroupKickMsg;\n  return proto.IMNut.GroupKickMsg.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.GroupKickMsg} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.GroupKickMsg}\n */\nproto.IMNut.GroupKickMsg.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setKicker(value);\n      break;\n    case 2:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setCid(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.GroupKickMsg.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.GroupKickMsg.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.GroupKickMsg} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.GroupKickMsg.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getKicker();\n  if (f.length > 0) {\n    writer.writeString(\n      1,\n      f\n    );\n  }\n  f = message.getCid();\n  if (f.length > 0) {\n    writer.writeString(\n      2,\n      f\n    );\n  }\n};\n\n\n/**\n * optional string kicker = 1;\n * @return {string}\n */\nproto.IMNut.GroupKickMsg.prototype.getKicker = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 1, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.GroupKickMsg.prototype.setKicker = function(value) {\n  jspb.Message.setProto3StringField(this, 1, value);\n};\n\n\n/**\n * optional string cid = 2;\n * @return {string}\n */\nproto.IMNut.GroupKickMsg.prototype.getCid = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 2, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.GroupKickMsg.prototype.setCid = function(value) {\n  jspb.Message.setProto3StringField(this, 2, value);\n};\n\n\n/**\n * @enum {number}\n */\nproto.IMNut.AuxiliaryType = {\n  REDPACKETOPENED: 0,\n  GROUP: 1,\n  GROUPKICK: 2\n};\n\n/**\n * @enum {number}\n */\nproto.IMNut.GroupInviteType = {\n  INVITOR: 0,\n  INVITEE: 1\n};\n\ngoog.object.extend(exports, proto.IMNut);\n","import {EventEmitter} from \"events\";\nimport IMController from \"../Controllers/IMController\";\nimport UserStore from './UserStore'\nimport {KEY_AUTH_STATE} from \"../Constants\";\nimport CacheStore from \"./CacheStore\";\n\n\nexport const AuthStateEnum = Object.freeze({\n    STATE_IDLE: 'authorizationStateIdle',\n    STATE_WAIT: 'authorizationStateWait',\n    STATE_FAILED: 'authorizationStateFailed',\n    STATE_LOGIN: 'authorizationStateLogin',\n    STATE_LOGOUT: 'authorizationStateLogout',\n});\n\nclass AuthorizationStore extends EventEmitter {\n    constructor() {\n        super();\n\n        this.reset();\n        this.load();\n\n        this.addIMListener();\n        this.setMaxListeners(Infinity);\n    }\n\n    onUpdate = update => {\n        switch (update['@type']) {\n            case 'updateAuthState': {\n                const { data:authorization_state } = update;\n\n                this.current = authorization_state;\n                console.log(\"authorization_state: \", authorization_state)\n                this.save(authorization_state);\n                const {uid, avatar, nick} = authorization_state;\n                const user = {cid: uid, uid, avatar, nick};\n                UserStore.set(user);\n                CacheStore.saveUser(user.cid, user);\n                this.emit(update['@type'], update);\n                break;\n            }\n            default:\n                break;\n        }\n    };\n\n    onClientUpdate = update => {\n        switch (update['@type']) {\n            case 'clientLogout': {\n                this.reset();\n                this.clear();\n                this.emit(update['@type'], update);\n                break;\n            }\n        }\n    };\n\n    addIMListener() {\n        IMController.addListener('update', this.onUpdate);\n        IMController.addListener('clientUpdate', this.onClientUpdate);\n    }\n\n    reset = () => {\n        this.current = null;\n    };\n\n    load() {\n        try {\n            const value = localStorage.getItem(KEY_AUTH_STATE);\n            if (value) {\n                this.current = JSON.parse(value);\n            } else {\n                this.current = null;\n            }\n            // IMController.clientUpdate({\n            //     '@type': \"clientUpdateAuthState\",\n            //     data: this.current,\n            // })\n            // this.emit(\"clientUpdateAuthState\", this.current)\n        } catch {}\n    }\n\n    save(state) {\n        if (state) {\n            localStorage.setItem(KEY_AUTH_STATE, JSON.stringify(state));\n        } else {\n            localStorage.removeItem(KEY_AUTH_STATE);\n        }\n    }\n\n    clear() {\n        this.save();\n    }\n}\n\nconst store = new AuthorizationStore();\nwindow.authorization = store;\nexport default store;","import {EventEmitter} from \"events\";\nimport IMController from \"../Controllers/IMController\";\n\nclass FileStore extends EventEmitter {\n\n    constructor() {\n        super();\n        this.reset();\n\n        this.addIMListener();\n        this.setMaxListeners(Infinity);\n    }\n\n    reset = () => {\n\n        //this.transactionCount = 0;\n        this.db = null;\n        this.urls = new WeakMap();\n        this.dataUrls = new Map();\n        this.items = new Map();\n    };\n\n    addIMListener() {\n        IMController.addListener('update', this.onUpdate);\n        IMController.addListener('clientUpdate', this.onClientUpdate);\n    }\n\n    onUpdate = async update => {\n        switch (update['@type']) {\n            case 'updateFile': {\n                this.set(update.file);\n\n                this.onUpdateFile(update);\n\n                this.emit(update['@type'], update);\n                break;\n            }\n            case 'downloadFile': {\n                const {url, file} = update;\n                this.set(url, file)\n            }\n            default:\n                break;\n        }\n    };\n\n    set(url, file) {\n        this.items.set(url, file);\n    }\n\n    get(url) {\n        return this.items.get(url);\n    }\n\n    onClientUpdate = update => {\n        switch (update['@type']) {\n            case 'clientUpdateProgress': {\n                this.emit(update['@type'], update)\n                break\n            }\n        }\n    };\n\n    setDataUrl = (id, dataUrl) => {\n        this.dataUrls.set(id, dataUrl);\n    };\n\n    getDataUrl = id => {\n        if (!id) {\n            return null;\n        }\n\n        if (this.dataUrls.has(id)) {\n            return this.dataUrls.get(id);\n        }\n\n        return null;\n    };\n\n    getBlobUrl = (blob) => {\n        if (!blob) {\n            return null;\n        }\n\n        if (this.urls.has(blob)) {\n            return this.urls.get(blob);\n        }\n\n        const url = URL.createObjectURL(blob);\n        this.urls.set(blob, url);\n\n        return url;\n    }\n}\n\nconst store = new FileStore();\nwindow.file = store;\nexport default store;","import IMController from '../Controllers/IMController';\nimport ChatStore from '../Stores/ChatStore';\nimport AppStore from '../Stores/ApplicationStore';\n\nexport function openReply() {\n}\n\n\nexport function selectMessage() {\n}\n\nexport function openUser(userId) {\n    if (userId === AppStore.getCid()) return;\n    const chatId = ChatStore.findUserChat(userId);\n    chatId && openChat(chatId)\n}\n\n\nexport function openChat(chatId, messageId = null, popup = false) {\n    console.log(\"Client openChat\");\n    IMController.clientUpdate({\n        '@type': 'clientUpdateOpenChat',\n        chatId,\n        messageId,\n        popup\n    });\n}","\nimport UserStore from '../Stores/UserStore';\nimport AppStore from '../Stores/ApplicationStore';\nimport AuthStore, {AuthStateEnum} from '../Stores/AuthorizationStore';\nimport IMController from '../Controllers/IMController';\n\nfunction updateUser(cid) {\n    const {auth_state, access_token, uid, open_id} = AuthStore.current\n    if (auth_state !== AuthStateEnum.STATE_LOGIN) {\n        console.error(\"auth_state failed\", auth_state)\n    }\n    IMController.getUser(uid, access_token, open_id, cid)\n}\n\nfunction getUser(cid) {\n    if (!AppStore.cacheLoaded) return null\n    const user = UserStore.get(cid)\n    console.log(\"getUser\", cid, user, UserStore.items)\n    if (user) {\n        return user\n    }\n    updateUser(cid)\n    return null\n}\n\nfunction getPeerCid(conv) {\n    if (conv == null || conv.getType() !== 0) return null;\n    if (!IMController.state.cid) return null;\n    return conv.getCidsList().find(cid => {\n        return IMController.state.cid !== cid\n    })\n}\n\nfunction getPeerUser(conv) {\n    const cid = getPeerCid(conv)\n    if (!cid) return null;\n    return getUser(cid);\n}\n\nexport {\n    getUser,\n    getPeerCid,\n    getPeerUser,\n}","import React from \"react\";\nimport classNames from 'classnames';\nimport * as PropTypes from \"prop-types\";\nimport ChatStore from '../../Stores/ChatStore';\nimport UserStore from '../../Stores/UserStore';\nimport AppStore from '../../Stores/ApplicationStore';\nimport './ChatTile.css';\nimport GroupAvatar from '../../Assets/im_group_avatar.png'\nimport UserAvatar from '../../Assets/default_avatar.png'\nimport {getUser} from \"../../Utils/User\";\n\nclass ChatTile extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            loaded: false\n        };\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        const { chatId } = this.props;\n        const { loaded } = this.state;\n\n        if (nextProps.chatId !== chatId) {\n            return true;\n        }\n\n        if (nextState.loaded !== loaded) {\n            return true;\n        }\n\n        return false;\n    }\n\n    componentDidMount() {\n        UserStore.on('updateUser', this.updateUser);\n        AppStore.on('clientUpdateCacheLoaded', this.onUpdateCache);\n    }\n\n    componentWillUnmount() {\n        UserStore.off('updateUser', this.updateUser);\n        AppStore.off('clientUpdateCacheLoaded', this.onUpdateCache);\n    }\n\n    onUpdateCache = update => {\n        this.forceUpdate()\n    }\n\n    updateUser = update => {\n        if (this.props.extra !== update.user.cid) {\n            return\n        }\n        this.forceUpdate();\n    };\n\n    handleLoad = () => {\n        this.setState({ loaded: true });\n    };\n\n    render() {\n        const { chatId, big } = this.props;\n        const { loaded } = this.state;\n\n        const chat = ChatStore.get(chatId);\n        const { type } = chat;\n        const src = type === 0 ? this.getSingleCover() : this.getGroupCover();\n\n        const tileLoaded = src && loaded;\n\n        const tileColor = `tile_color_${(Math.abs(chatId) % 8) + 1}`;\n        return (\n            <div\n                className={classNames('chat-tile',\n                    { [tileColor]: !tileLoaded },\n                    { 'tile-big': big },\n                )}>\n                {src && <img className='tile-photo' src={src} onLoad={this.handleLoad} draggable={false} alt='' />}\n            </div>\n        )\n    }\n\n    getSingleCover() {\n        const extra = this.props.extra;\n        const user = AppStore.cacheLoaded ? getUser(extra) : null;\n        return user && user.avatar ? user.avatar : UserAvatar;\n    }\n\n    getGroupCover() {\n        return GroupAvatar\n    }\n}\n\nChatTile.propTypes = {\n    chatId: PropTypes.string.isRequired,\n};\n\nexport default ChatTile;","import * as React from \"react\";\nimport classNames from 'classnames';\nimport * as PropTypes from \"prop-types\";\nimport MessageStore from \"../../Stores/MessageStore\";\nimport {PHOTO_DISPLAY_SIZE, PHOTO_SIZE, PHOTO_THUMBNAIL_SIZE} from \"../../Constants\";\nimport {getFitSize} from \"../../Utils/Common\";\nimport './Photo.css';\n\nclass Photo extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {};\n    }\n\n    render() {\n        const { className, displaySize, chatId, messageId, openMedia, type, src} = this.props;\n        const message = MessageStore.get(chatId, messageId);\n\n        // const fitPhotoSize = getFitSize(photoSize, displaySize, false);\n        // if (!fitPhotoSize) return null;\n        //\n        // const photoStyle = {\n        //     width: fitPhotoSize.width,\n        //     height: fitPhotoSize.height,\n        //     ...style\n        // };\n        return (\n            <div\n                className={classNames(className, 'photo', {\n                    'photo-big': type === 'message',\n                    pointer: openMedia\n                })}\n                // style={photoStyle}\n                onClick={openMedia}>\n                {src && (\n                    <img\n                        className={classNames('photo-image')}\n                        draggable={false}\n                        src={src}\n                        alt=''\n                    />\n                )}\n                {/*{showProgress && <FileProgress file={photoSize.photo} download upload cancelButton />}*/}\n            </div>\n        );\n    }\n}\n\nPhoto.propTypes = {\n    chatId: PropTypes.string,\n    messageId: PropTypes.string,\n    photo: PropTypes.object.isRequired,\n    openMedia: PropTypes.func,\n};\n\nPhoto.defaultProps = {\n    size: PHOTO_SIZE,\n    thumbnailSize: PHOTO_THUMBNAIL_SIZE,\n    displaySize: PHOTO_DISPLAY_SIZE,\n    showProgress: true\n};\n\nexport default Photo;","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { ANIMATION_DURATION_300MS } from '../../Constants';\nimport FileStore from '../../Stores/FileStore';\nimport './FileProgress.css';\n\nconst circleStyle = { circle: 'file-progress-circle' };\n\nclass FileProgress extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.completeAnimation = false;\n        const { file } = this.props;\n        this.state = {\n            progress: null,\n            prevPropsFile: file,\n            prevFile: null,\n        };\n    }\n\n    componentDidMount() {\n        this.mount = true;\n        FileStore.on('clientUpdateProgress', this.onUpdateProgress);\n    }\n\n    componentWillUnmount() {\n        this.mount = false;\n        FileStore.off('clientUpdateProgress', this.onUpdateProgress);\n    }\n\n\n    onUpdateProgress = update => {\n        const {chatId, messageId} = this.props;\n        const {chat_id, message_id, progress} = update\n        if (chatId !== chat_id || messageId !== message_id) {\n            return\n        }\n        this.state.progress = progress;\n        this.forceUpdate()\n    }\n\n\n    render() {\n        const {progress} = this.state;\n        const  inProgress = progress < 100;\n        if (inProgress) {\n            return (\n                <div className='file-progress' >\n                    <div className='file-progress-indicator'>\n                        <CircularProgress\n                            classes={circleStyle}\n                            variant='static'\n                            value={progress}\n                            size={42}\n                            thickness={2}\n                        />\n                    </div>\n                </div>\n            );\n        }\n\n        return null;\n    }\n}\n\nFileProgress.propTypes = {\n    file: PropTypes.object.isRequired,\n    thumbnailSrc: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\n    cancelButton: PropTypes.bool,\n    download: PropTypes.bool,\n    upload: PropTypes.bool,\n    zIndex: PropTypes.number,\n\n    icon: PropTypes.node,\n    completeIcon: PropTypes.node\n};\n\nFileProgress.defaultProps = {\n    cancelButton: false,\n    download: true,\n    upload: false\n};\n\nexport default FileProgress;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n// import FileProgress from '../../Components/Viewer/FileProgress';\nimport { getSrc } from '../../Utils/File';\nimport FileStore from '../../Stores/FileStore';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport './DocumentTile.css';\nimport FileProgress from \"../Viewer/FileProgress\";\n\nclass DocumentTile extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            loaded: false\n        };\n    }\n\n    componentDidMount() {\n        FileStore.on('clientUpdateDocumentThumbnailBlob', this.onClientUpdateDocumentThumbnailBlob);\n        FileStore.on('clientUpdateAudioThumbnailBlob', this.onClientUpdateDocumentThumbnailBlob);\n        FileStore.on('', this.onClientUpdateProgress)\n    }\n\n    componentWillUnmount() {\n        FileStore.off('clientUpdateDocumentThumbnailBlob', this.onClientUpdateDocumentThumbnailBlob);\n        FileStore.off('clientUpdateAudioThumbnailBlob', this.onClientUpdateDocumentThumbnailBlob);\n    }\n\n    onClientUpdateDocumentThumbnailBlob = update => {\n        const { thumbnail } = this.props;\n        if (!thumbnail) return;\n\n        const file = thumbnail.photo;\n        if (!file) return;\n\n        const { fileId } = update;\n\n        if (file.id !== fileId) {\n            return;\n        }\n\n        this.forceUpdate();\n    };\n\n    onClientUpdateProgress = update => {\n\n    }\n\n    handleLoad = () => {\n        this.setState({ loaded: true });\n    };\n\n    render() {\n        const { minithumbnail, thumbnail, file, icon, completeIcon, openMedia, chatId, messageId } = this.props;\n        const { loaded } = this.state;\n\n        const miniSrc = minithumbnail ? 'data:image/jpeg;base64, ' + minithumbnail.data : null;\n        const thumbnailSrc = getSrc(thumbnail ? thumbnail.photo : null);\n        const tileLoaded = thumbnailSrc && loaded;\n        const src = thumbnailSrc || miniSrc;\n\n        return (\n            <div\n                className={classNames('document-tile', { 'document-tile-image': !src }, { pointer: openMedia })}\n                onClick={openMedia}>\n                {!tileLoaded && <div className='document-tile-background' />}\n                {src && <img className='tile-photo' src={src} onLoad={this.handleLoad} draggable={false} alt='' />}\n                {file && (\n                    <FileProgress\n                        file={file}\n                        thumbnailSrc={src}\n                        chatId={chatId}\n                        messageId={messageId}\n                        upload\n                        cancelButton\n                        zIndex={1}\n                        icon={icon}\n                        completeIcon={completeIcon}\n                    />\n                )}\n\n            </div>\n        );\n    }\n}\n\nDocumentTile.propTypes = {\n    minithumbnail: PropTypes.object,\n    thumbnail: PropTypes.object,\n    file: PropTypes.object,\n    openMedia: PropTypes.func,\n    icon: PropTypes.node,\n    completeIcon: PropTypes.node\n};\n\nexport default DocumentTile;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport FileStore from '../../Stores/FileStore';\nimport './DocumentAction.css';\nimport {getSizeString} from \"../../Utils/File\";\n\nconst styles = theme => ({\n    documentAction: {\n        color: theme.palette.text.secondary\n    }\n});\n\nclass DocumentAction extends React.Component {\n    constructor(props) {\n        super(props);\n\n        const { file } = this.props;\n        this.state = {\n            prevPropsFile: file,\n            prevFile: null,\n            // file: FileStore.get(file.id) || file\n        };\n    }\n\n    componentDidMount() {\n        FileStore.on('updateFile', this.onUpdateFile);\n    }\n\n    componentWillUnmount() {\n        FileStore.off('updateFile', this.onUpdateFile);\n    }\n\n    onUpdateFile = update => {\n        const currentFile = this.state.file;\n        const nextFile = update.file;\n\n        if (currentFile && currentFile.id === nextFile.id) {\n            this.setState({ file: nextFile, prevFile: currentFile });\n        }\n    };\n\n    static getDerivedStateFromProps(props, state) {\n        const { file } = props;\n        const { prevPropsFile } = state;\n\n        if (file && prevPropsFile && file.id !== prevPropsFile.id) {\n            return {\n                prevPropsFile: file,\n                prevFile: null,\n                file: FileStore.get(file.id) || file\n            };\n        }\n\n        return null;\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        const { theme } = this.props;\n        const { file, prevFile } = this.state;\n\n        if (nextProps.theme !== theme) {\n            return true;\n        }\n\n        if (nextState.file !== file) {\n            return true;\n        }\n\n        if (nextState.prevFile !== prevFile) {\n            return true;\n        }\n\n        return false;\n    }\n\n    render() {\n        const { classes, meta, file } = this.props;\n        if (!file) return null;\n\n        const isDownloadingActive = file.local && file.local.is_downloading_active;\n        const isUploadingActive = file.remote && file.remote.is_uploading_active;\n\n        const size = getSizeString(file.size)\n        let progressSize = null;\n        // if (isDownloadingActive) {\n        //     progressSize = getDownloadedSize(file);\n        // } else if (isUploadingActive) {\n        //     progressSize = getUploadedSize(file);\n        // }\n\n        console.log(\"document file:\", file)\n        const sizeString = progressSize ? `${progressSize}/${size}` : `${size}`;\n\n        return (\n            <div className={classNames('document-action', classes.documentAction)}>\n                <span>{sizeString}</span>\n                {meta}\n            </div>\n        );\n    }\n}\n\nDocumentAction.propTypes = {\n    file: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles, { withTheme: true })(DocumentAction);\n","import * as React from \"react\";\nimport classNames from 'classnames';\nimport DocumentTile from \"../Tile/DocumentTile\";\nimport InsertDriveFileIcon from '@material-ui/icons/InsertDriveFile';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport DocumentAction from \"./DocumentAction\";\nimport {getExtension} from \"../../Utils/File\";\nimport './Document.css';\n\nclass Document extends React.Component {\n    downloadFile = event => {\n        if (event) {\n            event.preventDefault();\n            event.stopPropagation();\n        }\n\n        fetch(this.props.document.url)\n            .then(response => {\n                response.blob().then(blob => {\n                    let url = window.URL.createObjectURL(blob);\n                    let a = document.createElement('a');\n                    a.href = url;\n                    a.download = this.props.title;\n                    a.click();\n                });\n            });\n    };\n\n    render() {\n        const { document, openMedia, width, height, meta, title } = this.props;\n\n        console.log(\"document: \", document)\n        const { name, md5, url } = document;\n        const file = document;\n\n        const style = width && height ? { width, height } : null;\n\n        return (\n            <div className={classNames('document', { 'media-title': title })} style={style}>\n                <DocumentTile\n                    file={file}\n                    openMedia={openMedia}\n                    chatId={this.props.chatId}\n                    messageId={this.props.messageId}\n                    icon={<ArrowDownwardIcon />}\n                    completeIcon={<InsertDriveFileIcon />}\n                />\n                <div className='document-content'>\n                    <div className='document-title'>\n                        <a\n                            onClick={this.downloadFile}\n                            className='document-name'\n                            title={name}\n                            data-name={name}\n                            data-ext={'.' + getExtension(name)}>\n                            {name}\n                        </a>\n                    </div>\n                    <DocumentAction file={document} meta={meta} />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Document;","import React from 'react';\nimport dateFormat from 'dateformat';\nimport IMController from '../Controllers/IMController';\nimport MessageStore, {StateEnum} from '../Stores/MessageStore';\nimport Photo from \"../Components/message/Photo\";\nimport Document from \"../Components/message/Document\";\nvar msg_pb = require('../gen/msg_pb');\n\nexport function readMessages(chatId, messageIds, forceRead) {\n    IMController.send({\n        '@type': 'viewMessages',\n        chat_id: chatId,\n        message_ids: messageIds,\n        force_read: forceRead\n    });\n}\n\nfunction getText(message, meta) {\n    if (!message) return null;\n\n    let result = [];\n    switch (message.getType()) {\n        case msg_pb.MsgType.TEXT: {\n            result = new TextDecoder(\"utf-8\").decode(message.getBlob());\n            break\n        }\n        case msg_pb.MsgType.REDPACKET: {\n            result = '[[[]]]';\n            break\n        }\n        default:\n            break;\n    }\n    return result && result.length > 0 ? [...result, meta]: [];\n}\n\nfunction getMedia(message, openMedia, chatId, messageId) {\n    if (!message) return null;\n\n    switch (message.getType()) {\n        case msg_pb.MsgType.PICTURE: {\n            const image = msg_pb.Image.deserializeBinary(message.getBlob())\n\n            return (\n                <Photo\n                    type='message'\n                    chatId={chatId}\n                    messageId={messageId}\n                    src={image.getLocalpath() || image.getImgurl()}\n                    openMedia={openMedia}\n                />\n            );\n        }\n        case msg_pb.MsgType.FILE: {\n            const fileBean = msg_pb.FileBean.deserializeBinary(message.getBlob())\n            console.log(\"getMedia\", {fileBean: fileBean})\n            const document = {\n                md5:fileBean.getMd5(),\n                name:fileBean.getName(),\n                url:fileBean.getUrl(), size: fileBean.getSize()}\n            return (\n                <Document\n                    title={fileBean.getName()}\n                    chatId={chatId}\n                    messageId={messageId}\n                    document={document}\n                />\n            )\n        }\n    }\n    return null;\n}\n\nfunction openMedia(chatId, messageId) {\n    const message = MessageStore.get(chatId, messageId);\n    if (!message) return;\n}\n\nfunction getContent(message) {\n    if (!message) return null;\n\n    return getText(message)\n}\n\nfunction isMessageUnread(chatId, messageId) {\n\n    const message = MessageStore.get(chatId, messageId);\n    if (!message) {\n        return false;\n    }\n\n    return message.state !== StateEnum.STATE_READ;\n}\n\nfunction getDate(date) {\n    if (!date) return null;\n\n    const d = new Date(date * 1000);\n\n    return dateFormat(d, 'H:MM'); //date.toDateString();\n}\n\nexport {\n    getText,\n    getContent,\n    getMedia,\n    openMedia,\n    isMessageUnread,\n    getDate,\n};","\nimport dateFormat from 'dateformat';\nimport ChatStore from '../Stores/ChatStore';\nimport {getContent} from \"./Message\";\nimport {getPeerUser, getUser} from \"./User\";\n\nfunction isSingleChat(chatId) {\n    const chat = ChatStore.get(chatId);\n    if (!chat) return false;\n    if (!chat.type) return false;\n    return chat.type === 0;\n}\n\nfunction isGroupChat(chatId) {\n    const chat = ChatStore.get(chatId);\n    if (!chat) return false;\n    if (!chat.type) return false;\n    return chat.type === 1;\n}\n\nfunction getChatTitle(chatId, showSavedMessages = false, t = key => key) {\n    const chat = ChatStore.get(chatId);\n    if (!chat || !chat.conv) return null;\n    if (chat.conv.getType() === 1) {\n        return chat.conv.getName() || getGroupNoName(chat.conv)\n    }\n    const user = getPeerUser(chat.conv)\n    if (!user) return null;\n    return user.nick;\n}\n\nfunction getGroupNoName(conv) {\n    let name = \"\"\n    conv.getCidsList().forEach(cid => {\n        let user = getUser(cid)\n        if (user && user.nick) {\n            name += user.nick + ','\n        }\n    })\n\n    return (name && name.slice(0, -1))|| ''\n}\n\nfunction getMessageDate(message) {\n    const date = new Date(message.getAckts() / 1000_000);\n\n    const dayStart = new Date();\n    dayStart.setHours(0, 0, 0, 0);\n    if (date > dayStart) {\n        return dateFormat(date, 'H:MM');\n    }\n\n    const now = new Date();\n    const day = now.getDay();\n    const weekStart = now.getDate() - day + (day === 0 ? -6 : 1);\n    const monday = new Date(now.setDate(weekStart));\n    if (date > monday) {\n        return dateFormat(date, 'ddd');\n    }\n\n    return dateFormat(date, 'd.mm.yyyy');\n}\n\nfunction getLastMessageDate(chat) {\n    if (!chat) return null;\n    if (!chat.last_ts) return null;\n    // if (showChatDraft(chat.id)) return null;\n\n    return getMessageDate(chat.last_msg);\n}\n\nfunction getLastMessageSenderName(chat) {\n    if (!chat) return null;\n\n    return getMessageSenderName(chat.last_msg);\n}\n\nfunction getMessageSenderName(message) {\n    if (!message) return null;\n    return message.getCid();\n}\n\nfunction getLastMessageContent(chat, t = key => key) {\n    if (!chat) return null;\n\n    const { last_msg } = chat;\n    if (!last_msg) return null;\n\n    return getContent(last_msg, t);\n}\n\nexport {\n    isSingleChat,\n    isGroupChat,\n    getChatTitle,\n    getLastMessageDate,\n    getLastMessageSenderName,\n    getLastMessageContent,\n}","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport { getChatTitle } from '../../Utils/Chat';\nimport ChatStore from '../../Stores/ChatStore';\nimport './DialogTitle.css';\nimport UserStore from \"../../Stores/UserStore\";\nimport AppStore from \"../../Stores/ApplicationStore\";\n\nclass DialogTitle extends React.Component {\n    shouldComponentUpdate(nextProps, nextState) {\n        const { chatId, t } = this.props;\n\n        if (nextProps.chatId !== chatId) {\n            return true;\n        }\n\n        if (nextProps.t !== t) {\n            return true;\n        }\n\n        return false;\n    }\n\n    componentDidMount() {\n        ChatStore.on('clientUpdateFastUpdatingComplete', this.onFastUpdatingComplete);\n        ChatStore.on('updateChatTitle', this.onUpdateChatTitle);\n        UserStore.on('updateUser', this.updateUser);\n        AppStore.on('clientUpdateCacheLoaded', this.onUpdateCache);\n    }\n\n    componentWillUnmount() {\n        ChatStore.off('clientUpdateFastUpdatingComplete', this.onFastUpdatingComplete);\n        ChatStore.off('updateChatTitle', this.onUpdateChatTitle);\n        UserStore.on('updateUser', this.updateUser);\n        AppStore.off('clientUpdateCacheLoaded', this.onUpdateCache);\n    }\n\n    onUpdateCache = update => {\n        this.forceUpdate()\n    }\n\n    onFastUpdatingComplete = update => {\n        this.forceUpdate();\n    };\n\n    onUpdateChatTitle = update => {\n        const { chatId } = this.props;\n\n        if (update.chat_id !== chatId) return;\n\n        this.forceUpdate();\n    };\n\n    updateUser = update => {\n        if (this.props.extra !== update.user.cid) {\n            return\n        }\n        this.forceUpdate();\n    }\n\n    render() {\n        const { t, chatId, showSavedMessages } = this.props;\n\n        const title = getChatTitle(chatId, showSavedMessages, t);\n\n        return (\n            <div className='dialog-title'>\n                <span className='dialog-title-span'>{title}</span>\n            </div>\n        );\n    }\n}\n\nDialogTitle.propTypes = {\n    chatId: PropTypes.string.isRequired,\n    showSavedMessages: PropTypes.bool\n};\n\nDialogTitle.defaultProps = {\n    showSavedMessages: true\n};\n\nexport default withTranslation()(DialogTitle);\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport { getLastMessageDate } from '../../Utils/Chat';\nimport ChatStore from '../../Stores/ChatStore';\nimport './DialogMeta.css';\n\nclass DialogMeta extends React.Component {\n    shouldComponentUpdate(nextProps, nextState) {\n        const { chatId } = this.props;\n\n        if (nextProps.chatId !== chatId) {\n            return true;\n        }\n\n        return false;\n    }\n\n    componentDidMount() {\n        ChatStore.on('tgtMsgSend', this.onUpdate);\n        ChatStore.on('updateChatLastMessage', this.onUpdate);\n        ChatStore.on('updateChatReadInbox', this.onUpdate);\n        ChatStore.on('updateChatUnreadMentionCount', this.onUpdate);\n        ChatStore.on('updateMessageMentionRead', this.onUpdate);\n    }\n\n    componentWillUnmount() {\n\n        ChatStore.off('tgtMsgSend', this.onUpdate);\n        ChatStore.off('updateChatLastMessage', this.onUpdate);\n        ChatStore.off('updateChatReadInbox', this.onUpdate);\n        ChatStore.off('updateChatUnreadMentionCount', this.onUpdate);\n        ChatStore.off('updateMessageMentionRead', this.onUpdate);\n    }\n\n    onClientUpdateClearHistory = update => {\n        const { chatId } = this.props;\n\n        if (chatId === update.chatId) {\n            this.clearHistory = update.inProgress;\n            this.forceUpdate();\n        }\n    };\n\n    onFastUpdatingComplete = update => {\n        this.forceUpdate();\n    };\n\n    onUpdate = update => {\n\n        const { chatId } = this.props;\n\n        if (chatId !== update.chatId) return;\n\n        this.forceUpdate();\n    };\n\n    render() {\n        if (this.clearHistory) return null;\n\n        const { chatId } = this.props;\n\n        const chat = ChatStore.get(chatId);\n        if (!chat) return null;\n\n        const { last_msg } = chat;\n        if (!last_msg) return null;\n        console.log(\"dialogmeta\", chat);\n\n        const date = getLastMessageDate(chat);\n        if (!date) return null;\n\n        return (\n            <div className='dialog-meta'>\n                {date}\n            </div>\n        );\n    }\n}\n\nexport default DialogMeta;\n","import * as React from \"react\";\nimport {withTranslation} from \"react-i18next\";\nimport ChatStore from '../../Stores/ChatStore';\nimport './DialogContent.css';\nimport {getLastMessageContent, getLastMessageSenderName, isSingleChat} from \"../../Utils/Chat\";\n\nclass DialogContent extends React.Component {\n    shouldComponentUpdate(nextProps, nextState) {\n        const { chatId, t } = this.props;\n\n        if (nextProps.chatId !== chatId) {\n            return true;\n        }\n\n        if (nextProps.t !== t) {\n            return true;\n        }\n\n        return false;\n    }\n\n    componentDidMount() {\n        ChatStore.on('tgtMsgSend', this.onUpdate);\n        ChatStore.on('msgAcked', this.onUpdate);\n    }\n\n    componentWillUnmount() {\n        ChatStore.off('tgtMsgSend', this.onUpdate);\n        ChatStore.off('msgAcked', this.onUpdate);\n    }\n\n    onUpdate = update => {\n        const { chatId } = this.props;\n\n        if (chatId !== update.chatId) return;\n\n        this.forceUpdate();\n    };\n\n    render() {\n        const { chatId, t } = this.props;\n\n        const chat = ChatStore.get(chatId);\n\n        const content = getLastMessageContent(chat, t) || '\\u00A0';\n        const senderName = isSingleChat(chatId) ? null : getLastMessageSenderName(chat);\n\n        return <div className='dialog-content'>\n            {/*{senderName && <span className='dialog-content-accent'>{senderName}: </span>}*/}\n            {content}\n        </div>;\n    }\n}\n\nexport default withTranslation()(DialogContent);","import React from \"react\";\nimport ChatStore from '../../Stores/ChatStore';\nimport MessageStore from '../../Stores/MessageStore';\nimport './DialogBadge.css';\n\n\nclass DialogBadge extends React.Component {\n    shouldComponentUpdate(nextProps, nextState) {\n        const { chatId } = this.props;\n\n        if (nextProps.chatId !== chatId) {\n            return true;\n        }\n\n        return false;\n    }\n    componentDidMount() {\n        MessageStore.on('tgtMsgSend', this.onNewMessage)\n        MessageStore.on('msgRead', this.onUpdateMessage)\n    }\n\n    componentWillUnmount() {\n        MessageStore.off('tgtMsgSend', this.onNewMessage)\n        MessageStore.off('msgRead', this.onUpdateMessage)\n    }\n\n    onNewMessage = update => {\n        const { chatId } = this.props;\n        if (!update.chat_id) return;\n        if (update.chat_id !== chatId) return;\n\n        this.forceUpdate();\n    };\n\n    onUpdateMessage = update => {\n        const { chatId } = this.props;\n        const {chatId: chat_id} = update;\n\n        if (chat_id !== chatId) return;\n\n        this.forceUpdate();\n    };\n\n    render() {\n        const { chatId } = this.props;\n\n        const chat = ChatStore.get(chatId);\n        if (!chat) return null;\n\n        const unread_count = MessageStore.getUnreadByChatId(chatId)\n        const showUnreadCount = unread_count > 0;\n\n        return (\n            <>\n                {showUnreadCount && (<div className='dialog-badge'>\n                    <span className='dialog-badge-text'>{unread_count > 0 ? unread_count : ''}</span>\n                </div>)}\n            </>\n        );\n    }\n}\n\nexport default DialogBadge;","import React from \"react\";\nimport classNames from 'classnames';\nimport PropTypes from \"prop-types\";\n\nimport ChatStore from '../../Stores/ChatStore';\nimport ApplicationStore from '../../Stores/ApplicationStore';\nimport {openChat} from \"../../Actions/Client\";\nimport ChatTile from \"./ChatTile\";\nimport DialogTitle from \"./DialogTitle\";\nimport DialogMeta from \"./DialogMeta\";\nimport './Dialog.css';\nimport DialogContent from \"./DialogContent\";\nimport DialogBadge from \"./DialogBadge\";\nimport Popover from \"@material-ui/core/Popover\";\nimport MenuList from \"@material-ui/core/MenuList\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nclass Dialog extends React.Component {\n    constructor(props) {\n        super(props);\n        this.dialog = React.createRef();\n\n        const chat = ChatStore.get(this.props.chatId);\n        this.state = {\n            chat,\n            contextMenu: false,\n            left: 0,\n            top: 0\n        };\n    }\n\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\n        const { chatId, t, hidden, isLastPinned } = this.props;\n        const { contextMenu } = this.state;\n        if (nextProps.chatId !== chatId) {\n            return true;\n        }\n\n        if (nextState.contextMenu !== contextMenu) {\n            return true;\n        }\n        return false;\n    }\n\n    componentDidMount() {\n        ApplicationStore.on('clientUpdateChatId', this.onClientUpdateChatId);\n    }\n\n    componentWillUnmount() {\n        ApplicationStore.off('clientUpdateChatId', this.onClientUpdateChatId);\n    }\n\n    onClientUpdateChatId = update => {\n        const { chatId } = this.props;\n\n        if (chatId === update.previousChatId || chatId === update.nextChatId) {\n            this.forceUpdate();\n        }\n    };\n\n    handleSelect = event => {\n        if (event.button === 0) {\n            openChat(this.props.chatId);\n        }\n    };\n\n    handleContextMenu = event => {\n        if (event) {\n            event.preventDefault();\n            event.stopPropagation();\n        }\n        const { chatId } = this.props;\n        const { contextMenu } = this.state;\n        console.log('handleContextMenu: ', chatId)\n        if (contextMenu) {\n            this.setState({ contextMenu: false });\n        } else {\n            const left = event.clientX;\n            const top = event.clientY;\n            const chat = ChatStore.get(chatId);\n\n            this.setState({\n                contextMenu: true,\n                left,\n                top\n            });\n        }\n    };\n\n    handleCloseContextMenu = event => {\n        if (event) {\n            event.stopPropagation();\n        }\n\n        this.setState({ contextMenu: false });\n    };\n\n    handleViewInfo = event => {\n        this.handleCloseContextMenu(event);\n\n        const { chatId } = this.props;\n\n        openChat(chatId, null, true);\n    };\n\n    getViewInfoTitle = () => {\n        const {chatId,} = this.props;\n        const chat = ChatStore.get(chatId);\n        if (!chat || !chat.conv) return;\n        switch (chat.conv.getType()) {\n            case 0 : {\n                return 'Single';\n            }\n            case 1: {\n                return 'Group';\n            }\n        }\n    };\n\n    render() {\n\n        const {chatId} = this.props;\n        const { contextMenu, left, top } = this.state;\n        const currentChatId = ApplicationStore.getChatId();\n        const isSelected = currentChatId === chatId;\n\n        const chat = ChatStore.get(chatId);\n        const {extra} = chat;\n        return (\n            <>\n                <div\n                    ref={this.dialog}\n                    className={classNames(isSelected ? 'dialog-active' : 'dialog', { 'item-selected': isSelected })}\n                    onMouseDown={this.handleSelect}\n                    onContextMenu={this.handleContextMenu}>\n                    <div className='dialog-wrapper'>\n                        <ChatTile chatId={chatId} extra={extra}/>\n                        <div className='dialog-inner-wrapper'>\n                            <div className='tile-first-row'>\n                                <DialogTitle chatId={chatId} extra={extra} />\n                                <DialogMeta chatId={chatId} />\n                            </div>\n                            <div className='tile-second-row'>\n                                <DialogContent chatId={chatId} />\n                                <DialogBadge chatId={chatId} />\n                            </div>\n                        </div>\n                    </div>\n                    <Popover\n                        open={contextMenu}\n                        onClose={this.handleCloseContextMenu}\n                        anchorReference='anchorPosition'\n                        anchorPosition={{ top, left }}\n                        anchorOrigin={{\n                            vertical: 'bottom',\n                            horizontal: 'right'\n                        }}\n                        transformOrigin={{\n                            vertical: 'top',\n                            horizontal: 'left'\n                        }}\n                        onMouseDown={e => e.stopPropagation()}>\n                        <MenuList classes={{ root: 'menu-list' }} onClick={e => e.stopPropagation()}>\n                            <MenuItem onClick={this.handleViewInfo}>{this.getViewInfoTitle()}</MenuItem>\n                        </MenuList>\n                    </Popover>\n                </div>\n            </>\n        )\n    }\n}\n\nDialog.propTypes = {\n    chatId: PropTypes.string.isRequired,\n};\n\nexport default Dialog;","import React from \"react\";\nimport Dialog from \"../Tile/Dialog\";\nimport ChatStore from \"../../Stores/ChatStore\"\nimport AppStore from \"../../Stores/ApplicationStore\"\nimport './DialogsList.css';\nimport {SCROLL_PRECISION} from \"../../Constants\";\n\nclass DialogsList extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.listRef = React.createRef();\n\n        this.state = {\n            chats: null,\n            fistSliceLoaded: false\n        };\n    }\n\n    componentDidMount() {\n        ChatStore.on(\"queryConv\", this.onQueryConv);\n        ChatStore.on(\"tgtMsgSend\", this.updateOrder);\n        ChatStore.on(\"msgAcked\", this.updateOrder);\n\n        AppStore.on(\"clientUpdateCacheLoaded\", this.updateOrder);\n    }\n\n\n    componentWillUnmount() {\n        ChatStore.off(\"queryConv\", this.onQueryConv);\n        ChatStore.off(\"tgtMsgSend\", this.updateOrder);\n        ChatStore.off(\"msgAcked\", this.updateOrder);\n\n        AppStore.off(\"clientUpdateCacheLoaded\", this.updateOrder);\n    }\n\n    getSnapshotBeforeUpdate(prevProps, prevState) {\n        const { current: list } = this.listRef;\n        if (!list) return { scrollTop: 0 };\n\n        return { scrollTop: list.scrollTop };\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        const { current: list } = this.listRef;\n        if (!list) return;\n\n        const { scrollTop } = snapshot;\n\n        list.scrollTop = scrollTop;\n    }\n\n    scrollToTop() {\n        const list = this.listRef.current;\n        list.scrollTop = 0;\n    }\n\n    handleScroll= () => {\n        const list = this.listRef.current;\n\n        if (list && list.scrollTop + list.offsetHeight >= list.scrollHeight - SCROLL_PRECISION) {\n            this.onLoadNext();\n        }\n    }\n\n    onQueryConv = update => {\n        const sortedItems = ChatStore.getSortedItems();\n        this.setState({chats: sortedItems}, () => this.onLoadNext(true));\n    };\n\n    render() {\n        const { chats } = this.state;\n        let dialogs = null;\n        if (chats) {\n            dialogs = chats.map(x => (\n                <Dialog key={x} chatId={x} />\n            ));\n        }\n\n        return (\n            <div ref={this.listRef} className='dialogs-list' onScroll={this.handleScroll}>\n                {dialogs}\n            </div>\n        );\n    }\n\n    onLoadNext(b) {\n\n    }\n\n    updateOrder = update => {\n        const soretedItems = ChatStore.getSortedItems();\n        this.setState({chats: soretedItems}, () => this.onLoadNext(true));\n    }\n}\n\nexport default DialogsList;","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport { withTranslation } from 'react-i18next';\nimport { compose } from 'recompose';\nimport { isAuthorizationReady } from '../../Utils/Common';\nimport AuthStore from '../../Stores/AuthorizationStore';\n\nconst styles = {\n    menuIconButton: {\n        margin: '8px -2px 8px 12px'\n    },\n    searchIconButton: {\n        margin: '8px 12px 8px 0'\n    }\n};\n\nconst menuAnchorOrigin = {\n    vertical: 'bottom',\n    horizontal: 'left'\n};\n\nclass MainMenuButton extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            authorizationState: AuthStore.current,\n            anchorEl: null\n        };\n    }\n\n    componentDidMount() {\n        AuthStore.on('updateAuthorizationState', this.onUpdateAuthorizationState);\n    }\n\n    componentWillUnmount() {\n        AuthStore.off('updateAuthorizationState', this.onUpdateAuthorizationState);\n    }\n\n    onUpdateAuthorizationState = update => {\n        this.setState({ authorizationState: update.auth_state });\n    };\n\n    handleMenuOpen = event => {\n        const { auth_state } = AuthStore.current;\n        if (!isAuthorizationReady(auth_state)) return;\n        console.log(\"setState \", event.currentTarget)\n        this.setState({ anchorEl: event.currentTarget });\n    };\n\n    handleMenuClose = () => {\n        this.setState({ anchorEl: null });\n    };\n\n    handleLogOut = () => {\n        this.handleMenuClose();\n\n        this.props.onLogOut();\n    };\n\n    setRef = ref => {\n        console.log(this);\n    };\n\n    render() {\n        const { classes, t } = this.props;\n        const { anchorEl,  } = this.state;\n        const {auth_state} = AuthStore.current;\n\n        const mainMenuControl = isAuthorizationReady(auth_state) ? (\n            <>\n                <Menu\n                    id='main-menu'\n                    anchorEl={anchorEl}\n                    open={Boolean(anchorEl)}\n                    onClose={this.handleMenuClose}\n                    getContentAnchorEl={null}\n                    disableAutoFocusItem\n                    disableRestoreFocus={true}\n                    anchorOrigin={menuAnchorOrigin}>\n                    <MenuItem onClick={this.handleLogOut}>{t('LogOut')}</MenuItem>\n                </Menu>\n            </>\n        ) : null;\n\n        return (\n            <>\n                <IconButton\n                    aria-owns={anchorEl ? 'simple-menu' : null}\n                    aria-haspopup='true'\n                    className={classes.menuIconButton}\n                    aria-label='Menu'\n                    onClick={this.handleMenuOpen}>\n                    <MenuIcon />\n                </IconButton>\n                {mainMenuControl}\n            </>\n        );\n    }\n}\n\nconst enhance = compose(\n    withTranslation(),\n    withStyles(styles, { withTheme: true })\n);\n\nexport default enhance(MainMenuButton);\n","import React from \"react\";\nimport {\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    DialogTitle,\n    Button,\n    IconButton\n} from '@material-ui/core';\nimport IMController from '../../Controllers/IMController';\nimport AuthStore from '../../Stores/AuthorizationStore'\nimport './Header.css';\nimport MainMenuButton from \"../ColumnLeft/MainMenuButton\";\n\nclass DialogsHeader extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            open: false\n        };\n    }\n\n    handleLogOut = () => {\n        this.setState({ open: true });\n        IMController.logout()\n    };\n\n    render() {\n        const { onClick} = this.props;\n\n        const title = AuthStore.current ? AuthStore.current.nick : \"IMNut\";\n        return (\n            <div className='header-master'>\n                <>\n                    <MainMenuButton onLogOut={this.handleLogOut} />\n                </>\n\n                <div className='header-status grow cursor-pointer' onClick={onClick}>\n                    <span className='header-status-content'>{title}</span>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default DialogsHeader;","import React from \"react\";\nimport classNames from 'classnames';\nimport './Dialogs.css';\nimport DialogsList from \"../ColumnLeft/DialogsList\";\nimport DialogsHeader from \"./DialogsHeader\";\nimport IMController from '../../Controllers/IMController';\nimport CacheStore from '../../Stores/CacheStore';\nimport AppStore from '../../Stores/ApplicationStore';\n\nclass Dialogs extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        const { isChatDetailsVisible } = AppStore;\n\n        this.dialogsHeaderRef = React.createRef();\n        this.dialogListRef = React.createRef();\n        this.state = {\n            isChatDetailsVisible,\n        }\n    }\n\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\n        const {\n            isChatDetailsVisible,\n        } = this.state;\n\n        if (nextState.isChatDetailsVisible !== isChatDetailsVisible) {\n            return true;\n        }\n    }\n\n    componentDidMount() {\n        this.loadCache();\n\n        AppStore.on('clientUpdateChatDetailsVisibility', this.onClientUpdateChatDetailsVisibility);\n    }\n\n    componentWillUnmount() {\n        AppStore.off('clientUpdateChatDetailsVisibility', this.onClientUpdateChatDetailsVisibility);\n    }\n\n    async loadCache() {\n        const cache = (await CacheStore.loadCache()) || {};\n\n        this.setState({\n            cache,\n        });\n\n        IMController.clientUpdate({\n            '@type': 'clientUpdateCacheLoaded'\n        });\n    }\n\n    onClientUpdateChatDetailsVisibility = update => {\n        const { isChatDetailsVisible } = AppStore;\n\n        this.setState({ isChatDetailsVisible });\n    };\n\n    handleHeaderClick = () => {\n        this.dialogListRef.current.scrollToTop();\n    };\n\n    render() {\n        const {\n            isChatDetailsVisible,\n        } = this.state;\n        return (\n            <div className={classNames('dialogs', {\n                'dialogs-third-column': isChatDetailsVisible\n            })}>\n                <DialogsHeader\n                    ref={this.dialogsHeaderRef}\n                    onClick={this.handleHeaderClick}\n                />\n                <div className='dialogs-content'>\n                    <DialogsList\n                        ref={this.dialogListRef}\n                        />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Dialogs;","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport './DayMeta.css';\n\nclass DayMeta extends React.Component {\n    componentDidMount() {\n    }\n\n    componentWillUnmount() {\n    }\n\n    render() {\n        const { date, i18n } = this.props;\n\n        return (\n            <div className='day-meta'>\n                <div className='day-meta-wrapper'>\n                    <div>\n                        {new Date(date * 1000).toLocaleDateString('zh-cn', { day: 'numeric', month: 'long' })}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nDayMeta.propTypes = {\n    date: PropTypes.number.isRequired\n};\n\nexport default withTranslation()(DayMeta);\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport UserStore from '../../Stores/UserStore';\nimport AppStore from '../../Stores/ApplicationStore';\nimport ChatStore from '../../Stores/ChatStore';\nimport FileStore from '../../Stores/FileStore';\nimport './UserTile.css';\nimport UserAvatar from \"../../Assets/default_avatar.png\";\n\nclass UserTile extends Component {\n    constructor(props) {\n        super(props);\n\n        if (process.env.NODE_ENV !== 'production') {\n            this.state = {\n                user: UserStore.get(this.props.userId),\n                loaded: false\n            };\n        } else {\n            this.state = {\n                loaded: false\n            };\n        }\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (nextProps.userId !== this.props.userId) {\n            return true;\n        }\n\n        if (nextState.loaded !== this.state.loaded) {\n            return true;\n        }\n\n        return false;\n    }\n\n    componentDidMount() {\n        FileStore.on('clientUpdateUserBlob', this.onClientUpdateUserBlob);\n        FileStore.on('clientUpdateChatBlob', this.onClientUpdateChatBlob);\n        ChatStore.on('updateChatPhoto', this.onUpdateChatPhoto);\n        ChatStore.on('updateChatTitle', this.onUpdateChatTitle);\n        AppStore.on('clientUpdateCacheLoaded', this.onUpdateCache);\n    }\n\n    componentWillUnmount() {\n        FileStore.off('clientUpdateUserBlob', this.onClientUpdateUserBlob);\n        FileStore.off('clientUpdateChatBlob', this.onClientUpdateChatBlob);\n        ChatStore.off('updateChatPhoto', this.onUpdateChatPhoto);\n        ChatStore.off('updateChatTitle', this.onUpdateChatTitle);\n        AppStore.off('clientUpdateCacheLoaded', this.onUpdateCache);\n    }\n\n    onUpdateCache = update => {\n        this.forceUpdate()\n    }\n\n    onClientUpdateUserBlob = update => {\n        const { userId } = this.props;\n\n        if (userId !== update.userId) return;\n\n        if (this.state.loaded) {\n            this.setState({ loaded: false });\n        } else {\n            this.forceUpdate();\n        }\n    };\n\n    onClientUpdateChatBlob = update => {\n        const { userId } = this.props;\n        const { chatId } = update;\n\n        const chat = ChatStore.get(chatId);\n        if (!chat) return;\n        if (!chat.type) return;\n\n        switch (chat.type['@type']) {\n            case 'chatTypeBasicGroup':\n            case 'chatTypeSupergroup': {\n                return;\n            }\n            case 'chatTypePrivate':\n            case 'chatTypeSecret': {\n                if (chat.type.user_id !== userId) return;\n\n                if (this.state.loaded) {\n                    this.setState({ loaded: false });\n                } else {\n                    this.forceUpdate();\n                }\n                break;\n            }\n            default: {\n                break;\n            }\n        }\n    };\n\n    onUpdateChatPhoto = update => {\n        const { chat_id } = update;\n\n        const chat = ChatStore.get(chat_id);\n        if (!chat || !chat.type) return;\n    };\n\n    onUpdateChatTitle = update => {\n        const { userId } = this.props;\n\n        const chat = ChatStore.get(update.chat_id);\n        if (!chat) return;\n        if (!chat.type) return;\n\n        switch (chat.type['@type']) {\n            case 'chatTypeBasicGroup':\n            case 'chatTypeSupergroup': {\n                return;\n            }\n            case 'chatTypePrivate':\n            case 'chatTypeSecret': {\n                if (chat.type.user_id !== userId && !chat.photo) return;\n\n                this.forceUpdate();\n            }\n        }\n    };\n\n    handleSelect = event => {\n        const { userId, onSelect } = this.props;\n        if (!onSelect) return;\n\n        event.stopPropagation();\n        onSelect(userId);\n    };\n\n    handleLoad = () => {\n        this.setState({ loaded: true });\n    };\n\n    render() {\n        const { userId, small } = this.props;\n        const { loaded } = this.state;\n\n        const user = UserStore.get(userId);\n        const src = user && user.avatar ? user.avatar : UserAvatar;\n        const tileLoaded = src && loaded;\n\n        return (\n            <div\n                className={classNames(\n                    'user-tile',\n                    { 'tile-small': small }\n                )}\n                onClick={this.handleSelect}>\n                {!tileLoaded && (\n                    <div className='tile-photo' src={UserAvatar}/>\n                )}\n                {src && <img className='tile-photo' src={src} onLoad={this.handleLoad} draggable={false} alt='' />}\n            </div>\n        );\n    }\n}\n\nUserTile.propTypes = {\n    userId: PropTypes.string.isRequired,\n    firstName: PropTypes.string,\n    lastName: PropTypes.string,\n    onSelect: PropTypes.func,\n    small: PropTypes.bool\n};\n\nexport default UserTile;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport createSvgIcon from '@material-ui/core/esm/internal/svg-icons/createSvgIcon';\n\nexport default createSvgIcon(\n    <g strokeWidth='1' fill='none' fillRule='evenodd' strokeLinecap='round' strokeLinejoin='round'>\n        <g transform='translate(-3.000000, 0.000000)'>\n            <circle strokeWidth='1.2' cx='10' cy='7' r='6' />\n            <line x1='10' y1='3.5' x2='10' y2='7' strokeWidth='1.3' />\n            <line x1='12' y1='9' x2='10' y2='7' strokeWidth='1.3' />\n        </g>\n    </g>,\n    'Pending'\n);\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React from 'react';\nimport createSvgIcon from '@material-ui/core/esm/internal/svg-icons/createSvgIcon';\n\nexport default createSvgIcon(\n    <g stroke='none' strokeWidth='1' fill='none' fillRule='evenodd'>\n        <g transform='translate(-3.000000, 0.000000)' fill='#E53935' fillRule='nonzero'>\n            <path d='M10,0.4 C13.6450793,0.4 16.6,3.35492065 16.6,7 C16.6,10.6450793 13.6450793,13.6 10,13.6 C6.35492065,13.6 3.4,10.6450793 3.4,7 C3.4,3.35492065 6.35492065,0.4 10,0.4 Z M10,9.25 C9.58578644,9.25 9.25,9.58578644 9.25,10 C9.25,10.4142136 9.58578644,10.75 10,10.75 C10.4142136,10.75 10.75,10.4142136 10.75,10 C10.75,9.58578644 10.4142136,9.25 10,9.25 Z M10,2.85 C9.64101491,2.85 9.35,3.14101491 9.35,3.5 L9.35,7.5 C9.35,7.85898509 9.64101491,8.15 10,8.15 C10.3589851,8.15 10.65,7.85898509 10.65,7.5 L10.65,3.5 C10.65,3.14101491 10.3589851,2.85 10,2.85 Z' />\n        </g>\n    </g>,\n    'Error'\n);\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React from 'react';\nimport createSvgIcon from '@material-ui/core/esm/internal/svg-icons/createSvgIcon';\n\nexport default createSvgIcon(\n    <path\n        transform='translate(-4.000000, -2.000000)'\n        d='M7.96833846,10.0490996 L14.5108251,2.571972 C14.7472185,2.30180819 15.1578642,2.27443181 15.428028,2.51082515 C15.6711754,2.72357915 15.717665,3.07747757 15.5522007,3.34307913 L15.4891749,3.428028 L8.48917485,11.428028 C8.2663359,11.6827011 7.89144111,11.7199091 7.62486888,11.5309823 L7.54038059,11.4596194 L4.54038059,8.45961941 C4.2865398,8.20577862 4.2865398,7.79422138 4.54038059,7.54038059 C4.7688373,7.31192388 5.12504434,7.28907821 5.37905111,7.47184358 L5.45961941,7.54038059 L7.96833846,10.0490996 L14.5108251,2.571972 L7.96833846,10.0490996 Z'\n    />,\n    'Sent'\n);\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React from 'react';\nimport createSvgIcon from '@material-ui/core/esm/internal/svg-icons/createSvgIcon';\n\nexport default createSvgIcon(\n    <path\n        transform='translate(-1.000000, -2.000000)'\n        d='M4.96833846,10.0490996 L11.5108251,2.571972 C11.7472185,2.30180819 12.1578642,2.27443181 12.428028,2.51082515 C12.6711754,2.72357915 12.717665,3.07747757 12.5522007,3.34307913 L12.4891749,3.428028 L5.48917485,11.428028 C5.2663359,11.6827011 4.89144111,11.7199091 4.62486888,11.5309823 L4.54038059,11.4596194 L1.54038059,8.45961941 C1.2865398,8.20577862 1.2865398,7.79422138 1.54038059,7.54038059 C1.7688373,7.31192388 2.12504434,7.28907821 2.37905111,7.47184358 L2.45961941,7.54038059 L4.96833846,10.0490996 L11.5108251,2.571972 L4.96833846,10.0490996 Z M9.96833846,10.0490996 L16.5108251,2.571972 C16.7472185,2.30180819 17.1578642,2.27443181 17.428028,2.51082515 C17.6711754,2.72357915 17.717665,3.07747757 17.5522007,3.34307913 L17.4891749,3.428028 L10.4891749,11.428028 C10.2663359,11.6827011 9.89144111,11.7199091 9.62486888,11.5309823 L9.54038059,11.4596194 L8.54038059,10.4596194 C8.2865398,10.2057786 8.2865398,9.79422138 8.54038059,9.54038059 C8.7688373,9.31192388 9.12504434,9.28907821 9.37905111,9.47184358 L9.45961941,9.54038059 L9.96833846,10.0490996 L16.5108251,2.571972 L9.96833846,10.0490996 Z'\n    />,\n    'Succeeded'\n);\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ErrorIcon from '../../Assets/Icons/Error';\nimport PendingIcon from '../../Assets/Icons/Pending';\nimport SentIcon from '../../Assets/Icons/Sent';\nimport SucceededIcon from '../../Assets/Icons/Succeeded';\nimport { isMessageUnread } from '../../Utils/Message';\nimport MessageStore, {StateEnum} from '../../Stores/MessageStore';\nimport './Status.css';\n\nclass Status extends React.Component {\n    state = {};\n\n    static getDerivedStateFromProps(props, state) {\n        const { chatId, messageId } = props;\n\n        const message = MessageStore.get(chatId, messageId);\n        const sendingState = message ? message.state : null;\n\n        if (chatId !== state.prevChatId || messageId !== state.prevMessageId) {\n            return {\n                prevChatId: chatId,\n                prevMessageId: messageId,\n                sendingState,\n                unread: isMessageUnread(chatId, messageId)\n            };\n        }\n\n        return null;\n    }\n\n    componentDidMount() {\n        MessageStore.on('msgAck', this.onUpdateMessageSend);\n        MessageStore.on('msgRead', this.onUpdateMessageSend);\n        MessageStore.on('msgHasRead', this.onUpdateMessageSend);\n    }\n\n    componentWillUnmount() {\n        MessageStore.off('msgAck', this.onUpdateMessageSend);\n        MessageStore.off('msgRead', this.onUpdateMessageSend);\n        MessageStore.off('msgHasRead', this.onUpdateMessageSend);\n    }\n\n    onUpdateMessageSend = update => {\n        const { chatId, messageId } = this.props;\n        const message = MessageStore.get(chatId, messageId);\n        const { msgId: updateMsgId, chatId: updateChatId } = update;\n\n        if (chatId !== updateChatId) return;\n        if (message.msg.getId() !== updateMsgId) return;\n        console.log(\"onUpdateMessageSend\", update);\n\n        this.forceUpdate()\n        // this.setState({ sendingState: sending_state });\n    };\n\n    render() {\n        const { chatId, messageId } = this.props;\n        const message = MessageStore.get(chatId, messageId);\n        if (!message) return null;\n        console.log(\"Status: \", message)\n\n        switch (message.state) {\n            case StateEnum.STATE_SEND:\n                return <PendingIcon\n                    className='status'\n                    viewBox='0 0 14 14'\n                    style={{ width: 16, height: 12, transform: 'translate(0, 1px)', stroke: 'currentColor' }}\n                />;\n            case StateEnum.STATE_ACK:\n                return <SentIcon className='status' viewBox='0 0 12 10' style={{ width: 16, height: 9 }} />;\n            case StateEnum.STATE_READ:\n                return <SucceededIcon className='status' viewBox='0 0 17 10' style={{ width: 16, height: 9 }} />;\n        }\n        return null;\n    }\n}\n\nStatus.propTypes = {\n    chatId: PropTypes.number.isRequired,\n    messageId: PropTypes.number.isRequired\n};\n\nexport default Status;\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { withTranslation } from 'react-i18next';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport Status from './Status';\nimport MessageStore from '../../Stores/MessageStore';\nimport './Meta.css';\nimport {getDate} from \"../../Utils/Message\";\nimport AppStore from \"../../Stores/ApplicationStore\";\n\nclass Meta extends React.Component {\n    render() {\n        const { className, chatId, messageId, date, editDate, onDateClick, t, views, style } = this.props;\n\n        const message = MessageStore.get(chatId, messageId);\n        if (!message) return null;\n\n        const sender_user_id = message.msg.getCid();\n        const is_outgoing = sender_user_id === AppStore.getCid();\n\n        const dateStr = getDate(date);\n\n        return (\n            <div className={classNames('meta', className)} style={style}>\n                <span>&ensp;</span>\n                {views > 0 && (\n                    <>\n                        <VisibilityIcon className='meta-views-icon' />\n                        <span className='meta-views'>\n                            &nbsp;\n                            {views}\n                            &nbsp; &nbsp;\n                        </span>\n                    </>\n                )}\n                {editDate > 0 && <span>{t('EditedMessage')}&nbsp;</span>}\n                <a onClick={onDateClick}>\n                    <span>{dateStr}</span>\n                </a>\n                {is_outgoing && <Status chatId={chatId} messageId={messageId} />}\n            </div>\n        );\n    }\n}\n\nMeta.propTypes = {\n    chatId: PropTypes.number.isRequired,\n    messageId: PropTypes.number.isRequired,\n    views: PropTypes.number,\n    date: PropTypes.number.isRequired,\n    editDate: PropTypes.number,\n    onDateClick: PropTypes.func\n};\n\nexport default withTranslation()(Meta);\n","import * as React from \"react\";\n\nclass Progress extends React.Component {\n    render() {\n        const { progress } = this.props\n        return (\n            <div className=\"progress-container\">\n                <div\n                    className=\"progress-bar\"\n                    style={{width: progress}}\n                />\n            </div>\n        )\n    }\n}\n\nexport default Progress;","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\nimport { compose } from 'recompose';\nimport { withTranslation } from 'react-i18next';\nimport CheckMarkIcon from '@material-ui/icons/Check';\nimport {\n    getMedia,\n    getText, openMedia,\n} from '../../Utils/Message';\nimport UserTile from '../Tile/UserTile';\nimport ChatTile from '../Tile/ChatTile';\n\nimport {\n    openUser,\n    openChat,\n    selectMessage,\n} from '../../Actions/Client';\nimport { getFitSize, getSize } from '../../Utils/Common';\nimport { PHOTO_DISPLAY_SIZE, PHOTO_SIZE } from '../../Constants';\nimport MessageStore, {StateEnum} from '../../Stores/MessageStore';\nimport AppStore from '../../Stores/ApplicationStore';\nimport './Message.css';\nimport Meta from \"./Meta\";\nimport Progress from \"./Progress\";\nimport Document from \"./Document\";\n\nclass Message extends Component {\n    constructor(props) {\n        super(props);\n\n        const { chatId, messageId } = this.props;\n        this.state = {\n            message: MessageStore.get(chatId, messageId),\n            selected: false,\n            highlighted: false,\n            uploadProgress: 0,\n        };\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        const { theme, chatId, messageId, sendingState, showUnreadSeparator, showTail, showTitle } = this.props;\n        const { contextMenu, selected, highlighted, emojiMatches } = this.state;\n\n        if (nextProps.theme !== theme) {\n            // console.log('Message.shouldComponentUpdate true');\n            return true;\n        }\n\n        if (nextProps.chatId !== chatId) {\n            // console.log('Message.shouldComponentUpdate true');\n            return true;\n        }\n\n        if (nextProps.messageId !== messageId) {\n            // console.log('Message.shouldComponentUpdate true');\n            return true;\n        }\n\n        if (nextProps.sendingState !== sendingState) {\n            // console.log('Message.shouldComponentUpdate true');\n            return true;\n        }\n\n        if (nextProps.showUnreadSeparator !== showUnreadSeparator) {\n            // console.log('Message.shouldComponentUpdate true');\n            return true;\n        }\n\n        if (nextProps.showTail !== showTail) {\n            // console.log('Message.shouldComponentUpdate true');\n            return true;\n        }\n\n        if (nextProps.showTitle !== showTitle) {\n            // console.log('Message.shouldComponentUpdate true');\n            return true;\n        }\n\n        if (nextState.contextMenu !== contextMenu) {\n            // console.log('Message.shouldComponentUpdate true');\n            return true;\n        }\n\n        if (nextState.selected !== selected) {\n            // console.log('Message.shouldComponentUpdate true');\n            return true;\n        }\n\n        if (nextState.highlighted !== highlighted) {\n            // console.log('Message.shouldComponentUpdate true');\n            return true;\n        }\n\n        if (nextState.emojiMatches !== emojiMatches) {\n            // console.log('Message.shouldComponentUpdate true');\n            return true;\n        }\n\n        // console.log('Message.shouldComponentUpdate false');\n        return false;\n    }\n\n    componentDidMount() {\n        MessageStore.on('clientUpdateMessageHighlighted', this.onClientUpdateMessageHighlighted);\n        MessageStore.on('clientUpdateMessageSelected', this.onClientUpdateMessageSelected);\n        MessageStore.on('clientUpdateClearSelection', this.onClientUpdateClearSelection);\n        MessageStore.on('updateMessageContent', this.onUpdateMessageContent);\n        MessageStore.on('updateMessageEdited', this.onUpdateMessageEdited);\n        MessageStore.on('updateMessageViews', this.onUpdateMessageViews);\n        MessageStore.on('updateMessageProgress', this.onUpdateMessageProgress);\n    }\n\n    componentWillUnmount() {\n        MessageStore.off('clientUpdateMessageHighlighted', this.onClientUpdateMessageHighlighted);\n        MessageStore.off('clientUpdateMessageSelected', this.onClientUpdateMessageSelected);\n        MessageStore.off('clientUpdateClearSelection', this.onClientUpdateClearSelection);\n        MessageStore.off('updateMessageContent', this.onUpdateMessageContent);\n        MessageStore.off('updateMessageEdited', this.onUpdateMessageEdited);\n        MessageStore.off('updateMessageViews', this.onUpdateMessageViews);\n        MessageStore.off('updateMessageProgress', this.onUpdateMessageProgress);\n    }\n\n    onClientUpdateClearSelection = update => {\n        if (!this.state.selected) return;\n\n        this.setState({ selected: false });\n    };\n\n    onClientUpdateMessageHighlighted = update => {\n        const { chatId, messageId } = this.props;\n        const { selected, highlighted } = this.state;\n\n        if (selected) return;\n\n        if (chatId === update.chatId && messageId === update.messageId) {\n            if (highlighted) {\n                this.setState({ highlighted: false }, () => {\n                    setTimeout(() => {\n                        this.setState({ highlighted: true });\n                    }, 0);\n                });\n            } else {\n                this.setState({ highlighted: true });\n            }\n        } else if (highlighted) {\n            this.setState({ highlighted: false });\n        }\n    };\n\n    onClientUpdateMessageSelected = update => {\n        const { chatId, messageId } = this.props;\n        const { selected } = update;\n\n        if (chatId === update.chatId && messageId === update.messageId) {\n            this.setState({ selected, highlighted: false });\n        }\n    };\n\n    onUpdateMessageEdited = update => {\n        const { chat_id, message_id } = update;\n        const { chatId, messageId } = this.props;\n\n        if (chatId === chat_id && messageId === message_id) {\n            this.forceUpdate();\n        }\n    };\n\n    onUpdateMessageViews = update => {\n        const { chat_id, message_id } = update;\n        const { chatId, messageId } = this.props;\n\n        if (chatId === chat_id && messageId === message_id) {\n            this.forceUpdate();\n        }\n    };\n\n    onUpdateMessageProgress = update => {\n        const { chat_id, message_id } = update;\n        const { chatId, messageId } = this.props;\n\n        if (chatId === chat_id && messageId === message_id) {\n            this.state.uploadProgress = update.progress;\n            this.forceUpdate();\n        }\n    };\n\n    onUpdateMessageContent = update => {\n        const { chat_id, message_id } = update;\n        const { chatId, messageId } = this.props;\n        const { emojiMatches } = this.state;\n\n        if (chatId !== chat_id) return;\n        if (messageId !== message_id) return;\n\n        const newEmojiMatches = false;\n        if (newEmojiMatches !== emojiMatches) {\n            this.setState({ emojiMatches: false});\n        } else {\n            this.forceUpdate();\n        }\n    };\n\n    handleSelectUser = userId => {\n    };\n\n    handleSelectChat = chatId => {\n        openChat(chatId, null, true);\n    };\n\n    handleSelection = () => {\n        if (!this.mouseDown) return;\n\n        // const selection = window.getSelection().toString();\n        // if (selection) return;\n        //\n        // const { chatId, messageId } = this.props;\n        //\n        // const selected = !MessageStore.selectedItems.has(`chatId=${chatId}_messageId=${messageId}`);\n        // selectMessage(chatId, messageId, selected);\n    };\n\n    handleAnimationEnd = () => {\n        this.setState({ highlighted: false });\n    };\n\n    handleMouseDown = () => {\n        this.mouseDown = true;\n    };\n\n    handleMouseOver = () => {\n        this.mouseDown = false;\n    };\n\n    handleMouseOut = () => {\n        this.mouseOut = false;\n    };\n\n    handleContextMenu = async event => {\n        if (event) {\n            event.preventDefault();\n            event.stopPropagation();\n        }\n\n        const { contextMenu } = this.state;\n\n        if (contextMenu) {\n            this.setState({ contextMenu: false });\n        } else {\n            const left = event.clientX;\n            const top = event.clientY;\n\n            this.setState({\n                contextMenu: true,\n                left,\n                top\n            });\n        }\n    };\n\n    handleCloseContextMenu = event => {\n        if (event) {\n            event.stopPropagation();\n        }\n\n        this.setState({ contextMenu: false });\n    };\n\n\n    handleSelect = event => {\n        const { chatId, messageId } = this.props;\n\n        this.handleCloseContextMenu(event);\n\n        selectMessage(chatId, messageId, true);\n    };\n\n    getMessageStyle(chatId, messageId) {\n        const message = MessageStore.get(chatId, messageId);\n        if (!message) return null;\n\n        const { content } = message;\n        if (!content) return null;\n\n        switch (content['@type']) {\n            case 'messageAnimation': {\n                const { animation } = content;\n                if (!animation) return null;\n\n                const { width, height, thumbnail } = animation;\n\n                const size = { width, height } || thumbnail;\n                if (!size) return null;\n\n                const fitSize = getFitSize(size, PHOTO_DISPLAY_SIZE, false);\n                if (!fitSize) return null;\n\n                return { width: fitSize.width };\n            }\n            case 'messagePhoto': {\n                const { photo } = content;\n                if (!photo) return null;\n\n                const size = getSize(photo.sizes, PHOTO_SIZE);\n                if (!size) return null;\n\n                const fitSize = getFitSize(size, PHOTO_DISPLAY_SIZE, false);\n                if (!fitSize) return null;\n\n                return { width: fitSize.width };\n            }\n            case 'messageVideo': {\n                const { video } = content;\n                if (!video) return null;\n\n                const { thumbnail, width, height } = video;\n\n                const size = { width, height } || thumbnail;\n                if (!size) return null;\n\n                const fitSize = getFitSize(size, PHOTO_DISPLAY_SIZE);\n                if (!fitSize) return null;\n\n                return { width: fitSize.width };\n            }\n        }\n\n        return null;\n    }\n\n    openMedia = event => {\n        if (event) {\n            event.preventDefault();\n            event.stopPropagation();\n        }\n\n        const { chatId, messageId } = this.props;\n\n        openMedia(chatId, messageId);\n    };\n\n    render() {\n        const { t, chatId, messageId, showUnreadSeparator, showTail, showTitle } = this.props;\n        const { emojiMatches, selected, highlighted, contextMenu, left, top, uploadProgress } = this.state;\n\n        const message = MessageStore.get(chatId, messageId);\n        console.log(\"Message: \", messageId, message)\n        if (!message) return <div>[empty message]</div>;\n        const {state, msg} = message;\n\n        const sender_user_id = message.msg.getCid();\n        const is_outgoing = sender_user_id === AppStore.getCid();\n        const date = msg.getAckts() ? new Date(msg.getAckts() / 1000_000_000) : msg.getJetts() / 1000;\n\n        const inlineMeta = (\n            <Meta\n                className='meta-hidden'\n                chatId={chatId}\n                messageId={messageId}\n                date={date}\n            />\n        );\n        const text = getText(msg, inlineMeta);\n        const hasCaption = false; // text !== null && text.length > 0;\n        const hasTitle = false; // showTitle || showForward || Boolean(reply_to_message_id);\n        const media = getMedia(msg, this.openMedia, chatId, messageId);\n        const isSending = state === StateEnum.STATE_SEND;\n        const progress = isSending ? <Progress progress={uploadProgress}/> : null;\n        let tile = <UserTile small userId={sender_user_id} onSelect={this.handleSelectUser} />;\n        if (showTail) {\n            tile = sender_user_id ? (\n                <UserTile small userId={sender_user_id} onSelect={this.handleSelectUser} />\n            ) : (\n                <ChatTile small chatId={chatId} onSelect={this.handleSelectChat} />\n            );\n        }\n\n        const style = this.getMessageStyle(chatId, messageId);\n        const withBubble = true;\n\n        return (\n            <div\n                className={classNames('message', {\n                    'message-out': is_outgoing,\n                })}\n                onMouseOver={this.handleMouseOver}\n                onMouseOut={this.handleMouseOut}\n                onMouseDown={this.handleMouseDown}\n                onClick={this.handleSelection}\n                onAnimationEnd={this.handleAnimationEnd}\n                onContextMenu={this.handleContextMenu}>\n                <div className='message-body'>\n                    <div className='message-padding'>\n                        <CheckMarkIcon className='message-select-tick' />\n                    </div>\n                    <div className={classNames('message-wrapper', {})}>\n                        {tile}\n                        <div\n                            className={classNames('message-content', {\n                                'message-bubble': withBubble,\n                                'message-bubble-out': withBubble && is_outgoing\n                            })}\n                            style={style}>\n                            {media}\n                            {progress}\n                            <div\n                                className={classNames('message-text')}>\n                                {text}\n                            </div>\n\n                            <Meta\n                                className={classNames('meta-text', {\n                                    'meta-bubble': false,\n                                })}\n                                chatId={chatId}\n                                messageId={messageId}\n                                date={date}\n                            />\n                        </div>\n                        <div className='message-tile-padding' />\n                    </div>\n                    <div className='message-padding' />\n                </div>\n            </div>\n        );\n    }\n}\n\nconst enhance = compose(\n    withTranslation(),\n);\n\nexport default enhance(Message);\n","import React from \"react\";\nimport DayMeta from \"../message/DayMeta\";\nimport ChatStore from '../../Stores/ChatStore';\nimport MessageStore, {isOutgoing, StateEnum} from '../../Stores/MessageStore';\nimport './MessagesList.css';\nimport Message from \"../message/Message\";\nimport {historyEquals} from \"../../Utils/Common\";\nimport IMController from '../../Controllers/IMController';\n\nclass MessagesList extends React.Component {\n\n    constructor(props) {\n        super(props);\n        console.log(`MessagesList.ctor chat_id=${props.chatId} message_id=${props.messageId}`);\n        this.sessionId = Date.now();\n        this.state = {\n            history: [],\n        };\n\n        this.listRef = React.createRef();\n        this.itemsRef = React.createRef();\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        const {chatId, messageId} = this.props;\n        const {scrollDownVisible} = this.state;\n\n        if (prevProps.chatId !== chatId || prevProps.messageId !== messageId) {\n            this.handleSelectChat(chatId, prevProps.chatId, messageId, prevProps.messageId);\n        }\n    }\n\n    componentDidMount() {\n        MessageStore.on('tgtMsgSend', this.onNewMessage);\n        MessageStore.on('msgAck', this.onAckMessage);\n        MessageStore.on('clientUpdateMessagesLoaded', this.onLoadCache)\n        MessageStore.on('msgRead', this.onReadMessage);\n        MessageStore.on('clientSendMessage', this.onSendMessage);\n    }\n\n    componentWillUnmount() {\n        MessageStore.off('tgtMsgSend', this.onNewMessage);\n        MessageStore.off('msgAck', this.onAckMessage);\n        MessageStore.off('clientUpdateMessagesLoaded', this.onLoadCache)\n        MessageStore.off('msgRead', this.onReadMessage);\n        MessageStore.off('clientSendMessage', this.onSendMessage);\n    }\n\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\n        const { chatId, messageId, theme } = this.props;\n        const { playerOpened, history, dragging, clearHistory, selectionActive, scrollDownVisible } = this.state;\n\n        if (nextProps.chatId !== chatId) {\n            console.log('[ml] shouldComponentUpdate chatId');\n            return true;\n        }\n        if (!historyEquals(nextState.history, history)) {\n            // console.trace('[ml] shouldComponentUpdate history', nextState.history, history);\n            return true;\n        }\n        return false;\n    }\n\n    onNewMessage = update => {\n        const { chat_id, msg} = update;\n        const { chatId } = this.props;\n        if (chatId !== chat_id) return;\n        msg && IMController.readMessage(chatId, msg);\n\n        this.setState({history:MessageStore.getMessages(chatId)})\n\n        this.scrollToBottom();\n    };\n\n    onLoadCache = update => {\n        const { chatId } = this.props;\n        this.setState({history:MessageStore.getMessages(chatId)})\n\n        this.scrollToBottom();\n    }\n\n    onSendMessage = update => {\n        const { chatId } = this.props;\n        this.setState({history:MessageStore.getMessages(chatId)})\n        this.scrollToBottom();\n    };\n\n    onAckMessage = update => {\n        const { chatId } = this.props;\n        this.setState({history:MessageStore.getMessages(chatId)})\n        this.scrollToBottom();\n    }\n\n    onReadMessage = update => {\n\n    }\n\n    async handleSelectChat(chatId, previousChatId, messageId, previousMessageId) {\n        const chat = ChatStore.get(chatId);\n        const previousChat = ChatStore.get(previousChatId);\n\n        this.readMessages();\n    }\n\n    scrollToBottom = () => {\n        const { chatId, messageId } = this.props;\n        const list = this.listRef.current;\n\n        // console.log(\n        //     `MessagesList.scrollToBottom before\n        //     chatId=${chatId} messageId=${messageId}\n        //     list.scrollTop=${list.scrollTop}\n        //     list.offsetHeight=${list.offsetHeight}\n        //     list.scrollHeight=${list.scrollHeight}`\n        // );\n\n        const nextScrollTop = list.scrollHeight - list.offsetHeight;\n        if (nextScrollTop !== list.scrollTop) {\n            list.scrollTop = list.scrollHeight - list.offsetHeight;\n        }\n    };\n\n    scrollToStart = async () => {\n    };\n\n    render() {\n        const { chatId } = this.props;\n\n        const history = MessageStore.getMessages(chatId);\n\n        this.messages = !history\n            ? null\n            : history.map((x, i) => {\n            const prevMessage = i > 0 ? history[i - 1].msg : null;\n            const nextMessage = i < history.length - 1 ? history[i + 1].msg : null;\n\n            console.log(\"msglist\", chatId, x.msg);\n            const showDate = this.showMessageDate(x.msg, prevMessage, i === 0);\n            const messageId = isOutgoing(x.state) ? x.msg.getJetts() : x.msg.getId();\n            const date = x.msg.getId() ? x.msg.getAckts() / 1000_000_000 : x.msg.getJetts();\n            console.log(\"MessagesList render messages:\", messageId, x.msg);\n            const showTitle = false;\n            const showTail = false;\n            const showUnreadSeparator = false;\n\n            let m = null;\n\n            if (x.msg) {\n                m = (\n                    <Message\n                        key={`chat_id=${x.msg.getConversationid()} message_id=${messageId}`}\n                        ref={el => this.itemsMap.set(i, el)}\n                        chatId={x.msg.getConversationid()}\n                        messageId={messageId}\n                        // sendingState={x.sending_state}\n                        showTitle={showTitle}\n                        showTail={showTail}\n                        showUnreadSeparator={showUnreadSeparator}\n                    />\n                );\n            }\n            return (\n                <div key={`chat_id=${x.msg.getConversationid()} message_id=${messageId}`}>\n                    {showDate && <DayMeta date={date} />}\n                    {m}\n                </div>\n            );\n        });\n\n        return (\n            <div\n                className={'messages-list'}\n                onDragEnter={this.handleListDragEnter}>\n                <div ref={this.listRef} className='messages-list-wrapper' onScroll={this.handleScroll}>\n                    <div className='messages-list-top' />\n                    <div ref={this.itemsRef} className='messages-list-items'>\n                        {this.messages}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    showMessageDate(message, prevMessage, isFirst) {\n        if (isFirst) {\n            return true;\n        }\n\n        const [ackTs, jetTs] = [message.getAckts(), message.getJetts()]\n        const date = ackTs ? new Date(ackTs / 1000_000) : new Date(jetTs);\n        const prevDate = prevMessage ? (new Date(prevMessage.getAckts() ? prevMessage.getAckts() / 1000_000: prevMessage.getJetts())): date;\n\n        if (\n            date.getFullYear() !== prevDate.getFullYear() ||\n            date.getMonth() !== prevDate.getMonth() ||\n            date.getDate() !== prevDate.getDate()\n        ) {\n            console.log(\"message:\", message, 'prevMessage', prevMessage);\n            return true;\n        }\n\n        return false;\n    }\n\n    handleListDragEnter = event => {\n        event.preventDefault();\n        event.stopPropagation();\n\n        const { chatId } = this.props;\n        console.log(\"handleListDragEnter: \", event)\n    };\n\n    handleScroll = () => {\n    }\n\n    readMessages() {\n        const {chatId} = this.props;\n        const messages = MessageStore.getMessages(chatId);\n        messages.forEach(x => {\n            if (x.state === StateEnum.STATE_RECEIPT) {\n                IMController.readMessage(chatId, x.msg);\n            }\n        })\n    }\n}\n\nexport default MessagesList;","import * as React from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport {withTranslation} from \"react-i18next\";\nimport {compose} from \"recompose\";\n\n\nclass MainMenuButton extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            anchorEl: null,\n        };\n    }\n\n    handleButtonClick = event => {\n        this.setState({ anchorEl: event.currentTarget });\n    };\n\n    handleChatInfo = () => {\n        this.handleMenuClose();\n        setTimeout(() => this.props.openChatDetails(), 150);\n    };\n\n    handleMenuClose = () => {\n        this.setState({ anchorEl: null });\n    };\n    handleLogOut = () => {\n        this.handleMenuClose();\n\n        this.props.onLogOut();\n    };\n\n    render() {\n        const { anchorEl } = this.state;\n        return (\n            <>\n                <IconButton\n                    aria-owns={anchorEl ? 'simple-menu' : null}\n                    aria-haspopup='true'\n                    className='main-menu-button'\n                    aria-label='Menu'\n                    onClick={this.handleButtonClick}>\n                    <MoreVertIcon />\n                </IconButton>\n\n                <Menu\n                    id='main-menu'\n                    anchorEl={anchorEl}\n                    open={Boolean(anchorEl)}\n                    onClose={this.handleMenuClose}\n                    getContentAnchorEl={null}\n                    disableAutoFocusItem\n                    disableRestoreFocus={true}\n                    anchorOrigin={{\n                        vertical: 'bottom',\n                        horizontal: 'right'\n                    }}\n                    transformOrigin={{\n                        vertical: 'top',\n                        horizontal: 'right'\n                    }}>\n                    <MenuItem onClick={this.handleChatInfo}>{'ChatInfo'}</MenuItem>\n                </Menu>\n            </>\n        );\n    }\n}\n\nconst enhance = compose(\n    withTranslation()\n);\n\nexport default enhance(MainMenuButton);\n\n","import * as React from \"react\";\nimport classNames from 'classnames';\nimport DialogTitle from \"../Tile/DialogTitle\";\n\nclass HeaderChat extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        const { className, chatId, onClick } = this.props;\n\n        return (\n            <div className={classNames('header-chat', className)} onClick={onClick}>\n                <div className='header-chat-content'>\n                    <DialogTitle chatId={chatId} />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default HeaderChat;","import React from \"react\";\nimport AppStore from '../../Stores/ApplicationStore';\nimport ChatStore from '../../Stores/ChatStore';\nimport MainMenuButton from \"./MainMenuButton\";\nimport classNames from 'classnames';\nimport HeaderChat from \"./HeaderChat\";\nimport './Header.css';\n\n\nclass Header extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            connectionState: AppStore.getConnectionState(),\n            openDeleteDialog: false\n        };\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (nextState !== this.state) {\n            return true;\n        }\n\n        return false;\n    }\n\n    openChatDetails = () => {\n        const chatId = AppStore.getChatId();\n        const chat = ChatStore.get(chatId);\n        if (!chat) return;\n\n        AppStore.changeChatDetailsVisibility(true);\n    };\n\n    render() {\n        const chatId = AppStore.getChatId();\n        const chat = ChatStore.get(chatId);\n\n        return (\n            <div className={'header'}>\n                <HeaderChat\n                    className={classNames('grow', 'cursor-pointer')}\n                    chatId={chatId}\n                    onClick={this.openChatDetails}\n                />\n                <MainMenuButton openChatDetails={this.openChatDetails} />\n            </div>\n        )\n    }\n}\n\nexport default Header;","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React from 'react';\nimport createSvgIcon from '@material-ui/core/esm/internal/svg-icons/createSvgIcon';\n\nexport default createSvgIcon(\n    <path d='M2.65383364,2.92607697 L4.145798,9.778632 C4.26700994,10.3353554 4.73555061,10.7489799 5.30300879,10.8002098 L16.196355,11.7836569 C16.3159306,11.7944521 16.4041145,11.9001385 16.3933192,12.0197141 C16.3838746,12.1243302 16.3009783,12.2072294 16.1963626,12.2166777 L5.30295988,13.2005138 C4.73552551,13.2517615 4.26701089,13.6653731 4.14579755,14.2220735 L2.65385781,21.074154 C2.55168485,21.543407 2.84926209,22.0066394 3.31851517,22.1088123 C3.50628037,22.1496954 3.70229947,22.1272304 3.87594675,22.0449272 L23.4110848,12.7858981 C23.8450551,12.5802101 24.0301144,12.0616646 23.8244264,11.6276943 C23.7384721,11.4463438 23.5924353,11.300307 23.4110848,11.2143527 L3.87592461,1.95531307 C3.44195432,1.74962507 2.92340882,1.93468443 2.71772082,2.36865471 C2.63541897,2.54229904 2.61295329,2.73831451 2.65383364,2.92607697 Z' />,\n    'Send'\n);\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React from 'react';\nimport createSvgIcon from '@material-ui/core/esm/internal/svg-icons/createSvgIcon';\n\nexport default createSvgIcon(\n    <path d='M11.657825,8.68730116 L7.89384699,12.5266719 C6.53977525,13.9078658 6.53979565,16.118605 7.89389288,17.4997739 C9.18119565,18.812813 11.2598788,18.8798255 12.6276396,17.6859428 L12.8071445,17.5177786 L19.3928802,10.8005213 C21.4766204,8.67512215 21.4766204,5.27313659 19.3928802,3.14773741 C17.4051081,1.12022499 14.1862843,1.0310006 12.0906645,2.90336495 L11.834659,3.14773741 L5.26671543,9.84699003 C2.45333216,12.7166196 2.45333216,17.3098454 5.26671543,20.179475 C7.96150749,22.9281424 12.3352577,23.0332941 15.1578204,20.4629606 L15.452067,20.1794113 L19.2160679,16.340063 C19.6027032,15.945688 19.596429,15.3125541 19.202054,14.9259188 C18.8076791,14.5392835 18.1745452,14.5455577 17.7879099,14.9399327 L13.9520378,18.8511531 C11.9281881,20.8353343 8.67903707,20.8031766 6.6948559,18.7793268 C4.64395201,16.6874204 4.64395201,13.3390446 6.6948559,11.2471382 L13.3088798,4.50180526 C14.6072848,3.22884976 16.6917843,3.24948061 17.9647398,4.54788555 C19.2860006,5.89556155 19.2860006,8.05269718 17.9647398,9.40037319 L11.3764629,16.119959 C10.803533,16.6816592 9.88373353,16.6725557 9.32203335,16.0996258 C8.73040544,15.4961698 8.73039653,14.5302606 9.3220133,13.9267937 L13.0859914,10.0874229 C13.4726243,9.6930457 13.4663463,9.05991185 13.0719691,8.67327889 C12.6775919,8.28664594 12.044458,8.29292392 11.657825,8.68730116 Z' />,\n    'Attach'\n);\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React from 'react';\nimport createSvgIcon from '@material-ui/core/esm/internal/svg-icons/createSvgIcon';\n\nexport default createSvgIcon(\n    <path d='M12.1715729,2 C12.9672223,2 13.7302841,2.31607052 14.2928932,2.87867966 L21.1213203,9.70710678 C21.6839295,10.2697159 22,11.0327777 22,11.8284271 L22,19 C22,20.6568542 20.6568542,22 19,22 L5,22 C3.34314575,22 2,20.6568542 2,19 L2,5 C2,3.34314575 3.34314575,2 5,2 L12.1715729,2 Z M11,4 L5,4 C4.44771525,4 4,4.44771525 4,5 L4,19 C4,19.5522847 4.44771525,20 5,20 L19,20 C19.5522847,20 20,19.5522847 20,19 L20,13 L14,13 C12.4023191,13 11.0963391,11.75108 11.0050927,10.1762728 L11,10 L11,4 Z M19.586,11 L13,4.414 L13,10 C13,10.5128358 13.3860402,10.9355072 13.8833789,10.9932723 L14,11 L19.586,11 Z' />,\n    'Document'\n);\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React from 'react';\nimport createSvgIcon from '@material-ui/core/esm/internal/svg-icons/createSvgIcon';\n\nexport default createSvgIcon(\n    <path d='M19,2 C20.6568542,2 22,3.34314575 22,5 L22,19 C22,20.6568542 20.6568542,22 19,22 L5,22 C3.34314575,22 2,20.6568542 2,19 L2,5 C2,3.34314575 3.34314575,2 5,2 L19,2 Z M8.95903938,14.4653367 L8.89694708,14.4202095 C8.68789701,14.291568 8.42133316,14.3352159 8.26303498,14.5116789 L8.2090719,14.5840012 L4.88033327,19.9929138 L4.93969424,19.9982115 L4.93969424,19.9982115 L12.446,20 L9.05890452,14.5810435 C9.0316623,14.5374559 8.99794603,14.4984621 8.95903938,14.4653367 L8.89694708,14.4202095 L8.95903938,14.4653367 Z M15.6580762,12.1926572 C15.4476303,12.0663122 15.1815603,12.1128758 15.0252035,12.2910614 L14.9720355,12.3639701 L12.551,16.396 L14.803,20 L19,20 C19.5410622,20 19.9817615,19.5702952 19.9994483,19.0335352 L15.8247114,12.3563345 C15.7828678,12.2893847 15.7257647,12.2332952 15.6580762,12.1926572 Z M19,4 L5,4 C4.44771525,4 4,4.44771525 4,5 L4,17.606 L6.50573804,13.5358344 C7.19919591,12.4089238 8.64230264,12.0252274 9.79631538,12.6320827 L9.94511393,12.7168756 C10.2187146,12.885239 10.4567799,13.1044297 10.6467737,13.3619985 L10.7549011,13.5210456 L11.361,14.492 L13.2573282,11.3345145 C13.9384069,10.2000794 15.3772263,9.80060652 16.5378139,10.3947912 L16.6875318,10.4779499 C16.9695672,10.6472749 17.2148477,10.8702509 17.409849,11.1335934 L17.5207081,11.2963367 L20,15.264 L20,5 C20,4.44771525 19.5522847,4 19,4 Z' />,\n    'SharedMedia'\n);\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport AttachFileIcon from '../../Assets/Icons/Attach';\nimport IconButton from '@material-ui/core/IconButton';\nimport InsertDriveFileIcon from '../../Assets/Icons/Document';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport PhotoIcon from '../../Assets/Icons/SharedMedia';\nimport { ANIMATION_DURATION_300MS } from '../../Constants';\n\nclass AttachButton extends React.Component {\n    state = {\n        anchorEl: null\n    };\n\n    handleMenuClick = event => {\n        this.setState({ anchorEl: event.currentTarget });\n    };\n\n    handleMenuClose = () => {\n        this.setState({ anchorEl: null });\n    };\n\n    handleAttachPhoto = () => {\n        this.handleMenuClose();\n\n        const { onAttachPhoto } = this.props;\n        if (!onAttachPhoto) return;\n\n        setTimeout(() => onAttachPhoto(), ANIMATION_DURATION_300MS);\n    };\n\n    handleAttachDocument = () => {\n        this.handleMenuClose();\n\n        const { onAttachDocument } = this.props;\n        if (!onAttachDocument) return;\n\n        setTimeout(() => onAttachDocument(), ANIMATION_DURATION_300MS);\n    };\n\n    handleAttachPoll = () => {\n        this.handleMenuClose();\n\n        const { onAttachPoll } = this.props;\n        if (!onAttachPoll) return;\n\n        onAttachPoll();\n    };\n\n    render() {\n        const { classes, t, chatId } = this.props;\n        const { anchorEl } = this.state;\n\n        return (\n            <>\n                <IconButton\n                    className='inputbox-icon-button'\n                    aria-label='Attach'\n                    open={Boolean(anchorEl)}\n                    onClick={this.handleMenuClick}>\n                    <AttachFileIcon />\n                </IconButton>\n                <Menu\n                    id='attach-menu'\n                    anchorEl={anchorEl}\n                    open={Boolean(anchorEl)}\n                    getContentAnchorEl={null}\n                    disableAutoFocusItem\n                    disableRestoreFocus={true}\n                    anchorOrigin={{\n                        vertical: 'top',\n                        horizontal: 'right'\n                    }}\n                    transformOrigin={{\n                        vertical: 'bottom',\n                        horizontal: 'right'\n                    }}\n                    onClose={this.handleMenuClose}>\n                    <MenuItem onClick={this.handleAttachPhoto} >\n                        <ListItemIcon>\n                            <PhotoIcon />\n                        </ListItemIcon>\n                        <ListItemText primary={t('AttachPhoto')} />\n                    </MenuItem>\n                    <MenuItem onClick={this.handleAttachDocument} >\n                        <ListItemIcon>\n                            <InsertDriveFileIcon />\n                        </ListItemIcon>\n                        <ListItemText primary={t('AttachDocument')} />\n                    </MenuItem>\n                </Menu>\n            </>\n        );\n    }\n}\n\nAttachButton.propTypes = {\n    chatId: PropTypes.number.isRequired,\n    onAttachDocument: PropTypes.func.isRequired,\n    onAttachPhoto: PropTypes.func.isRequired,\n    onAttachPoll: PropTypes.func.isRequired\n};\n\nexport default withTranslation()(AttachButton);\n","import React from \"react\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport AppStore from '../../Stores/ApplicationStore';\nimport ChatStore from '../../Stores/ChatStore';\nimport SendIcon from '../../Assets/Icons/Send';\nimport './InputBoxControl.css';\nimport IMController from '../../Controllers/IMController';\nimport AttachButton from \"./AttachButton\";\nimport {readImageSize} from \"../../Utils/Common\";\n\nvar msg_pb = require('../../gen/msg_pb');\n\nclass InputboxControl extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.attachDocumentRef = React.createRef();\n        this.attachPhotoRef = React.createRef();\n        this.imageRef = React.createRef();\n        this.newMessageRef = React.createRef();\n\n        const chatId = AppStore.getChatId();\n\n        this.state = {\n            chatId,\n        };\n    }\n\n    componentDidMount() {\n        AppStore.on('clientUpdateChatId', this.onClientUpdateChatId);\n    }\n\n    componentWillUnmount() {\n        AppStore.off('clientUpdateChatId', this.onClientUpdateChatId);\n    }\n\n    onClientUpdateChatId = update => {\n        const {chatId} = this.state;\n        if (chatId === update.nextChatId) return;\n\n        this.setState(\n            {\n                chatId: update.nextChatId,\n            })\n    };\n\n    handleKeyDown = event => {\n        const { altKey, ctrlKey, keyCode, metaKey, repeat, shiftKey } = event;\n\n        // console.log('[k] handleKeyDown', altKey, ctrlKey, keyCode, metaKey, repeat, shiftKey);\n\n        switch (keyCode) {\n            // enter\n            case 13: {\n                if (!altKey && !ctrlKey && !metaKey && !shiftKey) {\n                    if (!repeat) this.handleSubmit();\n\n                    event.preventDefault();\n                    event.stopPropagation();\n                }\n                break;\n            }\n            // esc\n            case 27: {\n                if (!altKey && !ctrlKey && !metaKey && !shiftKey) {\n                    if (!repeat) this.handleCancel();\n\n                    event.preventDefault();\n                    event.stopPropagation();\n                }\n                break;\n            }\n        }\n    };\n\n    handleSubmit = () => {\n        const { chatId, editMessageId } = this.state;\n        const element = this.newMessageRef.current;\n        if (!element) return;\n\n        let { innerHTML } = element;\n\n        element.innerText = null;\n        this.handleInput();\n\n        if (!innerHTML) return;\n        if (!innerHTML.trim()) return;\n\n        innerHTML = innerHTML.replace(/<div><br><\\/div>/gi, '<br>');\n        innerHTML = innerHTML.replace(/<div>/gi, '<br>');\n        innerHTML = innerHTML.replace(/<\\/div>/gi, '');\n\n        this.sendMessage(innerHTML, false, result => {});\n    };\n\n    render() {\n        const {\n            chatId,\n        } = this.state;\n        return (\n            <div\n                className='inputbox-background'>\n                <div className='inputbox'>\n                    <div className='inputbox-bubble'>\n                        <div className='inputbox-wrapper'>\n                            <div className='inputbox-left-column'>\n                            </div>\n                            <div className='inputbox-middle-column'>\n                                <div\n                                    id='inputbox-message'\n                                    ref={this.newMessageRef}\n                                    contentEditable\n                                    suppressContentEditableWarning\n                                    onKeyDown={this.handleKeyDown}\n                                    onPaste={this.handlePaste}\n                                    onInput={this.handleInput}>\n                                </div>\n                            </div>\n                            <div className='inputbox-right-column'>\n                                <input\n                                    ref={this.attachDocumentRef}\n                                    className='inputbox-attach-button'\n                                    type='file'\n                                    multiple='multiple'\n                                    onChange={this.handleAttachDocumentComplete}\n                                />\n                                <input\n                                    ref={this.attachPhotoRef}\n                                    className='inputbox-attach-button'\n                                    type='file'\n                                    multiple='multiple'\n                                    accept='image/*'\n                                    onChange={this.handleAttachPhotoComplete}\n                                />\n                                <AttachButton\n                                    chatId={chatId}\n                                    onAttachPhoto={this.handleAttachPhoto}\n                                    onAttachDocument={this.handleAttachDocument}\n                                    onAttachPoll={this.handleAttachPoll}\n                                />\n                            </div>\n\n                        </div>\n                    </div>\n                    <div className='inputbox-send-button-background'>\n                        <IconButton\n                            className='inputbox-send-button'\n                            aria-label='Send'\n                            size='small'\n                            onClick={this.handleSubmit}>\n                            {/*{editMessageId ? <DoneIcon /> : <SendIcon />}*/}\n                            <SendIcon />\n                        </IconButton>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    handleInput() {\n\n    }\n\n    handleAttachDocument = () => {\n        if (!this.attachDocumentRef) return;\n\n        this.attachDocumentRef.current.click();\n    };\n\n    handleAttachDocumentComplete = () => {\n        const files = this.attachDocumentRef.current.files;\n        if (files.length === 0) return;\n\n        Array.from(files).forEach(file => {\n            this.handleSendDocument(file);\n        });\n\n        this.attachDocumentRef.current.value = '';\n    };\n\n    handleAttachPhoto = () => {\n        if (!this.attachPhotoRef) return;\n\n        this.attachPhotoRef.current.click();\n    };\n\n    handleAttachPhotoComplete = () => {\n        const files = this.attachPhotoRef.current.files;\n        if (files.length === 0) return;\n\n        Array.from(files).forEach(file => {\n            // this.handleSendPhoto(file)\n            readImageSize(file, result => {\n                this.handleSendPhoto(result);\n            });\n        });\n\n        this.attachPhotoRef.current.value = '';\n    };\n\n    handleSendPhoto = file => {\n        if (!file) return;\n\n        const content = {\n            '@type': 'inputMessagePhoto',\n            photo: { '@type': 'inputFileBlob', name: file.name, data: file },\n            width: file.photoWidth,\n            height: file.photoHeight\n        };\n\n        // this.imageRef.current.src = file.blob // window.URL.createObjectURL(file)\n\n        const image = new msg_pb.Image();\n        image.setLocalpath(file.blob);\n        const msg = new msg_pb.Msg();\n        msg.setConversationid(this.state.chatId);\n        msg.setCid(AppStore.getCid());\n        msg.setType(msg_pb.MsgType.PICTURE);\n        msg.setJetts(Date.now());\n        msg.setBlob(image.serializeBinary())\n\n        const chat = ChatStore.get(this.state.chatId);\n        if (!chat) {\n            console.error(\"sendMessage failed!\")\n            return;\n        }\n\n        IMController.sendImage(msg, content.photo.data, file.name, chat.conv);\n    };\n\n    handlePaste = event => {\n        const items = (event.clipboardData || event.originalEvent.clipboardData).items;\n\n        const files = [];\n        for (let i = 0; i < items.length; i++) {\n            if (items[i].kind.indexOf('file') === 0) {\n                files.push(items[i].getAsFile());\n            }\n        }\n\n        if (files.length > 0) {\n            event.preventDefault();\n\n            this.setState({ files });\n            return;\n        }\n\n        const plainText = event.clipboardData.getData('text/plain');\n        if (plainText) {\n            event.preventDefault();\n            document.execCommand('insertText', false, plainText);\n            return;\n        }\n    };\n\n    handleSendDocument = file => {\n        if (!file) return;\n        console.log(\"handleSendDocument\", file)\n\n        const content = {\n            '@type': 'inputMessageDocument',\n            document: { '@type': 'inputFileBlob', name: file.name, data: file }\n        };\n\n        const fileBean = new msg_pb.FileBean();\n        fileBean.setSize(file.size);\n        fileBean.setName(file.name);\n        // fileBean.setMd5();\n\n        const msg = new msg_pb.Msg();\n        msg.setConversationid(this.state.chatId);\n        msg.setCid(AppStore.getCid());\n        msg.setType(msg_pb.MsgType.FILE);\n        msg.setJetts(Date.now());\n        msg.setBlob(fileBean.serializeBinary())\n\n        const chat = ChatStore.get(this.state.chatId);\n        if (!chat) {\n            console.error(\"sendMessage failed!\")\n            return;\n        }\n\n        IMController.sendFile(msg, content.document.data, file.name, chat.conv);\n     };\n\n    sendMessage = async (inputContent, b, f) => {\n        const msg = new msg_pb.Msg();\n        console.log(\"IMController sendMsg\", inputContent);\n        msg.setConversationid(this.state.chatId);\n        msg.setCid(AppStore.getCid());\n        msg.setType(msg_pb.MsgType.TEXT);\n        msg.setJetts(Date.now());\n        msg.setBlob(new TextEncoder(\"utf-8\").encode(inputContent));\n\n        const chat = ChatStore.get(this.state.chatId);\n        if (!chat) {\n            console.error(\"sendMessage failed!\")\n            return;\n        }\n\n        IMController.sendMsg(msg, chat.conv);\n    }\n}\n\nexport default InputboxControl;","import React from \"react\";\nimport classNames from 'classnames';\nimport MessagesList from \"./MessagesList\";\nimport AppStore from '../../Stores/ApplicationStore';\nimport Header from './Header';\nimport './DialogDetails.css';\nimport InputboxControl from \"./InputboxControl\";\nimport CacheStore from \"../../Stores/CacheStore\";\nimport IMController from \"../../Controllers/IMController\";\n\nclass DialogDetails extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            chatId: AppStore.getChatId(),\n            messageId: AppStore.getMessageId(),\n            selectedCount: 0\n        };\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        const { chatId, messageId, selectedCount } = this.state;\n        if (nextState.chatId !== chatId) {\n            return true;\n        }\n        if (nextState.messageId !== messageId) {\n            return true;\n        }\n        if (nextState.selectedCount !== selectedCount) {\n            return true;\n        }\n\n        return false;\n    }\n\n    componentDidMount() {\n        AppStore.on('clientUpdateChatId', this.onClientUpdateChatId);\n        AppStore.on('clientUpdateChatDetailsVisibility', this.onUpdateChatDetailsVisibility);\n    }\n\n    componentWillUnmount() {\n        AppStore.off('clientUpdateChatId', this.onClientUpdateChatId);\n        AppStore.on('clientUpdateChatDetailsVisibility', this.onUpdateChatDetailsVisibility);\n    }\n\n    onUpdateChatDetailsVisibility = update => {\n        this.forceUpdate();\n    };\n\n    async loadCache() {\n        const cache = (await CacheStore.loadMessages(this.state.chatId)) || {};\n\n        IMController.clientUpdate({\n            '@type': 'clientUpdateMessagesLoaded'\n        });\n    }\n\n    onClientUpdateChatId = update => {\n        this.setState({\n            chatId: update.nextChatId,\n            messageId: update.nextMessageId\n        });\n    };\n\n    scrollToBottom = () => {\n        this.messagesList.scrollToBottom();\n    };\n\n    scrollToStart = () => {\n        this.messagesList.scrollToStart();\n    };\n\n    scrollToMessage = () => {\n        this.messagesList.scrollToMessage();\n    };\n\n    render() {\n        this.loadCache();\n        const { chatId, messageId, selectedCount } = this.state;\n        const { isChatDetailsVisible } = AppStore;\n\n        return (\n            <div className={classNames('dialog-details', { 'dialog-details-third-column': isChatDetailsVisible })}>\n                <Header chatId={chatId} />\n                <MessagesList ref={ref => (this.messagesList = ref)} chatId={chatId} messageId={messageId} />\n                <InputboxControl />\n            </div>);\n    }\n}\n\nexport default DialogDetails;","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport { compose } from 'recompose';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport { withTranslation } from 'react-i18next';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport './ChatDetailsHeader.css';\nimport ChatStore from \"../../Stores/ChatStore\";\n\nconst styles = {\n    leftIconButton: {\n        margin: '8px -2px 8px 12px'\n    },\n    rightIconButton: {\n        margin: '8px 12px 8px -2px'\n    }\n};\n\nclass ChatDetailsHeader extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        const { classes, chatId, onClick, onClose } = this.props;\n\n        const chat = ChatStore.get(chatId);\n        const {type, conv, id} = chat;\n\n        let info = type === 0 ? 'Info' : 'Group Info';\n\n        return (\n            <div className='header-master'>\n                <div className='header-status grow cursor-pointer' onClick={onClick}>\n                    <span className='header-status-content'>{info}</span>\n                </div>\n                <IconButton className={classes.rightIconButton} onClick={onClose}>\n                    <CloseIcon />\n                </IconButton>\n            </div>\n        );\n    }\n}\n\nconst enhance = compose(\n    withTranslation(),\n    withStyles(styles, { withTheme: true })\n);\n\nexport default enhance(ChatDetailsHeader);\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport UserTile from './UserTile';\nimport './UserControl.css';\nimport {getUser} from \"../../Utils/User\";\n\nclass UserControl extends React.Component {\n    shouldComponentUpdate(nextProps, nextState) {\n        return nextProps.userId !== this.props.userId;\n    }\n\n    handleClick = () => {\n        const { userId, onSelect } = this.props;\n        if (!onSelect) return;\n\n        onSelect(userId);\n    };\n\n    render() {\n        const { userId } = this.props;\n        const user = getUser(userId);\n\n        const title =  user && user.nick ? user.nick : \"UserName\";\n        return (\n            <div className='user' onClick={this.handleClick}>\n                <div className='user-wrapper'>\n                    <UserTile userId={userId} />\n                    <div className='dialog-inner-wrapper'>\n                        <div className='tile-first-row'>\n                            <div className='dialog-title'>{title}</div>\n                        </div>\n                        <div className='tile-second-row'>\n                            {/*<UserStatusControl userId={userId} />*/}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nUserControl.propTypes = {\n    userId: PropTypes.number.isRequired,\n    onSelect: PropTypes.func\n};\n\nexport default UserControl;\n","import * as React from \"react\";\nimport classNames from 'classnames';\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport ChatStore from '../../Stores/ChatStore';\nimport ChatDetailsHeader from \"./ChatDetailsHeader\";\nimport {isGroupChat, isSingleChat} from \"../../Utils/Chat\";\nimport Divider from \"@material-ui/core/Divider\";\nimport List from \"@material-ui/core/List\";\nimport {withTranslation} from \"react-i18next\";\nimport {compose} from \"recompose\";\nimport ChatTile from \"../Tile/ChatTile\";\nimport DialogTitle from \"../Tile/DialogTitle\";\nimport './ChatDetails.css';\nimport ListItem from \"@material-ui/core/ListItem\";\nimport UserControl from \"../Tile/UserControl\";\nimport {openUser} from \"../../Actions/Client\";\n\nconst styles = theme => ({\n    closeIconButton: {\n        margin: '8px -2px 8px 12px'\n    },\n    nested: {\n        // paddingLeft: theme.spacing(4),\n    },\n    listItem: {\n        padding: '11px 22px'\n    }\n});\n\nclass ChatDetails extends React.Component {\n    constructor(props) {\n        super(props);\n        this.chatDetailsListRef = React.createRef();\n\n        const { chatId } = this.props;\n\n        this.state = {\n            prevChatId: chatId\n        };\n    }\n\n    handleOpenUser = userId => {\n        openUser(userId);\n    };\n\n    render() {\n        const {\n            chatId,\n            onClose,\n            className,\n        } = this.props;\n\n        const chat = ChatStore.get(chatId);\n        if (!chat) {\n            return (\n                <div className='chat-details'>\n                    <ChatDetailsHeader onClose={onClose} />\n                    <div ref={this.chatDetailsListRef} className='chat-details-list' />\n                </div>\n            );\n        }\n        const backButton = false;\n        const isGroup = isGroupChat(chatId);\n        const isMe = isSingleChat(chatId);\n        const big = true;\n\n        console.log('ChatDetails chat: ', chat)\n\n        const {extra} = chat;\n\n        const items = isMe ? null : chat.conv.getMembersList().map(user => (\n            <ListItem button  key={user}>\n                <UserControl userId={user} onSelect={this.handleOpenUser} />\n            </ListItem>\n        ));\n\n        const content = (\n            <>\n                <ChatDetailsHeader\n                    chatId={chatId}\n                    backButton={backButton}\n                    onClose={onClose}\n                    onClick={this.handleHeaderClick}\n                />\n                <div ref={this.chatDetailsListRef} className='chat-details-list'>\n                    <div className='chat-details-info'>\n                        <div className={classNames('chat', { 'chat-big': big })} onClick={this.handleClick}>\n                            <div className='chat-wrapper'>\n                                <ChatTile big={big} chatId={chatId} extra={extra} />\n                                <div className='dialog-inner-wrapper'>\n                                    <div className='tile-first-row'>\n                                        <DialogTitle chatId={chatId} extra={extra}/>\n                                    </div>\n                                    {isMe && (\n                                        <div className='tile-second-row'>\n                                            {/*<DialogStatus chatId={chatId} />*/}\n                                        </div>\n                                    )}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    {(!isMe || isGroup ) && (\n                        <>\n                            <Divider />\n                            <List>\n                                {items}\n                            </List>\n                        </>\n                    )}\n                </div>\n            </>\n        )\n        return  <div className={classNames('chat-details', className)}>{content}</div>;\n    }\n}\n\nconst enhance = compose(\n    withTranslation(),\n    withStyles(styles, { withTheme: true }),\n);\n\nexport default enhance(ChatDetails);","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport ApplicationStore from '../../Stores/ApplicationStore';\nimport ChatStore from '../../Stores/ChatStore';\nimport './ChatInfo.css';\nimport CloseIcon from '@material-ui/icons/Close';\nimport {getChatTitle, isSingleChat} from \"../../Utils/Chat\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport {compose} from \"recompose\";\nimport ChatTile from \"../Tile/ChatTile\";\nimport ChatDetails from \"./ChatDetails\";\n\nconst styles = {\n    leftIconButton: {\n        margin: '8px -2px 8px 12px'\n    },\n    rightIconButton: {\n        margin: '8px 12px 8px -2px'\n    }\n};\n\nclass ChatInfo extends React.Component {\n    constructor(props) {\n        super(props);\n\n        // console.log('ChatDetails.ChatInfo.ctor');\n\n        this.detailsRef = React.createRef();\n\n        const { popup } = props;\n        const { chatId, dialogChatId } = ApplicationStore;\n\n        this.state = {\n            chatId: popup ? dialogChatId : chatId,\n        };\n    }\n\n    componentDidMount() {\n        // console.log('ChatDetails.ChatInfo.componentDidMount');\n        this.loadContent(this.state.chatId);\n\n        ApplicationStore.on('clientUpdateChatId', this.onClientUpdateChatId);\n        ChatStore.on('groupInfo', this.onGroupInfo);\n    }\n\n    componentWillUnmount() {\n        ApplicationStore.off('clientUpdateChatId', this.onClientUpdateChatId);\n        ChatStore.off('groupInfo', this.onGroupInfo);\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        const { chatId } = this.state;\n        if (chatId !== prevState.chatId) {\n            this.loadContent(chatId);\n        }\n    }\n\n    loadContent(chatId) {\n    }\n\n    onClientUpdateChatId = update => {\n        const { popup } = this.props;\n        const { chatId } = this.state;\n\n        if (popup) return;\n        if (chatId === update.nextChatId) return;\n\n        this.setState({\n            chatId: update.nextChatId,\n        });\n    };\n\n    onGroupInfo = update => {\n        const {conv} = update;\n        const {chatId} = this.state;\n        if (!conv && conv.getId() !== chatId) return;\n        this.forceUpdate();\n    }\n\n    handleCloseChatDetails = () => {\n        const { popup } = this.props;\n        const { userChatId } = this.state;\n\n        if (userChatId) {\n            this.setState({ userChatId: null });\n        } else {\n            ApplicationStore.changeChatDetailsVisibility(false);\n        }\n    };\n\n    render() {\n        const { classes, className, popup } = this.props;\n        const {\n            chatId,\n        } = this.state;\n\n        const chat = ChatStore.get(chatId);\n        const {type, conv, id} = chat;\n        let title = getChatTitle(chatId);\n        let info = type === 0 ? 'Info' : 'Group Info';\n        const big = true;\n        const content = (\n            <ChatDetails\n                chatId={chatId}\n                popup={popup}\n                onClose={this.handleCloseChatDetails}\n            />\n        )\n        return  (\n            <div className={classNames('chat-info', { 'right-column': !popup }, className)}>\n                {content}\n            </div>\n        );\n    }\n}\n\nChatInfo.propTypes = {\n    className: PropTypes.string,\n    classes: PropTypes.object,\n    popup: PropTypes.bool\n};\n\nChatInfo.defaultProps = {\n    className: null,\n    classes: null,\n    popup: false\n};\n\nconst enhance = compose(\n    withStyles(styles, { withTheme: true })\n);\n\nexport default enhance(ChatInfo);\n","import React from \"react\";\nimport classNames from 'classnames';\nimport Dialogs from \"./ColumnLeft/Dialogs\";\nimport ChatStore from '../Stores/ChatStore';\nimport ApplicationStore from '../Stores/ApplicationStore';\nimport DialogDetails from \"./ColumnMiddle/DialogDetails\";\nimport IMController from '../Controllers/IMController';\nimport ChatInfo from \"./ColumnRight/ChatInfo\";\n\nclass MainPage extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.dialogDetailsRef = React.createRef();\n\n        this.state = {\n            isChatDetailsVisible: ApplicationStore.isChatDetailsVisible,\n        };\n    }\n\n    componentDidMount() {\n        ChatStore.on('clientUpdateOpenChat', this.onClientUpdateOpenChat);\n\n        ApplicationStore.on('clientUpdateChatDetailsVisibility', this.onClientUpdateChatDetailsVisibility);\n    }\n\n    componentWillUnmount() {\n        ChatStore.off('clientUpdateOpenChat', this.onClientUpdateOpenChat);\n\n        ApplicationStore.off('clientUpdateChatDetailsVisibility', this.onClientUpdateChatDetailsVisibility);\n    }\n\n    onClientUpdateChatDetailsVisibility = update => {\n        this.setState({\n            isChatDetailsVisible: ApplicationStore.isChatDetailsVisible\n        });\n    };\n\n    onClientUpdateOpenChat = update => {\n        const { chatId, messageId, popup } = update;\n\n        this.handleSelectChat(chatId, messageId, popup);\n    };\n\n    handleSelectChat = (chatId, messageId = null, popup = false) => {\n        const currentChatId = ApplicationStore.getChatId();\n        const currentDialogChatId = ApplicationStore.dialogChatId;\n        const currentMessageId = ApplicationStore.getMessageId();\n\n        if (currentChatId === chatId && messageId && currentMessageId === messageId) {\n            this.dialogDetailsRef.current.scrollToMessage();\n            if (messageId) {\n            }\n        } else if (currentChatId === chatId && !messageId) {\n            this.dialogDetailsRef.current.scrollToStart();\n        } else {\n            this.dialogDetailsRef.current.scrollToBottom();\n            IMController.setChatId(chatId, messageId);\n        }\n    };\n\n    render() {\n        const {\n            isChatDetailsVisible,\n        } = this.state;\n\n        return (\n            <>\n                <div\n                    className={classNames('page', {\n                        'page-third-column': isChatDetailsVisible\n                    })}>\n                    <Dialogs />\n                    <DialogDetails ref={this.dialogDetailsRef} />\n                    {isChatDetailsVisible && <ChatInfo />}\n                </div>\n            </>\n        )\n    }\n}\n\nexport default MainPage;","import React from \"react\";\nimport axios from \"axios\";\nimport Button from '@material-ui/core/Button';\nimport {AUTH_URL} from \"../../Constants\";\nimport Logo from '../../Assets/logo.png';\nimport './login.css';\n\nclass AuthFormControl extends React.Component {\n    state = {\n        data: null\n    };\n\n    scanQrCode() {\n        axios.post(AUTH_URL).then(data => {\n            console.log(data);\n            window.location.href = data.data.data.auth_url\n        }).catch(err => {\n            console.log(err);\n            return null;\n        });\n    }\n\n    render() {\n        return (\n            <div className='authorization-form'>\n                <div className='authorization-form-content'>\n                    <div className='auth-caption'>\n                        <div className='auth-caption-logo'>\n                            <img src={Logo} />\n                        </div>\n                    </div>\n                    <Button\n                        classes={{ root: 'auth-button' }}\n                        variant='contained'\n                        disableElevation\n                        fullWidth\n                        color='primary'\n                        onClick={this.scanQrCode}>\n                        {''}\n                    </Button>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default AuthFormControl;","import {EventEmitter} from \"events\";\nimport IMController from \"../Controllers/IMController\";\nimport MessageStore from './MessageStore'\nimport {APP_NAME} from \"../Constants\";\n\nclass NotificationStore extends EventEmitter {\n    constructor() {\n        super();\n\n        this.reset();\n        this.addIMListener();\n        this.setMaxListeners(Infinity);\n    }\n\n    reset = () => {\n        // depends on ChatStore and MessageStore updates\n\n        this.appInactive = false;\n        this.newMessages = new Map();\n        this.settings = new Map();\n        this.windowFocused = true;\n        this.timerHandler = null;\n    };\n\n    addIMListener() {\n        IMController.addListener('update', this.onUpdate);\n        IMController.addListener('clientUpdate', this.onClientUpdate);\n    }\n\n    onClientUpdate = update => {\n        switch (update['@type']) {\n            case 'clientUnreadMessage': {\n                this.appInactive = true;\n                this.newMessages = new Map();\n                this.updateTimer();\n                break;\n            }\n            case 'clientUpdateFocusWindow': {\n                const { focused } = update;\n                console.log('[ns] clientUpdateFocusWindow', update);\n\n                this.windowFocused = focused;\n                if (focused) {\n                    this.newMessages = new Map();\n                    this.updateTimer();\n                }\n\n                break;\n            }\n        }\n    }\n\n    onUpdate = update => {\n    }\n\n    getUnreadCount() {\n        return MessageStore.getUnread()\n\n    }\n\n    updateTimer() {\n        const unreadCount = this.getUnreadCount();\n        console.log('[ns] updateTimer', unreadCount, this.newMessages);\n\n        if (unreadCount > 0) {\n            if (!this.timerHandler) {\n                // console.log('[ns] setInterval');\n\n                this.onTimer();\n                this.timerHandler = setInterval(this.onTimer, 1000);\n            }\n        } else {\n            if (this.timerHandler) {\n                // console.log('[ns] clearInterval');\n\n                clearInterval(this.timerHandler);\n                this.timerHandler = null;\n                this.onTimer();\n            }\n        }\n    }\n\n    onTimer = () => {\n        console.log('[ns] onTimer');\n\n        const unreadCount = this.getUnreadCount();\n        const showBadge = document.title === APP_NAME && unreadCount > 0;\n\n        if (showBadge) {\n            let title = '+99 notifications';\n            if (unreadCount === 1) {\n                title = '1 notification';\n            } else if (unreadCount < 99) {\n                title = `${unreadCount} notifications`;\n            }\n            document.title = title;\n            document.getElementById('favicon').href = 'favicon_unread.ico';\n        } else {\n            document.title = APP_NAME + (this.appInactive ? ': Zzz' : '');\n            document.getElementById('favicon').href = 'favicon.ico';\n        }\n    };\n}\n\nconst store = new NotificationStore();\nwindow.notifications = store;\nexport default store;\n","import React from 'react';\nimport './App.css';\nimport MainPage from './Components/MainPage';\nimport IMController from \"./Controllers/IMController\";\nimport AppStore from './Stores/ApplicationStore';\nimport AuthorizationStore, {AuthStateEnum} from './Stores/AuthorizationStore';\nimport AuthFormControl from \"./Components/Auth/AuthFormControl\";\nimport NotificationStore from './Stores/NotificationStore';\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            inactive: false,\n            prevAuthorizationState: AuthorizationStore.current,\n            authorizationState: null,\n        }\n    }\n\n    componentWillMount() {\n    }\n\n    componentDidMount() {\n        IMController.addListener('update', this.onUpdate)\n\n        AppStore.on('clientUpdateAuthState', this.onUpdateAuthorizationState);\n        AuthorizationStore.on('clientLogout', this.onLogout);\n    }\n\n    componentWillUnmount() {\n        IMController.off('update', this.onUpdate)\n\n        AppStore.off('clientUpdateAuthState', this.onUpdateAuthorizationState);\n        AuthorizationStore.off('clientLogout', this.onLogout);\n    }\n\n    onUpdateAuthorizationState = update => {\n        if (!window.hasFocus) return;\n        console.log(\"onUpdateAuthorizationState\")\n        const cid = AppStore.getCid();\n        if (!cid) return;\n        IMController.init(AppStore.getCid())\n    };\n\n    onUpdate = update => {\n        console.log('update: ' +update['@type'])\n    };\n\n    onLogout = update => {\n        this.state = {\n            prevAuthorizationState: null,\n            authorizationState: null\n        };\n        console.log('onLogout', AuthorizationStore.current)\n        this.forceUpdate();\n    };\n\n    render() {\n        let { authorizationState, prevAuthorizationState } = this.state;\n        console.log(authorizationState, prevAuthorizationState)\n        if (!authorizationState) {\n            if (AuthorizationStore.current) {\n                authorizationState = prevAuthorizationState;\n            } else {\n                authorizationState = {\n                    auth_state: AuthStateEnum.STATE_IDLE,\n                };\n            }\n        }\n        let page = <MainPage />;\n        if (authorizationState) {\n            switch (authorizationState.auth_state) {\n                case AuthStateEnum.STATE_IDLE:\n                case AuthStateEnum.STATE_FAILED: {\n                    page = (\n                        <AuthFormControl\n                            authorizationState={authorizationState}\n                        />\n                    );\n                    break\n                }\n                case AuthStateEnum.STATE_LOGIN: {\n                    IMController.clientUpdate({\n                        '@type': 'clientUpdateAuthState',\n                        ...authorizationState\n                    });\n                    IMController.init(authorizationState.uid);\n                    break;\n                }\n                default:\n                    break;\n            }\n        }\n        return (\n            <div id='app'>\n                {page}\n            </div>\n        );\n    };\n}\n\nwindow.hasFocus = true;\n\nwindow.onblur = function() {\n    // keyMap.clear();\n\n    console.log(\"onFocus false\");\n    window.hasFocus = false;\n\n    IMController.clientUpdate({\n        '@type': 'clientUpdateFocusWindow',\n        focused: false\n    });\n};\n\nwindow.onfocus = function() {\n    // keyMap.clear();\n    console.log(\"onFocus true\");\n    window.hasFocus = true;\n\n    IMController.clientUpdate({\n        '@type': 'clientUpdateFocusWindow',\n        focused: true\n    });\n};\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import * as React from \"react\";\nimport * as qs from 'query-string';\nimport axios from 'axios';\n\nimport IMController from \"../../Controllers/IMController\";\nimport {AuthStateEnum} from \"../../Stores/AuthorizationStore\";\nimport {AUTH_INFO_URL} from \"../../Constants\";\n\nclass LoginRedirect extends React.Component {\n    componentDidMount() {\n\n        const parsed = qs.parse(window.location.search);\n        console.log(\"redirect to: \", `${process.env.PUBLIC_URL}`)\n        axios.post(AUTH_INFO_URL, \"auth_id=\" + parsed.auth_id).then(data => {\n            const authState = data.data.code === 200 ? AuthStateEnum.STATE_LOGIN: AuthStateEnum.STATE_FAILED;\n            const authData = {auth_state: authState, ...data.data.data}\n            IMController.update({\n                '@type': \"updateAuthState\",\n                data: authData,\n            })\n\n            window.location.href = process.env.PUBLIC_URL + \"/\";\n        }).catch(err => {\n            console.log(err)\n            const authData = {auth_state: AuthStateEnum.STATE_FAILED}\n            IMController.update({\n                '@type': \"updateAuthState\",\n                data: authData,\n            })\n        })\n    }\n\n    render() {\n        return(\n            <div>\n                <span>Redirecting...</span>\n            </div>\n        )\n    }\n}\n\nexport default LoginRedirect;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\nimport * as serviceWorker from './serviceWorker';\nimport LoginRedirect from \"./Components/Auth/LoginRedirect\";\n\n\nReactDOM.render(\n    <Router basename={process.env.PUBLIC_URL}>\n        <Switch>\n            <Route exact path=\"/\" component={App}/>\n            <Route path=\"/login/redirect/\" component={LoginRedirect} />\n        </Switch>\n    </Router>,\n    document.getElementById('root'));\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n// eslint-disable-next-line import/no-webpack-loader-syntax\n// import CacheWorker from './cache.worker'; // eslint-disable-line import/no-webpack-loader-syntax\nimport {set, get, del, clear, keys, Store} from 'idb-keyval';\nimport IMController from '../Controllers/IMController';\nvar msg_pb = require('../gen/msg_pb');\nvar conv_pb = require('../gen/conversation_pb');\n\nclass CacheManager {\n\n    constructor() {\n        // this.worker = new CacheWorker();\n        // this.worker.onmessage = this.onWorkerMessage;\n        //\n        this.handlers = new Map();\n        this.messageM = new Map();\n        this.loadedMsgConv = new Set();\n        this.userStore = new Store('user')\n        this.chatStore = new Store('chat')\n        this.fileStore = new Store('file')\n    }\n\n    onWorkerMessage = event => {\n        const { data } = event;\n        if (!data) return;\n\n        const { handlerKey, cache } = data;\n\n        const handler = this.handlers.get(handlerKey);\n        if (handler) {\n            const { command, resolve, reject } = handler;\n            switch (command) {\n                case 'save': {\n                    resolve();\n                    break;\n                }\n                case 'load': {\n                    resolve(cache);\n                }\n            }\n        }\n    };\n\n    async load(key) {\n        if (IMController.localStorage) {\n            // console.log('[cm] load (ls)', key);\n            const value = localStorage.getItem(key);\n            if (!value) return null;\n\n            // console.log('[cm] parse', key);\n            const obj = JSON.parse(value);\n\n            // console.log('[cm] finish', key);\n            return obj;\n        } else {\n            // console.log('[cm] load (idb)', key);\n            return await get(key);\n        }\n\n        //const store = localforage.createInstance({ name: 'telegram' });\n        //return await store.getItem(key);\n    }\n\n    async loadChats() {\n        const m = new Map();\n        const ids = (await keys(this.chatStore));\n        for (let k of ids) {\n            let v = await get(k, this.chatStore)\n            if (v && v.conv) {\n                v = {...v, conv: conv_pb.Conversation.deserializeBinary(v.conv)}\n                if (v.last_msg) {\n                    v = {...v, last_msg: msg_pb.Msg.deserializeBinary(v.last_msg)}\n                }\n            }\n            m.set(k, v)\n        }\n        return m\n    }\n\n    async loadFiles() {\n        return this.loadStore(this.fileStore)\n    }\n\n    async loadUsers() {\n        return this.loadStore(this.userStore)\n    }\n\n    async loadStore(store) {\n        const m = new Map();\n        const ids = (await keys(store));\n        for (let k of ids) {\n            let v = await get(k, store)\n            m.set(k, v)\n        }\n        return m\n    }\n\n    async save(key, cache) {\n        if (IMController.localStorage) {\n            localStorage.setItem(key, JSON.stringify(cache));\n        } else {\n            await set(key, cache);\n        }\n\n        //const store = localforage.createInstance({ name: 'telegram' });\n        //await store.setItem(key, cache);\n    }\n\n    async saveUser(key, cache) {\n        set(key, cache, this.userStore)\n    }\n\n    async saveChat(convId, chat) {\n        chat = {...chat, conv: chat.conv.serializeBinary()}\n        if (chat.last_msg) {\n            chat = {...chat, last_msg: chat.last_msg.serializeBinary()}\n        }\n        set(convId, chat, this.chatStore)\n    }\n\n    async removeChat(convId) {\n        del(convId, this.chatStore)\n    }\n    async saveMessage(convId, key, message) {\n        let store = this.messageM.get(convId);\n\n        if (!store) {\n            store = new Store('conv_' + convId);\n            this.messageM.set(convId, store);\n        }\n        message = {...message, msg: message.msg.serializeBinary()}\n        set(key, message, store)\n    }\n\n    async loadMessages(convId) {\n        console.log(\"CacheStore loadMessages ids: \", convId);\n        let store = this.messageM.get(convId);\n        if (!store) {\n            store = new Store('conv_' + convId);\n            this.messageM.set(convId, store);\n        }\n\n        const m = new Map();\n        const ids = (await keys(store));\n        for (let id of ids) {\n            let message = await get(id, store)\n            if (message && message.msg) {\n                message = {...message, msg: msg_pb.Msg.deserializeBinary(message.msg)}\n            }\n            m.set(id, message)\n        }\n        this.loadedMsgConv.add(convId)\n        return m\n    }\n\n    async remove(key) {\n        await del(key);\n    }\n\n    async clear() {\n        await clear(this.userStore);\n        await clear(this.chatStore);\n\n        //const store = localforage.createInstance({ name: 'telegram' });\n        //store.clear();\n    }\n}\n\nconst manager = new CacheManager();\nexport default manager;\n","import IMController from \"../Controllers/IMController\";\nimport {debounce} from \"../Utils/Common\";\nimport CacheManager from '../Workers/CacheManager';\nimport {EventEmitter} from \"events\";\nimport MessageStore from './MessageStore';\nimport UserStore from './UserStore';\nimport FileStore from './FileStore';\nimport ChatStore from './ChatStore';\n\nclass CacheStore extends EventEmitter {\n    constructor() {\n        super();\n\n        this.reset();\n\n        this.addIMListener();\n        this.setMaxListeners(Infinity);\n\n        this.saveChatsInternal = debounce(this.saveChatsInternal, 2000);\n    }\n\n    reset = () => {\n        this.chatIds = [];\n    };\n\n    addIMListener() {\n        IMController.addListener('update', this.onUpdate);\n        IMController.addListener('clientUpdate', this.onClientUpdate);\n    }\n\n    onUpdate = update => {\n        switch (update['@type']) {\n            case 'updateAuthorizationState': {\n                const { authorization_state } = update;\n                if (!authorization_state) break;\n\n                switch (authorization_state['@type']) {\n                    case 'authorizationStateClosed': {\n                        this.reset();\n                        break;\n                    }\n                    case 'authorizationStateLoggingOut':\n                    case 'authorizationStateWaitCode':\n                    case 'authorizationStateWaitPhoneNumber':\n                    case 'authorizationStateWaitPassword':\n                    case 'authorizationStateWaitRegistration': {\n                        CacheManager.remove('cache');\n                        CacheManager.remove('files');\n                        break;\n                    }\n                }\n\n                break;\n            }\n            default:\n                break;\n        }\n    };\n\n    onClientUpdate = update => {\n        switch (update['@type']) {\n            case 'clientLogout': {\n                this.reset();\n                this.clear();\n                break\n            }\n        }\n    };\n\n    async loadCache() {\n        const promises = [];\n        promises.push(CacheManager.loadChats().catch(error => null));\n        promises.push(CacheManager.loadUsers().catch(error => null));\n        promises.push(CacheManager.loadFiles().catch(error => null));\n\n        const [chats, users, files] = await Promise.all(promises);\n        (chats || []).forEach((x, index) => {\n            if (!ChatStore.newItems.has(x.id)) return;\n            ChatStore.set(x)\n        });\n        //\n        (users || []).forEach((x, index) => {\n            UserStore.set(x);\n        });\n        //\n        (files || []).forEach(( x, index) => {\n            FileStore.setDataUrl(index, x);\n        });\n        return users;\n    }\n\n    async clear() {\n        CacheManager.clear()\n    }\n\n    getCache(chatIds) {\n        const fileMap = new Map();\n        const userMap = new Map();\n        const chats = chatIds.map(x => ChatStore.get(x));\n\n        return {\n            chats,\n        };\n    }\n\n    async saveUser(cid, user) {\n        CacheManager.saveUser(cid, user)\n    }\n\n    async saveChat(chatId, chat) {\n        CacheManager.saveChat(chatId, chat)\n    }\n\n    async removeChat(chatId) {\n        CacheManager.removeChat(chatId)\n    }\n\n    saveChats(chatIds) {\n        this.chatIds = chatIds;\n        this.saveChatsInternal();\n    }\n\n    async saveChatsInternal() {\n        const cache = this.getCache(this.chatIds);\n        await CacheManager.save('cache', cache);\n    }\n\n    saveMessage(chatId,messageId, message) {\n        this.saveMessageInternal(chatId,messageId, message)\n    }\n\n    async saveMessageInternal(chatId,messageId, message) {\n        await CacheManager.saveMessage(chatId, messageId, message)\n    }\n\n    async loadMessages(chatId) {\n        const msgs = await CacheManager.loadMessages(chatId);\n        console.log(\"CacheStore loadMessages\", chatId, msgs);\n        MessageStore.addMessages(chatId, msgs)\n    }\n\n    messageLoaded(convId) {\n        return CacheManager.loadedMsgConv.has(convId)\n    }\n\n}\n\nconst store = new CacheStore();\nwindow.cache = store;\nexport default store;","import {EventEmitter} from \"events\";\nimport IMController from \"../Controllers/IMController\";\nimport CacheStore from './CacheStore';\n\nclass UserStore extends EventEmitter {\n    constructor() {\n        super();\n\n        this.reset();\n\n        this.addIMListener();\n        this.setMaxListeners(Infinity);\n    }\n\n    reset = () => {\n        this.items = new Map();\n        this.fullInfoItems = new Map();\n    };\n\n    addIMListener() {\n        IMController.addListener('update', this.onUpdate);\n        IMController.addListener('clientUpdate', this.onClientUpdate);\n    }\n\n    onUpdate = update => {\n        switch (update['@type']) {\n            case 'updateUser': {\n                const {user} = update;\n                this.set(user);\n                CacheStore.saveUser(user.cid, user);\n                this.emit(update['@type'], update);\n                break;\n            }\n        }\n\n    };\n    onClientUpdate = update => {\n    };\n\n    get(userId) {\n        return this.items.get(userId);\n    }\n\n    set(user) {\n        this.items.set(user.cid, user);\n    }\n}\n\nconst store = new UserStore();\nwindow.user = store;\nexport default store;","/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { formatNumber } from 'libphonenumber-js';\nimport { PHOTO_SIZE, PHOTO_THUMBNAIL_SIZE } from '../Constants';\nimport {AuthStateEnum} from \"../Stores/AuthorizationStore\";\n\nexport function isMobile() {\n    return isAndroid() || isIOS() || isWindowsPhone();\n}\n\nexport function isIOS() {\n    const iDevices = ['iPad Simulator', 'iPhone Simulator', 'iPod Simulator', 'iPad', 'iPhone', 'iPod'];\n\n    if (!!navigator.platform && iDevices.indexOf(navigator.platform) > -1) {\n        return true;\n    }\n\n    return /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n}\n\nexport function isAndroid() {\n    const ua = navigator.userAgent.toLowerCase();\n    return ua.indexOf('android') > -1;\n}\n\nexport function isWindowsPhone() {\n    if (navigator.userAgent.match(/Windows Phone/i)) {\n        return true;\n    }\n\n    if (navigator.userAgent.match(/iemobile/i)) {\n        return true;\n    }\n\n    if (navigator.userAgent.match(/WPDesktop/i)) {\n        return true;\n    }\n\n    return false;\n}\n\nfunction isAppleDevice() {\n    const iDevices = ['iPad Simulator', 'iPhone Simulator', 'iPod Simulator', 'iPad', 'iPhone', 'iPod', 'MacIntel'];\n\n    if (!!navigator.platform) {\n        return iDevices.indexOf(navigator.platform) > -1;\n    }\n\n    return /iPad|iPhone|iPod|Mac\\sOS\\sX/.test(navigator.userAgent) && !window.MSStream;\n}\n\nfunction getOSName() {\n    let OSName = 'Unknown';\n    if (window.navigator.userAgent.indexOf('Windows NT 10.0') !== -1) OSName = 'Windows 10';\n    if (window.navigator.userAgent.indexOf('Windows NT 6.2') !== -1) OSName = 'Windows 8';\n    if (window.navigator.userAgent.indexOf('Windows NT 6.1') !== -1) OSName = 'Windows 7';\n    if (window.navigator.userAgent.indexOf('Windows NT 6.0') !== -1) OSName = 'Windows Vista';\n    if (window.navigator.userAgent.indexOf('Windows NT 5.1') !== -1) OSName = 'Windows XP';\n    if (window.navigator.userAgent.indexOf('Windows NT 5.0') !== -1) OSName = 'Windows 2000';\n    if (window.navigator.userAgent.indexOf('Mac') !== -1) OSName = 'Mac/iOS';\n    if (window.navigator.userAgent.indexOf('X11') !== -1) OSName = 'UNIX';\n    if (window.navigator.userAgent.indexOf('Linux') !== -1) OSName = 'Linux';\n\n    return OSName;\n}\n\nfunction getBrowser() {\n    let browser_name = '';\n    let isIE = /*@cc_on!@*/ false || !!document.documentMode;\n    let isEdge = !isIE && !!window.StyleMedia;\n    if (navigator.userAgent.indexOf('Chrome') !== -1 && !isEdge) {\n        browser_name = 'Chrome';\n    } else if (navigator.userAgent.indexOf('Safari') !== -1 && !isEdge) {\n        browser_name = 'Safari';\n    } else if (navigator.userAgent.indexOf('Firefox') !== -1) {\n        browser_name = 'Firefox';\n    } else if (navigator.userAgent.indexOf('MSIE') !== -1 || !!document.documentMode === true) {\n        //IF IE > 10\n        browser_name = 'IE';\n    } else if (isEdge) {\n        browser_name = 'Edge';\n    } else {\n        browser_name = 'Unknown';\n    }\n\n    return browser_name;\n}\n\nfunction stringToBoolean(string) {\n    switch (string.toLowerCase().trim()) {\n        case 'true':\n        case 'yes':\n        case '1':\n            return true;\n        case 'false':\n        case 'no':\n        case '0':\n        case null:\n            return false;\n        default:\n            return Boolean(string);\n    }\n}\n\nfunction orderCompare(order1, order2) {\n    let diff = order1.length - order2.length;\n    if (diff !== 0) return diff < 0 ? -1 : 1;\n    if (order1 === order2) return 0;\n\n    return order1 > order2 ? 1 : -1;\n}\n\nfunction getPhotoThumbnailSize(sizes) {\n    return getSize(sizes, PHOTO_THUMBNAIL_SIZE);\n}\n\nfunction getPhotoSize(sizes, displaySize = PHOTO_SIZE) {\n    return getSize(sizes, displaySize);\n}\n\nfunction getSize(sizes, dimension) {\n    if (!sizes) return null;\n    if (sizes.length === 0) return null;\n    if (dimension === 0) return null;\n\n    // let iSize = sizes[2];//.find(x => x.type === 'i');\n    // if (iSize){\n    //     return iSize;\n    // }\n\n    let useWidth = sizes[0].width >= sizes[0].height;\n    let diff = Math.abs(dimension - (useWidth ? sizes[0].width : sizes[0].height));\n    let index = 0;\n    for (let i = 1; i < sizes.length; i++) {\n        if (sizes[i].type === 'i' && !sizes[i].photo.local.is_downloading_completed) {\n            continue;\n        }\n\n        let currDiff = Math.abs(dimension - (useWidth ? sizes[i].width : sizes[i].height));\n        if (currDiff < diff) {\n            index = i;\n            currDiff = diff;\n        }\n    }\n\n    return sizes[index];\n}\n\nfunction getFitSize(size, max, increaseToMax = true) {\n    if (!size) return { width: 0, height: 0 };\n\n    if (!increaseToMax) {\n        if (size.width < max && size.height < max) {\n            return size;\n        }\n    }\n\n    if (size.width > size.height) {\n        return { width: max, height: Math.floor((size.height * max) / size.width) };\n    }\n\n    return { width: Math.floor((size.width * max) / size.height), height: max };\n}\n\nfunction itemsInView(scrollContainerRef, itemsContainerRef) {\n    let scrollContainer = scrollContainerRef.current;\n    let itemsContainer = itemsContainerRef ? itemsContainerRef.current : scrollContainer;\n\n    const items = [];\n    for (let i = 0; i < itemsContainer.children.length; i++) {\n        let child = itemsContainer.children[i];\n        if (\n            child.offsetTop + child.offsetHeight >= scrollContainer.scrollTop &&\n            child.offsetTop <= scrollContainer.scrollTop + scrollContainer.offsetHeight\n        ) {\n            items.push(i);\n        }\n    }\n\n    return items;\n}\n\n// Returns a function, that, when invoked, will only be triggered at most once\n// during a given window of time. Normally, the throttled function will run\n// as much as it can, without ever going more than once per `wait` duration;\n// but if you'd like to disable the execution on the leading edge, pass\n// `{leading: false}`. To disable execution on the trailing edge, ditto.\nfunction throttle(func, wait, options) {\n    var context, args, result;\n    var timeout = null;\n    var previous = 0;\n    if (!options) options = {};\n    var later = function() {\n        previous = options.leading === false ? 0 : Date.now();\n        timeout = null;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n    };\n    return function() {\n        var now = Date.now();\n        if (!previous && options.leading === false) previous = now;\n        var remaining = wait - (now - previous);\n        context = this;\n        args = arguments;\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            result = func.apply(context, args);\n            if (!timeout) context = args = null;\n        } else if (!timeout && options.trailing !== false) {\n            timeout = setTimeout(later, remaining);\n        }\n        return result;\n    };\n}\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\nfunction debounce(func, wait, immediate) {\n    var timeout;\n    return function() {\n        var context = this,\n            args = arguments;\n        var later = function() {\n            timeout = null;\n            if (!immediate) {\n                func.apply(context, args);\n            }\n        };\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) {\n            func.apply(context, args);\n        }\n    };\n}\n\nfunction getFirstLetter(str) {\n    if (!str) return '';\n    for (let i = 0; i < str.length; i++) {\n        if (str[i].toUpperCase() !== str[i].toLowerCase()) {\n            return str[i];\n        } else if (str[i] >= '0' && str[i] <= '9') {\n            return str[i];\n        }\n    }\n\n    return '';\n}\n\nfunction getLetters(title) {\n    if (!title) return null;\n    if (title.length === 0) return null;\n\n    const split = title.split(' ');\n    if (split.length === 1) {\n        return getFirstLetter(split[0]);\n    }\n    if (split.length > 1) {\n        return getFirstLetter(split[0]) + getFirstLetter(split[1]);\n    }\n\n    return null;\n}\n\nfunction readImageSize(file, callback) {\n    let useBlob = false;\n    // Create a new FileReader instance\n    // https://developer.mozilla.org/en/docs/Web/API/FileReader\n    const reader = new FileReader();\n\n    // Once a file is successfully readed:\n    reader.addEventListener('load', function() {\n        // At this point `reader.result` contains already the Base64 Data-URL\n        // and we've could immediately show an image using\n        // `elPreview.insertAdjacentHTML(\"beforeend\", \"<img src='\"+ reader.result +\"'>\");`\n        // But we want to get that image's width and height px values!\n        // Since the File Object does not hold the size of an image\n        // we need to create a new image and assign it's src, so when\n        // the image is loaded we can calculate it's width and height:\n        const image = new Image();\n        image.addEventListener('load', function() {\n            // Concatenate our HTML image info\n            // var imageInfo = file.name    +' '+ // get the value of `name` from the `file` Obj\n            //     image.width  +''+ // But get the width from our `image`\n            //     image.height +' '+\n            //     file.type    +' '+\n            //     Math.round(file.size/1024) +'KB';\n\n            //alert(imageInfo);\n            file.photoWidth = image.width;\n            file.photoHeight = image.height;\n            // Finally append our created image and the HTML info string to our `#preview`\n            //elPreview.appendChild( this );\n            //elPreview.insertAdjacentHTML(\"beforeend\", imageInfo +'<br>');\n\n            // If we set the variable `useBlob` to true:\n            // (Data-URLs can end up being really large\n            // `src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAA...........etc`\n            // Blobs are usually faster and the image src will hold a shorter blob name\n            // src=\"blob:http%3A//example.com/2a303acf-c34c-4d0a-85d4-2136eef7d723\"\n            file.blob = reader.result\n            if (useBlob) {\n                // Free some memory for optimal performance\n                window.URL.revokeObjectURL(image.src);\n            }\n\n            callback(file);\n        });\n\n        image.src = useBlob ? window.URL.createObjectURL(file) : reader.result;\n        console.log(\"image.src: \", reader.result)\n    });\n\n    // https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL\n    reader.readAsDataURL(file);\n}\n\nfunction formatPhoneNumber(number) {\n    const unformattedNumber = number && number.startsWith('+') ? number : '+' + number;\n    const formattedNumber = formatNumber(unformattedNumber, 'International');\n    return formattedNumber || unformattedNumber;\n}\n\n/**\n * use this to make a Base64 encoded string URL friendly,\n * i.e. '+' and '/' are replaced with '-' and '_' also any trailing '='\n * characters are removed\n *\n * @param {String} str the encoded string\n * @returns {String} the URL friendly encoded String\n */\nfunction Base64EncodeUrl(str) {\n    return str\n        .replace(/\\+/g, '-')\n        .replace(/\\//g, '_')\n        .replace(/\\=+$/, '');\n}\n\n/**\n * Use this to recreate a Base64 encoded string that was made URL friendly\n * using Base64EncodeurlFriendly.\n * '-' and '_' are replaced with '+' and '/' and also it is padded with '+'\n *\n * @param {String} str the encoded string\n * @returns {String} the URL friendly encoded String\n */\nfunction Base64DecodeUrl(str) {\n    str = (str + '===').slice(0, str.length + (str.length % 4));\n    return str.replace(/-/g, '+').replace(/_/g, '/');\n}\n\nfunction arrayBufferToBase64(buffer) {\n    var binary = '';\n    var bytes = new Uint8Array(buffer);\n    var len = bytes.byteLength;\n    for (var i = 0; i < len; i++) {\n        binary += String.fromCharCode(bytes[i]);\n    }\n    return Base64EncodeUrl(window.btoa(binary));\n}\n\nfunction isAuthorizationReady(state) {\n    console.log('isAuthorizationReady', state)\n    if (!state) return false;\n\n    return state === AuthStateEnum.STATE_LOGIN;\n}\n\nfunction between(item, first, last, inclusive = false) {\n    return inclusive ? item >= first && item <= last : item > first && item < last;\n}\n\nfunction clamp(item, first, last) {\n    if (item < first) return first;\n    if (item > last) return last;\n\n    return item;\n}\n\nfunction getDurationString(secondsTotal) {\n    let hours = Math.floor(secondsTotal / 3600);\n    let minutes = Math.floor((secondsTotal - hours * 3600) / 60);\n    let seconds = secondsTotal - hours * 3600 - minutes * 60;\n\n    if (hours > 0 && minutes < 10) {\n        minutes = '0' + minutes;\n    }\n    if (seconds < 10) {\n        seconds = '0' + seconds;\n    }\n\n    return (hours > 0 ? hours + ':' : '') + minutes + ':' + seconds;\n}\n\nfunction getRandomInt(min, max) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min)) + min; //The maximum is exclusive and the minimum is inclusive\n}\n\nfunction historyEquals(first, second) {\n    if (!first && second) return false;\n    if (first && !second) return false;\n\n    if (!first && !second) return true;\n    if (first.length === 0 && second.length === 0) return true;\n\n    return first === second;\n}\n\nfunction insertByOrder(array, element, comparator) {\n    let i = 0;\n    for (; i < array.length && comparator(array[i], element) < 0; i++) {}\n\n    return [...array.slice(0, i), element, ...array.slice(i)];\n}\n\nexport {\n    getBrowser,\n    getOSName,\n    stringToBoolean,\n    orderCompare,\n    getSize,\n    getPhotoThumbnailSize,\n    getPhotoSize,\n    getFitSize,\n    itemsInView,\n    throttle,\n    debounce,\n    getLetters,\n    readImageSize,\n    formatPhoneNumber,\n    arrayBufferToBase64,\n    isAuthorizationReady,\n    between,\n    clamp,\n    getDurationString,\n    getRandomInt,\n    isAppleDevice,\n    historyEquals,\n    insertByOrder\n};\n","import FileStore from '../Stores/FileStore';\nimport UserStore from '../Stores/UserStore';\nimport axios from \"axios\";\nimport IMController from '../Controllers/IMController';\n\nfunction getSrc(url) {\n    const blob = FileStore.get(url);\n    if (blob == null) {\n        IMController.downloadFile(url);\n    }\n    return blob;\n}\n\nfunction getBlob(file) {\n    return file ? FileStore.getBlob(file.id) || file.blob : null;\n}\n\n\nfunction getAvatar(url) {\n    return axios.get('https://www.gravatar.com/avatar/7ad5ab35f81ff2a439baf00829ee6a23', {\n            responseType: 'arraybuffer'\n        })\n        .then(response => Buffer.from(response.data, 'binary').toString('base64'))\n}\n\nfunction getRemoteFile(url) {\n}\n\nfunction getExtension(fileName) {\n    if (!fileName) {\n        return '';\n    }\n\n    const parts = fileName.split('.');\n    if (parts.length === 1 || (parts[0] === '' && parts.length === 2)) {\n        return '';\n    }\n    return parts.pop().toLowerCase();\n}\n\nfunction getSizeString(size) {\n    if (!size) return `0 B`;\n\n    if (size < 1024) {\n        return `${size} B`;\n    }\n\n    if (size < 1024 * 1024) {\n        return `${(size / 1024).toFixed(1)} KB`;\n    }\n\n    if (size < 1024 * 1024 * 1024) {\n        return `${(size / 1024 / 1024).toFixed(1)} MB`;\n    }\n\n    return `${(size / 1024 / 1024 / 1024).toFixed(1)} GB`;\n}\n\nexport {\n    getBlob,\n    getSrc,\n    getRemoteFile,\n    getExtension,\n    getSizeString,\n}","/**\n * @fileoverview\n * @enhanceable\n * @suppress {messageConventions} JS Compiler reports an error if a variable or\n *     field starts with 'MSG_' and isn't a translatable message.\n * @public\n */\n// GENERATED CODE -- DO NOT EDIT!\n\nvar jspb = require('google-protobuf');\nvar goog = jspb;\nvar global = Function('return this')();\n\nvar auxiliary_pb = require('./auxiliary_pb.js');\ngoog.object.extend(proto, auxiliary_pb);\ngoog.exportSymbol('proto.IMNut.AuxiliaryMsg', null, global);\ngoog.exportSymbol('proto.IMNut.FileBean', null, global);\ngoog.exportSymbol('proto.IMNut.Image', null, global);\ngoog.exportSymbol('proto.IMNut.Msg', null, global);\ngoog.exportSymbol('proto.IMNut.MsgAck', null, global);\ngoog.exportSymbol('proto.IMNut.MsgList', null, global);\ngoog.exportSymbol('proto.IMNut.MsgRead', null, global);\ngoog.exportSymbol('proto.IMNut.MsgType', null, global);\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.Msg = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.IMNut.Msg, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.Msg.displayName = 'proto.IMNut.Msg';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.MsgAck = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.IMNut.MsgAck, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.MsgAck.displayName = 'proto.IMNut.MsgAck';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.MsgRead = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.IMNut.MsgRead, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.MsgRead.displayName = 'proto.IMNut.MsgRead';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.MsgList = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, proto.IMNut.MsgList.repeatedFields_, null);\n};\ngoog.inherits(proto.IMNut.MsgList, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.MsgList.displayName = 'proto.IMNut.MsgList';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.Image = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.IMNut.Image, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.Image.displayName = 'proto.IMNut.Image';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.AuxiliaryMsg = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.IMNut.AuxiliaryMsg, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.AuxiliaryMsg.displayName = 'proto.IMNut.AuxiliaryMsg';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.FileBean = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.IMNut.FileBean, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.FileBean.displayName = 'proto.IMNut.FileBean';\n}\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.Msg.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.Msg.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.Msg} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.Msg.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    conversationid: jspb.Message.getFieldWithDefault(msg, 1, \"\"),\n    cid: jspb.Message.getFieldWithDefault(msg, 2, \"\"),\n    type: jspb.Message.getFieldWithDefault(msg, 5, 0),\n    blob: msg.getBlob_asB64(),\n    blobextra: msg.getBlobextra_asB64(),\n    jetts: jspb.Message.getFieldWithDefault(msg, 10, 0),\n    ackts: jspb.Message.getFieldWithDefault(msg, 11, 0),\n    id: jspb.Message.getFieldWithDefault(msg, 12, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.Msg}\n */\nproto.IMNut.Msg.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.Msg;\n  return proto.IMNut.Msg.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.Msg} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.Msg}\n */\nproto.IMNut.Msg.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setConversationid(value);\n      break;\n    case 2:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setCid(value);\n      break;\n    case 5:\n      var value = /** @type {!proto.IMNut.MsgType} */ (reader.readEnum());\n      msg.setType(value);\n      break;\n    case 6:\n      var value = /** @type {!Uint8Array} */ (reader.readBytes());\n      msg.setBlob(value);\n      break;\n    case 7:\n      var value = /** @type {!Uint8Array} */ (reader.readBytes());\n      msg.setBlobextra(value);\n      break;\n    case 10:\n      var value = /** @type {number} */ (reader.readInt64());\n      msg.setJetts(value);\n      break;\n    case 11:\n      var value = /** @type {number} */ (reader.readInt64());\n      msg.setAckts(value);\n      break;\n    case 12:\n      var value = /** @type {number} */ (reader.readInt64());\n      msg.setId(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.Msg.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.Msg.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.Msg} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.Msg.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getConversationid();\n  if (f.length > 0) {\n    writer.writeString(\n      1,\n      f\n    );\n  }\n  f = message.getCid();\n  if (f.length > 0) {\n    writer.writeString(\n      2,\n      f\n    );\n  }\n  f = message.getType();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      5,\n      f\n    );\n  }\n  f = message.getBlob_asU8();\n  if (f.length > 0) {\n    writer.writeBytes(\n      6,\n      f\n    );\n  }\n  f = message.getBlobextra_asU8();\n  if (f.length > 0) {\n    writer.writeBytes(\n      7,\n      f\n    );\n  }\n  f = message.getJetts();\n  if (f !== 0) {\n    writer.writeInt64(\n      10,\n      f\n    );\n  }\n  f = message.getAckts();\n  if (f !== 0) {\n    writer.writeInt64(\n      11,\n      f\n    );\n  }\n  f = message.getId();\n  if (f !== 0) {\n    writer.writeInt64(\n      12,\n      f\n    );\n  }\n};\n\n\n/**\n * optional string conversationId = 1;\n * @return {string}\n */\nproto.IMNut.Msg.prototype.getConversationid = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 1, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.Msg.prototype.setConversationid = function(value) {\n  jspb.Message.setProto3StringField(this, 1, value);\n};\n\n\n/**\n * optional string cid = 2;\n * @return {string}\n */\nproto.IMNut.Msg.prototype.getCid = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 2, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.Msg.prototype.setCid = function(value) {\n  jspb.Message.setProto3StringField(this, 2, value);\n};\n\n\n/**\n * optional MsgType type = 5;\n * @return {!proto.IMNut.MsgType}\n */\nproto.IMNut.Msg.prototype.getType = function() {\n  return /** @type {!proto.IMNut.MsgType} */ (jspb.Message.getFieldWithDefault(this, 5, 0));\n};\n\n\n/** @param {!proto.IMNut.MsgType} value */\nproto.IMNut.Msg.prototype.setType = function(value) {\n  jspb.Message.setProto3EnumField(this, 5, value);\n};\n\n\n/**\n * optional bytes blob = 6;\n * @return {!(string|Uint8Array)}\n */\nproto.IMNut.Msg.prototype.getBlob = function() {\n  return /** @type {!(string|Uint8Array)} */ (jspb.Message.getFieldWithDefault(this, 6, \"\"));\n};\n\n\n/**\n * optional bytes blob = 6;\n * This is a type-conversion wrapper around `getBlob()`\n * @return {string}\n */\nproto.IMNut.Msg.prototype.getBlob_asB64 = function() {\n  return /** @type {string} */ (jspb.Message.bytesAsB64(\n      this.getBlob()));\n};\n\n\n/**\n * optional bytes blob = 6;\n * Note that Uint8Array is not supported on all browsers.\n * @see http://caniuse.com/Uint8Array\n * This is a type-conversion wrapper around `getBlob()`\n * @return {!Uint8Array}\n */\nproto.IMNut.Msg.prototype.getBlob_asU8 = function() {\n  return /** @type {!Uint8Array} */ (jspb.Message.bytesAsU8(\n      this.getBlob()));\n};\n\n\n/** @param {!(string|Uint8Array)} value */\nproto.IMNut.Msg.prototype.setBlob = function(value) {\n  jspb.Message.setProto3BytesField(this, 6, value);\n};\n\n\n/**\n * optional bytes blobExtra = 7;\n * @return {!(string|Uint8Array)}\n */\nproto.IMNut.Msg.prototype.getBlobextra = function() {\n  return /** @type {!(string|Uint8Array)} */ (jspb.Message.getFieldWithDefault(this, 7, \"\"));\n};\n\n\n/**\n * optional bytes blobExtra = 7;\n * This is a type-conversion wrapper around `getBlobextra()`\n * @return {string}\n */\nproto.IMNut.Msg.prototype.getBlobextra_asB64 = function() {\n  return /** @type {string} */ (jspb.Message.bytesAsB64(\n      this.getBlobextra()));\n};\n\n\n/**\n * optional bytes blobExtra = 7;\n * Note that Uint8Array is not supported on all browsers.\n * @see http://caniuse.com/Uint8Array\n * This is a type-conversion wrapper around `getBlobextra()`\n * @return {!Uint8Array}\n */\nproto.IMNut.Msg.prototype.getBlobextra_asU8 = function() {\n  return /** @type {!Uint8Array} */ (jspb.Message.bytesAsU8(\n      this.getBlobextra()));\n};\n\n\n/** @param {!(string|Uint8Array)} value */\nproto.IMNut.Msg.prototype.setBlobextra = function(value) {\n  jspb.Message.setProto3BytesField(this, 7, value);\n};\n\n\n/**\n * optional int64 jetTs = 10;\n * @return {number}\n */\nproto.IMNut.Msg.prototype.getJetts = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 10, 0));\n};\n\n\n/** @param {number} value */\nproto.IMNut.Msg.prototype.setJetts = function(value) {\n  jspb.Message.setProto3IntField(this, 10, value);\n};\n\n\n/**\n * optional int64 ackTs = 11;\n * @return {number}\n */\nproto.IMNut.Msg.prototype.getAckts = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 11, 0));\n};\n\n\n/** @param {number} value */\nproto.IMNut.Msg.prototype.setAckts = function(value) {\n  jspb.Message.setProto3IntField(this, 11, value);\n};\n\n\n/**\n * optional int64 id = 12;\n * @return {number}\n */\nproto.IMNut.Msg.prototype.getId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 12, 0));\n};\n\n\n/** @param {number} value */\nproto.IMNut.Msg.prototype.setId = function(value) {\n  jspb.Message.setProto3IntField(this, 12, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.MsgAck.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.MsgAck.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.MsgAck} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.MsgAck.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    conversationid: jspb.Message.getFieldWithDefault(msg, 1, \"\"),\n    id: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    jetts: jspb.Message.getFieldWithDefault(msg, 10, 0),\n    ackts: jspb.Message.getFieldWithDefault(msg, 11, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.MsgAck}\n */\nproto.IMNut.MsgAck.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.MsgAck;\n  return proto.IMNut.MsgAck.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.MsgAck} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.MsgAck}\n */\nproto.IMNut.MsgAck.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setConversationid(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readInt64());\n      msg.setId(value);\n      break;\n    case 10:\n      var value = /** @type {number} */ (reader.readInt64());\n      msg.setJetts(value);\n      break;\n    case 11:\n      var value = /** @type {number} */ (reader.readInt64());\n      msg.setAckts(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.MsgAck.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.MsgAck.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.MsgAck} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.MsgAck.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getConversationid();\n  if (f.length > 0) {\n    writer.writeString(\n      1,\n      f\n    );\n  }\n  f = message.getId();\n  if (f !== 0) {\n    writer.writeInt64(\n      2,\n      f\n    );\n  }\n  f = message.getJetts();\n  if (f !== 0) {\n    writer.writeInt64(\n      10,\n      f\n    );\n  }\n  f = message.getAckts();\n  if (f !== 0) {\n    writer.writeInt64(\n      11,\n      f\n    );\n  }\n};\n\n\n/**\n * optional string conversationId = 1;\n * @return {string}\n */\nproto.IMNut.MsgAck.prototype.getConversationid = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 1, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.MsgAck.prototype.setConversationid = function(value) {\n  jspb.Message.setProto3StringField(this, 1, value);\n};\n\n\n/**\n * optional int64 id = 2;\n * @return {number}\n */\nproto.IMNut.MsgAck.prototype.getId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/** @param {number} value */\nproto.IMNut.MsgAck.prototype.setId = function(value) {\n  jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional int64 jetTs = 10;\n * @return {number}\n */\nproto.IMNut.MsgAck.prototype.getJetts = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 10, 0));\n};\n\n\n/** @param {number} value */\nproto.IMNut.MsgAck.prototype.setJetts = function(value) {\n  jspb.Message.setProto3IntField(this, 10, value);\n};\n\n\n/**\n * optional int64 ackTs = 11;\n * @return {number}\n */\nproto.IMNut.MsgAck.prototype.getAckts = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 11, 0));\n};\n\n\n/** @param {number} value */\nproto.IMNut.MsgAck.prototype.setAckts = function(value) {\n  jspb.Message.setProto3IntField(this, 11, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.MsgRead.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.MsgRead.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.MsgRead} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.MsgRead.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    conversationid: jspb.Message.getFieldWithDefault(msg, 1, \"\"),\n    id: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    cid: jspb.Message.getFieldWithDefault(msg, 3, \"\")\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.MsgRead}\n */\nproto.IMNut.MsgRead.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.MsgRead;\n  return proto.IMNut.MsgRead.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.MsgRead} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.MsgRead}\n */\nproto.IMNut.MsgRead.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setConversationid(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readInt64());\n      msg.setId(value);\n      break;\n    case 3:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setCid(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.MsgRead.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.MsgRead.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.MsgRead} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.MsgRead.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getConversationid();\n  if (f.length > 0) {\n    writer.writeString(\n      1,\n      f\n    );\n  }\n  f = message.getId();\n  if (f !== 0) {\n    writer.writeInt64(\n      2,\n      f\n    );\n  }\n  f = message.getCid();\n  if (f.length > 0) {\n    writer.writeString(\n      3,\n      f\n    );\n  }\n};\n\n\n/**\n * optional string conversationId = 1;\n * @return {string}\n */\nproto.IMNut.MsgRead.prototype.getConversationid = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 1, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.MsgRead.prototype.setConversationid = function(value) {\n  jspb.Message.setProto3StringField(this, 1, value);\n};\n\n\n/**\n * optional int64 id = 2;\n * @return {number}\n */\nproto.IMNut.MsgRead.prototype.getId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/** @param {number} value */\nproto.IMNut.MsgRead.prototype.setId = function(value) {\n  jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional string cid = 3;\n * @return {string}\n */\nproto.IMNut.MsgRead.prototype.getCid = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 3, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.MsgRead.prototype.setCid = function(value) {\n  jspb.Message.setProto3StringField(this, 3, value);\n};\n\n\n\n/**\n * List of repeated fields within this message type.\n * @private {!Array<number>}\n * @const\n */\nproto.IMNut.MsgList.repeatedFields_ = [6];\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.MsgList.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.MsgList.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.MsgList} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.MsgList.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    direct: jspb.Message.getFieldWithDefault(msg, 1, false),\n    finished: jspb.Message.getFieldWithDefault(msg, 2, false),\n    convid: jspb.Message.getFieldWithDefault(msg, 3, \"\"),\n    lastid: jspb.Message.getFieldWithDefault(msg, 4, 0),\n    limit: jspb.Message.getFieldWithDefault(msg, 5, 0),\n    msgsList: jspb.Message.toObjectList(msg.getMsgsList(),\n    proto.IMNut.Msg.toObject, includeInstance)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.MsgList}\n */\nproto.IMNut.MsgList.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.MsgList;\n  return proto.IMNut.MsgList.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.MsgList} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.MsgList}\n */\nproto.IMNut.MsgList.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {boolean} */ (reader.readBool());\n      msg.setDirect(value);\n      break;\n    case 2:\n      var value = /** @type {boolean} */ (reader.readBool());\n      msg.setFinished(value);\n      break;\n    case 3:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setConvid(value);\n      break;\n    case 4:\n      var value = /** @type {number} */ (reader.readInt64());\n      msg.setLastid(value);\n      break;\n    case 5:\n      var value = /** @type {number} */ (reader.readInt32());\n      msg.setLimit(value);\n      break;\n    case 6:\n      var value = new proto.IMNut.Msg;\n      reader.readMessage(value,proto.IMNut.Msg.deserializeBinaryFromReader);\n      msg.addMsgs(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.MsgList.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.MsgList.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.MsgList} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.MsgList.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getDirect();\n  if (f) {\n    writer.writeBool(\n      1,\n      f\n    );\n  }\n  f = message.getFinished();\n  if (f) {\n    writer.writeBool(\n      2,\n      f\n    );\n  }\n  f = message.getConvid();\n  if (f.length > 0) {\n    writer.writeString(\n      3,\n      f\n    );\n  }\n  f = message.getLastid();\n  if (f !== 0) {\n    writer.writeInt64(\n      4,\n      f\n    );\n  }\n  f = message.getLimit();\n  if (f !== 0) {\n    writer.writeInt32(\n      5,\n      f\n    );\n  }\n  f = message.getMsgsList();\n  if (f.length > 0) {\n    writer.writeRepeatedMessage(\n      6,\n      f,\n      proto.IMNut.Msg.serializeBinaryToWriter\n    );\n  }\n};\n\n\n/**\n * optional bool direct = 1;\n * Note that Boolean fields may be set to 0/1 when serialized from a Java server.\n * You should avoid comparisons like {@code val === true/false} in those cases.\n * @return {boolean}\n */\nproto.IMNut.MsgList.prototype.getDirect = function() {\n  return /** @type {boolean} */ (jspb.Message.getFieldWithDefault(this, 1, false));\n};\n\n\n/** @param {boolean} value */\nproto.IMNut.MsgList.prototype.setDirect = function(value) {\n  jspb.Message.setProto3BooleanField(this, 1, value);\n};\n\n\n/**\n * optional bool finished = 2;\n * Note that Boolean fields may be set to 0/1 when serialized from a Java server.\n * You should avoid comparisons like {@code val === true/false} in those cases.\n * @return {boolean}\n */\nproto.IMNut.MsgList.prototype.getFinished = function() {\n  return /** @type {boolean} */ (jspb.Message.getFieldWithDefault(this, 2, false));\n};\n\n\n/** @param {boolean} value */\nproto.IMNut.MsgList.prototype.setFinished = function(value) {\n  jspb.Message.setProto3BooleanField(this, 2, value);\n};\n\n\n/**\n * optional string convId = 3;\n * @return {string}\n */\nproto.IMNut.MsgList.prototype.getConvid = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 3, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.MsgList.prototype.setConvid = function(value) {\n  jspb.Message.setProto3StringField(this, 3, value);\n};\n\n\n/**\n * optional int64 lastId = 4;\n * @return {number}\n */\nproto.IMNut.MsgList.prototype.getLastid = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 4, 0));\n};\n\n\n/** @param {number} value */\nproto.IMNut.MsgList.prototype.setLastid = function(value) {\n  jspb.Message.setProto3IntField(this, 4, value);\n};\n\n\n/**\n * optional int32 limit = 5;\n * @return {number}\n */\nproto.IMNut.MsgList.prototype.getLimit = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 5, 0));\n};\n\n\n/** @param {number} value */\nproto.IMNut.MsgList.prototype.setLimit = function(value) {\n  jspb.Message.setProto3IntField(this, 5, value);\n};\n\n\n/**\n * repeated Msg msgs = 6;\n * @return {!Array<!proto.IMNut.Msg>}\n */\nproto.IMNut.MsgList.prototype.getMsgsList = function() {\n  return /** @type{!Array<!proto.IMNut.Msg>} */ (\n    jspb.Message.getRepeatedWrapperField(this, proto.IMNut.Msg, 6));\n};\n\n\n/** @param {!Array<!proto.IMNut.Msg>} value */\nproto.IMNut.MsgList.prototype.setMsgsList = function(value) {\n  jspb.Message.setRepeatedWrapperField(this, 6, value);\n};\n\n\n/**\n * @param {!proto.IMNut.Msg=} opt_value\n * @param {number=} opt_index\n * @return {!proto.IMNut.Msg}\n */\nproto.IMNut.MsgList.prototype.addMsgs = function(opt_value, opt_index) {\n  return jspb.Message.addToRepeatedWrapperField(this, 6, opt_value, proto.IMNut.Msg, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n */\nproto.IMNut.MsgList.prototype.clearMsgsList = function() {\n  this.setMsgsList([]);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.Image.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.Image.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.Image} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.Image.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    localpath: jspb.Message.getFieldWithDefault(msg, 1, \"\"),\n    cachepath: jspb.Message.getFieldWithDefault(msg, 2, \"\"),\n    filename: jspb.Message.getFieldWithDefault(msg, 3, \"\"),\n    imgurl: jspb.Message.getFieldWithDefault(msg, 4, \"\"),\n    width: jspb.Message.getFieldWithDefault(msg, 5, \"\"),\n    height: jspb.Message.getFieldWithDefault(msg, 6, \"\")\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.Image}\n */\nproto.IMNut.Image.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.Image;\n  return proto.IMNut.Image.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.Image} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.Image}\n */\nproto.IMNut.Image.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setLocalpath(value);\n      break;\n    case 2:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setCachepath(value);\n      break;\n    case 3:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setFilename(value);\n      break;\n    case 4:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setImgurl(value);\n      break;\n    case 5:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setWidth(value);\n      break;\n    case 6:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setHeight(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.Image.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.Image.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.Image} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.Image.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getLocalpath();\n  if (f.length > 0) {\n    writer.writeString(\n      1,\n      f\n    );\n  }\n  f = message.getCachepath();\n  if (f.length > 0) {\n    writer.writeString(\n      2,\n      f\n    );\n  }\n  f = message.getFilename();\n  if (f.length > 0) {\n    writer.writeString(\n      3,\n      f\n    );\n  }\n  f = message.getImgurl();\n  if (f.length > 0) {\n    writer.writeString(\n      4,\n      f\n    );\n  }\n  f = message.getWidth();\n  if (f.length > 0) {\n    writer.writeString(\n      5,\n      f\n    );\n  }\n  f = message.getHeight();\n  if (f.length > 0) {\n    writer.writeString(\n      6,\n      f\n    );\n  }\n};\n\n\n/**\n * optional string localPath = 1;\n * @return {string}\n */\nproto.IMNut.Image.prototype.getLocalpath = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 1, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.Image.prototype.setLocalpath = function(value) {\n  jspb.Message.setProto3StringField(this, 1, value);\n};\n\n\n/**\n * optional string cachePath = 2;\n * @return {string}\n */\nproto.IMNut.Image.prototype.getCachepath = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 2, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.Image.prototype.setCachepath = function(value) {\n  jspb.Message.setProto3StringField(this, 2, value);\n};\n\n\n/**\n * optional string filename = 3;\n * @return {string}\n */\nproto.IMNut.Image.prototype.getFilename = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 3, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.Image.prototype.setFilename = function(value) {\n  jspb.Message.setProto3StringField(this, 3, value);\n};\n\n\n/**\n * optional string imgUrl = 4;\n * @return {string}\n */\nproto.IMNut.Image.prototype.getImgurl = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 4, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.Image.prototype.setImgurl = function(value) {\n  jspb.Message.setProto3StringField(this, 4, value);\n};\n\n\n/**\n * optional string width = 5;\n * @return {string}\n */\nproto.IMNut.Image.prototype.getWidth = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 5, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.Image.prototype.setWidth = function(value) {\n  jspb.Message.setProto3StringField(this, 5, value);\n};\n\n\n/**\n * optional string height = 6;\n * @return {string}\n */\nproto.IMNut.Image.prototype.getHeight = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 6, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.Image.prototype.setHeight = function(value) {\n  jspb.Message.setProto3StringField(this, 6, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.AuxiliaryMsg.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.AuxiliaryMsg.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.AuxiliaryMsg} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.AuxiliaryMsg.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    type: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    blob: msg.getBlob_asB64()\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.AuxiliaryMsg}\n */\nproto.IMNut.AuxiliaryMsg.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.AuxiliaryMsg;\n  return proto.IMNut.AuxiliaryMsg.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.AuxiliaryMsg} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.AuxiliaryMsg}\n */\nproto.IMNut.AuxiliaryMsg.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {!proto.IMNut.AuxiliaryType} */ (reader.readEnum());\n      msg.setType(value);\n      break;\n    case 2:\n      var value = /** @type {!Uint8Array} */ (reader.readBytes());\n      msg.setBlob(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.AuxiliaryMsg.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.AuxiliaryMsg.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.AuxiliaryMsg} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.AuxiliaryMsg.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getType();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      1,\n      f\n    );\n  }\n  f = message.getBlob_asU8();\n  if (f.length > 0) {\n    writer.writeBytes(\n      2,\n      f\n    );\n  }\n};\n\n\n/**\n * optional AuxiliaryType type = 1;\n * @return {!proto.IMNut.AuxiliaryType}\n */\nproto.IMNut.AuxiliaryMsg.prototype.getType = function() {\n  return /** @type {!proto.IMNut.AuxiliaryType} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/** @param {!proto.IMNut.AuxiliaryType} value */\nproto.IMNut.AuxiliaryMsg.prototype.setType = function(value) {\n  jspb.Message.setProto3EnumField(this, 1, value);\n};\n\n\n/**\n * optional bytes blob = 2;\n * @return {!(string|Uint8Array)}\n */\nproto.IMNut.AuxiliaryMsg.prototype.getBlob = function() {\n  return /** @type {!(string|Uint8Array)} */ (jspb.Message.getFieldWithDefault(this, 2, \"\"));\n};\n\n\n/**\n * optional bytes blob = 2;\n * This is a type-conversion wrapper around `getBlob()`\n * @return {string}\n */\nproto.IMNut.AuxiliaryMsg.prototype.getBlob_asB64 = function() {\n  return /** @type {string} */ (jspb.Message.bytesAsB64(\n      this.getBlob()));\n};\n\n\n/**\n * optional bytes blob = 2;\n * Note that Uint8Array is not supported on all browsers.\n * @see http://caniuse.com/Uint8Array\n * This is a type-conversion wrapper around `getBlob()`\n * @return {!Uint8Array}\n */\nproto.IMNut.AuxiliaryMsg.prototype.getBlob_asU8 = function() {\n  return /** @type {!Uint8Array} */ (jspb.Message.bytesAsU8(\n      this.getBlob()));\n};\n\n\n/** @param {!(string|Uint8Array)} value */\nproto.IMNut.AuxiliaryMsg.prototype.setBlob = function(value) {\n  jspb.Message.setProto3BytesField(this, 2, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.FileBean.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.FileBean.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.FileBean} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.FileBean.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    localpath: jspb.Message.getFieldWithDefault(msg, 1, \"\"),\n    name: jspb.Message.getFieldWithDefault(msg, 2, \"\"),\n    url: jspb.Message.getFieldWithDefault(msg, 3, \"\"),\n    mediatype: jspb.Message.getFieldWithDefault(msg, 4, \"\"),\n    md5: jspb.Message.getFieldWithDefault(msg, 5, \"\"),\n    size: jspb.Message.getFieldWithDefault(msg, 6, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.FileBean}\n */\nproto.IMNut.FileBean.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.FileBean;\n  return proto.IMNut.FileBean.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.FileBean} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.FileBean}\n */\nproto.IMNut.FileBean.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setLocalpath(value);\n      break;\n    case 2:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setName(value);\n      break;\n    case 3:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setUrl(value);\n      break;\n    case 4:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setMediatype(value);\n      break;\n    case 5:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setMd5(value);\n      break;\n    case 6:\n      var value = /** @type {number} */ (reader.readInt64());\n      msg.setSize(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.FileBean.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.FileBean.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.FileBean} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.FileBean.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getLocalpath();\n  if (f.length > 0) {\n    writer.writeString(\n      1,\n      f\n    );\n  }\n  f = message.getName();\n  if (f.length > 0) {\n    writer.writeString(\n      2,\n      f\n    );\n  }\n  f = message.getUrl();\n  if (f.length > 0) {\n    writer.writeString(\n      3,\n      f\n    );\n  }\n  f = message.getMediatype();\n  if (f.length > 0) {\n    writer.writeString(\n      4,\n      f\n    );\n  }\n  f = message.getMd5();\n  if (f.length > 0) {\n    writer.writeString(\n      5,\n      f\n    );\n  }\n  f = message.getSize();\n  if (f !== 0) {\n    writer.writeInt64(\n      6,\n      f\n    );\n  }\n};\n\n\n/**\n * optional string localPath = 1;\n * @return {string}\n */\nproto.IMNut.FileBean.prototype.getLocalpath = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 1, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.FileBean.prototype.setLocalpath = function(value) {\n  jspb.Message.setProto3StringField(this, 1, value);\n};\n\n\n/**\n * optional string name = 2;\n * @return {string}\n */\nproto.IMNut.FileBean.prototype.getName = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 2, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.FileBean.prototype.setName = function(value) {\n  jspb.Message.setProto3StringField(this, 2, value);\n};\n\n\n/**\n * optional string url = 3;\n * @return {string}\n */\nproto.IMNut.FileBean.prototype.getUrl = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 3, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.FileBean.prototype.setUrl = function(value) {\n  jspb.Message.setProto3StringField(this, 3, value);\n};\n\n\n/**\n * optional string mediaType = 4;\n * @return {string}\n */\nproto.IMNut.FileBean.prototype.getMediatype = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 4, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.FileBean.prototype.setMediatype = function(value) {\n  jspb.Message.setProto3StringField(this, 4, value);\n};\n\n\n/**\n * optional string md5 = 5;\n * @return {string}\n */\nproto.IMNut.FileBean.prototype.getMd5 = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 5, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.FileBean.prototype.setMd5 = function(value) {\n  jspb.Message.setProto3StringField(this, 5, value);\n};\n\n\n/**\n * optional int64 size = 6;\n * @return {number}\n */\nproto.IMNut.FileBean.prototype.getSize = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 6, 0));\n};\n\n\n/** @param {number} value */\nproto.IMNut.FileBean.prototype.setSize = function(value) {\n  jspb.Message.setProto3IntField(this, 6, value);\n};\n\n\n/**\n * @enum {number}\n */\nproto.IMNut.MsgType = {\n  TEXT: 0,\n  PICTURE: 1,\n  VOICE: 2,\n  REDPACKET: 3,\n  AUXILIARY: 4,\n  FILE: 5\n};\n\ngoog.object.extend(exports, proto.IMNut);\n","import {EventEmitter} from \"events\";\nimport IMController from '../Controllers/IMController';\nimport CacheStore from './CacheStore';\nimport AppStore from './ApplicationStore';\n\nclass ChatStore extends EventEmitter {\n    constructor() {\n        super();\n        this.reset();\n\n        this.addIMListener();\n        this.setMaxListeners(Infinity);\n    }\n\n    reset = () => {\n        this.items = new Map();\n        this.newItems = new Set();\n    };\n\n    set(chat) {\n        console.log(\"ChatStore set\", chat.id, chat)\n        this.items.set(chat.id, chat);\n    }\n\n    get(chatId) {\n        return this.items.get(chatId);\n    }\n\n    onUpdate = update => {\n        console.log(\"chatstore onUpdate:\" , update);\n        switch (update['@type']) {\n            case 'queryConv': {\n                const {convs} = update;\n                for (let i = 0; i < convs.length; i++) {\n                    this.updateConv(convs[i]);\n                    this.newItems.add(convs[i].getId())\n                }\n                if (AppStore.cacheLoaded) {\n                    this.clearChats()\n                }\n                this.emitUpdate(update);\n                break;\n            }\n            case 'tgtMsgSend':\n            case 'msgAcked' :{\n                const msg = update.msg;\n                const lastTs = msg.getAckts() / 1000_000;\n                const chat = this.items.get(msg.getConversationid());\n                this.assign(chat, {last_msg: msg, last_ts: lastTs});\n                update = {...update, chatId: msg.getConversationid()}\n                this.emitUpdate(update);\n                break;\n            }\n            case 'groupInfo': {\n                const {conv} = update;\n                this.updateGroup(conv);\n                this.emitUpdate(update);\n                break;\n            }\n        }\n    };\n\n    clearChats() {\n        for (let [item, value] of this.items.entries()) {\n            if (!this.newItems.has(item)) {\n                console.log(\"clearchat\", item)\n                CacheStore.removeChat(item)\n            }\n        }\n    }\n\n    assign(source1, source2) {\n        //Object.assign(source1, source2);\n        if (!source1) return;\n        const chat = Object.assign({}, source1, source2);\n        this.set(chat);\n        CacheStore.saveChat(chat.id, chat);\n    }\n\n    updateConv(conv) {\n        let chat = this.items.get(conv.getId());\n        if (!chat) {\n            console.log('ChatStore new conv: ', conv);\n            var extra = conv.getType() === 0 ? conv.getCidsList().find(cid => {\n                    return !(cid === IMController.state.cid)\n                }) : conv.getMembersList();\n            chat = {id: conv.getId(), conv:conv, type: conv.getType(), extra: extra, last_ts:0}\n            this.set(chat);\n            if (AppStore.cacheLoaded) {\n                CacheStore.saveChat(conv.getId(), chat);\n            }\n            return;\n        }\n        this.assign(chat, {conv:conv})\n    }\n\n    updateGroup(conv) {\n        let chat = this.items.get(conv.getId());\n        if (!chat && chat !== conv) {\n            console.log('ChatStore new conv: ', conv);\n            this.assign(chat, {conv:conv})\n        }\n    }\n\n    onClientUpdate = update => {\n        switch (update['@type']) {\n            case 'clientUpdateOpenChat': {\n                this.emitUpdate(update);\n                break;\n            }\n            case 'clientLogout': {\n                this.reset();\n                break\n            }\n        }\n    };\n\n    emitUpdate = update => {\n        this.emit(update['@type'], update);\n    };\n\n    addIMListener() {\n        IMController.addListener('update', this.onUpdate);\n        IMController.addListener('clientUpdate', this.onClientUpdate);\n    }\n\n    getSortedItems() {\n        return Array.from(new Map([...this.items.entries()]\n            .sort((a, b) => {\n                return b[1].last_ts - a[1].last_ts\n            }))\n            .keys());\n    }\n\n    findUserChat(userId) {\n        const chat =  Array.from(this.items.values()).find(item => {\n            return item.conv && item.conv.getType() === 0 &&\n                item.conv.getCidsList().includes(userId)\n        });\n        console.log(\"openUser: \", chat);\n        return chat.id\n    }\n}\n\nconst store = new ChatStore();\nwindow.chat = store;\nexport default store;","module.exports = \"data:image/png;base64,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\"","import {EventEmitter} from \"events\";\nimport IMController from \"../Controllers/IMController\";\nimport {AuthStateEnum} from \"./AuthorizationStore\";\n\nclass ApplicationStore extends EventEmitter {\n    constructor() {\n        super();\n\n        this.reset();\n        this.addIMListener();\n        this.setMaxListeners(Infinity);\n    }\n\n    reset = () => {\n        this.cacheLoaded = false;\n        this.cid = null;\n        this.chatId = null;\n        this.dialogChatId = 0;\n        this.messageId = 0;\n        this.isChatDetailsVisible = false;\n\n        this.authorizationState = null;\n    };\n\n    changeChatDetailsVisibility(visibility) {\n        this.isChatDetailsVisible = visibility;\n        this.emit('clientUpdateChatDetailsVisibility', visibility);\n    }\n\n    getChatId() {\n        return this.chatId;\n    }\n\n    getCid() {\n        return this.cid;\n    }\n\n    getMessageId() {\n        return this.messageId;\n    }\n\n    getConnectionState() {\n        return this.connectionState;\n    }\n\n    addIMListener() {\n        IMController.addListener('update', this.onUpdate);\n        IMController.addListener('clientUpdate', this.onClientUpdate);\n    }\n\n    onUpdate = update => {\n    };\n\n    onClientUpdate = update => {\n        console.log(\"Appstore\", update)\n        switch (update['@type']) {\n            case 'clientUpdateCacheLoaded': {\n                this.cacheLoaded = true;\n                this.emit('clientUpdateCacheLoaded');\n                break;\n            }\n            case 'clientUpdateChatId': {\n                const extendedUpdate = {\n                    '@type': 'clientUpdateChatId',\n                    nextChatId: update.chatId,\n                    nextMessageId: update.messageId,\n                    previousChatId: this.chatId,\n                    previousMessageId: this.messageId\n                };\n\n                this.chatId = update.chatId;\n                this.messageId = update.messageId;\n\n                console.log(\"AppStore, clientUpdateChatId\", extendedUpdate)\n                this.emit('clientUpdateChatId', extendedUpdate);\n                break;\n            }\n            case 'clientUpdateAuthState': {\n                if (update.auth_state === AuthStateEnum.STATE_LOGIN) {\n                    this.cid = update.uid;\n                }\n                this.emit(update['@type'], update);\n                break;\n            }\n            case 'clientLogout': {\n                this.reset();\n                this.emit(update['@type'], update);\n                break\n            }\n            case 'imState': {\n                this.emit(update['@type'], update);\n                break\n            }\n            default: {\n                break;\n            }\n        }\n    }\n}\n\nconst store = new ApplicationStore();\nwindow.app = store;\nexport default store;","/**\n * @fileoverview\n * @enhanceable\n * @suppress {messageConventions} JS Compiler reports an error if a variable or\n *     field starts with 'MSG_' and isn't a translatable message.\n * @public\n */\n// GENERATED CODE -- DO NOT EDIT!\n\nvar jspb = require('google-protobuf');\nvar goog = jspb;\nvar global = Function('return this')();\n\ngoog.exportSymbol('proto.IMNut.Conversation', null, global);\ngoog.exportSymbol('proto.IMNut.ConversationList', null, global);\ngoog.exportSymbol('proto.IMNut.ConversationType', null, global);\ngoog.exportSymbol('proto.IMNut.MemNick', null, global);\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.MemNick = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.IMNut.MemNick, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.MemNick.displayName = 'proto.IMNut.MemNick';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.Conversation = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, proto.IMNut.Conversation.repeatedFields_, null);\n};\ngoog.inherits(proto.IMNut.Conversation, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.Conversation.displayName = 'proto.IMNut.Conversation';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.IMNut.ConversationList = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, proto.IMNut.ConversationList.repeatedFields_, null);\n};\ngoog.inherits(proto.IMNut.ConversationList, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.IMNut.ConversationList.displayName = 'proto.IMNut.ConversationList';\n}\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.MemNick.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.MemNick.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.MemNick} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.MemNick.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    cid: jspb.Message.getFieldWithDefault(msg, 1, \"\"),\n    nick: jspb.Message.getFieldWithDefault(msg, 2, \"\")\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.MemNick}\n */\nproto.IMNut.MemNick.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.MemNick;\n  return proto.IMNut.MemNick.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.MemNick} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.MemNick}\n */\nproto.IMNut.MemNick.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setCid(value);\n      break;\n    case 2:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setNick(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.MemNick.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.MemNick.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.MemNick} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.MemNick.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getCid();\n  if (f.length > 0) {\n    writer.writeString(\n      1,\n      f\n    );\n  }\n  f = message.getNick();\n  if (f.length > 0) {\n    writer.writeString(\n      2,\n      f\n    );\n  }\n};\n\n\n/**\n * optional string cid = 1;\n * @return {string}\n */\nproto.IMNut.MemNick.prototype.getCid = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 1, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.MemNick.prototype.setCid = function(value) {\n  jspb.Message.setProto3StringField(this, 1, value);\n};\n\n\n/**\n * optional string nick = 2;\n * @return {string}\n */\nproto.IMNut.MemNick.prototype.getNick = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 2, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.MemNick.prototype.setNick = function(value) {\n  jspb.Message.setProto3StringField(this, 2, value);\n};\n\n\n\n/**\n * List of repeated fields within this message type.\n * @private {!Array<number>}\n * @const\n */\nproto.IMNut.Conversation.repeatedFields_ = [4,7,8];\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.Conversation.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.Conversation.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.Conversation} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.Conversation.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    id: jspb.Message.getFieldWithDefault(msg, 1, \"\"),\n    name: jspb.Message.getFieldWithDefault(msg, 2, \"\"),\n    type: jspb.Message.getFieldWithDefault(msg, 3, 0),\n    cidsList: jspb.Message.getRepeatedField(msg, 4),\n    creator: jspb.Message.getFieldWithDefault(msg, 5, \"\"),\n    version: jspb.Message.getFieldWithDefault(msg, 6, 0),\n    membersList: jspb.Message.getRepeatedField(msg, 7),\n    nicksList: jspb.Message.toObjectList(msg.getNicksList(),\n    proto.IMNut.MemNick.toObject, includeInstance)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.Conversation}\n */\nproto.IMNut.Conversation.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.Conversation;\n  return proto.IMNut.Conversation.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.Conversation} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.Conversation}\n */\nproto.IMNut.Conversation.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setId(value);\n      break;\n    case 2:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setName(value);\n      break;\n    case 3:\n      var value = /** @type {!proto.IMNut.ConversationType} */ (reader.readEnum());\n      msg.setType(value);\n      break;\n    case 4:\n      var value = /** @type {string} */ (reader.readString());\n      msg.addCids(value);\n      break;\n    case 5:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setCreator(value);\n      break;\n    case 6:\n      var value = /** @type {number} */ (reader.readInt32());\n      msg.setVersion(value);\n      break;\n    case 7:\n      var value = /** @type {string} */ (reader.readString());\n      msg.addMembers(value);\n      break;\n    case 8:\n      var value = new proto.IMNut.MemNick;\n      reader.readMessage(value,proto.IMNut.MemNick.deserializeBinaryFromReader);\n      msg.addNicks(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.Conversation.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.Conversation.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.Conversation} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.Conversation.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getId();\n  if (f.length > 0) {\n    writer.writeString(\n      1,\n      f\n    );\n  }\n  f = message.getName();\n  if (f.length > 0) {\n    writer.writeString(\n      2,\n      f\n    );\n  }\n  f = message.getType();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      3,\n      f\n    );\n  }\n  f = message.getCidsList();\n  if (f.length > 0) {\n    writer.writeRepeatedString(\n      4,\n      f\n    );\n  }\n  f = message.getCreator();\n  if (f.length > 0) {\n    writer.writeString(\n      5,\n      f\n    );\n  }\n  f = message.getVersion();\n  if (f !== 0) {\n    writer.writeInt32(\n      6,\n      f\n    );\n  }\n  f = message.getMembersList();\n  if (f.length > 0) {\n    writer.writeRepeatedString(\n      7,\n      f\n    );\n  }\n  f = message.getNicksList();\n  if (f.length > 0) {\n    writer.writeRepeatedMessage(\n      8,\n      f,\n      proto.IMNut.MemNick.serializeBinaryToWriter\n    );\n  }\n};\n\n\n/**\n * optional string id = 1;\n * @return {string}\n */\nproto.IMNut.Conversation.prototype.getId = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 1, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.Conversation.prototype.setId = function(value) {\n  jspb.Message.setProto3StringField(this, 1, value);\n};\n\n\n/**\n * optional string name = 2;\n * @return {string}\n */\nproto.IMNut.Conversation.prototype.getName = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 2, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.Conversation.prototype.setName = function(value) {\n  jspb.Message.setProto3StringField(this, 2, value);\n};\n\n\n/**\n * optional ConversationType type = 3;\n * @return {!proto.IMNut.ConversationType}\n */\nproto.IMNut.Conversation.prototype.getType = function() {\n  return /** @type {!proto.IMNut.ConversationType} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/** @param {!proto.IMNut.ConversationType} value */\nproto.IMNut.Conversation.prototype.setType = function(value) {\n  jspb.Message.setProto3EnumField(this, 3, value);\n};\n\n\n/**\n * repeated string cids = 4;\n * @return {!Array<string>}\n */\nproto.IMNut.Conversation.prototype.getCidsList = function() {\n  return /** @type {!Array<string>} */ (jspb.Message.getRepeatedField(this, 4));\n};\n\n\n/** @param {!Array<string>} value */\nproto.IMNut.Conversation.prototype.setCidsList = function(value) {\n  jspb.Message.setField(this, 4, value || []);\n};\n\n\n/**\n * @param {string} value\n * @param {number=} opt_index\n */\nproto.IMNut.Conversation.prototype.addCids = function(value, opt_index) {\n  jspb.Message.addToRepeatedField(this, 4, value, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n */\nproto.IMNut.Conversation.prototype.clearCidsList = function() {\n  this.setCidsList([]);\n};\n\n\n/**\n * optional string creator = 5;\n * @return {string}\n */\nproto.IMNut.Conversation.prototype.getCreator = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 5, \"\"));\n};\n\n\n/** @param {string} value */\nproto.IMNut.Conversation.prototype.setCreator = function(value) {\n  jspb.Message.setProto3StringField(this, 5, value);\n};\n\n\n/**\n * optional int32 version = 6;\n * @return {number}\n */\nproto.IMNut.Conversation.prototype.getVersion = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 6, 0));\n};\n\n\n/** @param {number} value */\nproto.IMNut.Conversation.prototype.setVersion = function(value) {\n  jspb.Message.setProto3IntField(this, 6, value);\n};\n\n\n/**\n * repeated string members = 7;\n * @return {!Array<string>}\n */\nproto.IMNut.Conversation.prototype.getMembersList = function() {\n  return /** @type {!Array<string>} */ (jspb.Message.getRepeatedField(this, 7));\n};\n\n\n/** @param {!Array<string>} value */\nproto.IMNut.Conversation.prototype.setMembersList = function(value) {\n  jspb.Message.setField(this, 7, value || []);\n};\n\n\n/**\n * @param {string} value\n * @param {number=} opt_index\n */\nproto.IMNut.Conversation.prototype.addMembers = function(value, opt_index) {\n  jspb.Message.addToRepeatedField(this, 7, value, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n */\nproto.IMNut.Conversation.prototype.clearMembersList = function() {\n  this.setMembersList([]);\n};\n\n\n/**\n * repeated MemNick nicks = 8;\n * @return {!Array<!proto.IMNut.MemNick>}\n */\nproto.IMNut.Conversation.prototype.getNicksList = function() {\n  return /** @type{!Array<!proto.IMNut.MemNick>} */ (\n    jspb.Message.getRepeatedWrapperField(this, proto.IMNut.MemNick, 8));\n};\n\n\n/** @param {!Array<!proto.IMNut.MemNick>} value */\nproto.IMNut.Conversation.prototype.setNicksList = function(value) {\n  jspb.Message.setRepeatedWrapperField(this, 8, value);\n};\n\n\n/**\n * @param {!proto.IMNut.MemNick=} opt_value\n * @param {number=} opt_index\n * @return {!proto.IMNut.MemNick}\n */\nproto.IMNut.Conversation.prototype.addNicks = function(opt_value, opt_index) {\n  return jspb.Message.addToRepeatedWrapperField(this, 8, opt_value, proto.IMNut.MemNick, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n */\nproto.IMNut.Conversation.prototype.clearNicksList = function() {\n  this.setNicksList([]);\n};\n\n\n\n/**\n * List of repeated fields within this message type.\n * @private {!Array<number>}\n * @const\n */\nproto.IMNut.ConversationList.repeatedFields_ = [2];\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto suitable for use in Soy templates.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     com.google.apps.jspb.JsClassTemplate.JS_RESERVED_WORDS.\n * @param {boolean=} opt_includeInstance Whether to include the JSPB instance\n *     for transitional soy proto support: http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.IMNut.ConversationList.prototype.toObject = function(opt_includeInstance) {\n  return proto.IMNut.ConversationList.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Whether to include the JSPB\n *     instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.IMNut.ConversationList} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.ConversationList.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    limit: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    convsList: jspb.Message.toObjectList(msg.getConvsList(),\n    proto.IMNut.Conversation.toObject, includeInstance)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.IMNut.ConversationList}\n */\nproto.IMNut.ConversationList.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.IMNut.ConversationList;\n  return proto.IMNut.ConversationList.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.IMNut.ConversationList} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.IMNut.ConversationList}\n */\nproto.IMNut.ConversationList.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {number} */ (reader.readInt32());\n      msg.setLimit(value);\n      break;\n    case 2:\n      var value = new proto.IMNut.Conversation;\n      reader.readMessage(value,proto.IMNut.Conversation.deserializeBinaryFromReader);\n      msg.addConvs(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.IMNut.ConversationList.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.IMNut.ConversationList.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.IMNut.ConversationList} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.IMNut.ConversationList.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getLimit();\n  if (f !== 0) {\n    writer.writeInt32(\n      1,\n      f\n    );\n  }\n  f = message.getConvsList();\n  if (f.length > 0) {\n    writer.writeRepeatedMessage(\n      2,\n      f,\n      proto.IMNut.Conversation.serializeBinaryToWriter\n    );\n  }\n};\n\n\n/**\n * optional int32 limit = 1;\n * @return {number}\n */\nproto.IMNut.ConversationList.prototype.getLimit = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/** @param {number} value */\nproto.IMNut.ConversationList.prototype.setLimit = function(value) {\n  jspb.Message.setProto3IntField(this, 1, value);\n};\n\n\n/**\n * repeated Conversation convs = 2;\n * @return {!Array<!proto.IMNut.Conversation>}\n */\nproto.IMNut.ConversationList.prototype.getConvsList = function() {\n  return /** @type{!Array<!proto.IMNut.Conversation>} */ (\n    jspb.Message.getRepeatedWrapperField(this, proto.IMNut.Conversation, 2));\n};\n\n\n/** @param {!Array<!proto.IMNut.Conversation>} value */\nproto.IMNut.ConversationList.prototype.setConvsList = function(value) {\n  jspb.Message.setRepeatedWrapperField(this, 2, value);\n};\n\n\n/**\n * @param {!proto.IMNut.Conversation=} opt_value\n * @param {number=} opt_index\n * @return {!proto.IMNut.Conversation}\n */\nproto.IMNut.ConversationList.prototype.addConvs = function(opt_value, opt_index) {\n  return jspb.Message.addToRepeatedWrapperField(this, 2, opt_value, proto.IMNut.Conversation, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n */\nproto.IMNut.ConversationList.prototype.clearConvsList = function() {\n  this.setConvsList([]);\n};\n\n\n/**\n * @enum {number}\n */\nproto.IMNut.ConversationType = {\n  SINGLE: 0,\n  MULTIPLE: 1,\n  SYS: 2\n};\n\ngoog.object.extend(exports, proto.IMNut);\n"],"sourceRoot":""}
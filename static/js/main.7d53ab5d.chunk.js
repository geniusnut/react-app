(this["webpackJsonpmy-react-app"]=this["webpackJsonpmy-react-app"]||[]).push([[0],{107:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVAAAAFQCAMAAADeNtbrAAAAwFBMVEUAAAACqfQAqfYCqPUAqPQCqfQAsP8CqPQAqf8CqfQDqfQCqfUAqvQAuv8CqfMCqPQAqP8CqfQDqPQCqfQAqvcCqfQCqfUCqfMDqfQAqvgCqfQAqfYCqPQCqfQDqfQAqvQAq/8CqfQAq/YCqfQDqvUCqPQDqfQCqfQAqvUCqfQDqfT///9Cv/fB6vzw+v4TrvWh3/uB1PkjtPZiyvkyufZSxPix5Pvf9P5yz/mR2frQ7/3R7/3g9P5hyfiB1PqQ2frP7bqHAAAAKnRSTlMA+E+QP/0E4xFXvmcWAdnQCemwqSeIeO64IKE1b9TILQ3yG4Bg3cuaSY9nSm+HAAAPOUlEQVR42uzbCZaiMBAA0AIDyGajrIorikvd/4CzvOfYPd3O2BqgktQ/Qj1qSSUATZE4+4dlkY9OaRUcJ16JWHqTY1Clp1FeLA/+WUTAHuBu/GJxLPEB5XpR+BsX2NcaEV6q1sFvctrqEooG2Dtj+7Le4Ut264s9BvY7mG8OSuG8mR7UD8HkoJILpsFBHYeBg51ygoMxMU38mYU9sGZ+Atpz7XSHvdmlZ63n1FicSuxZeRIx6KkeTXEQ01EN2tnkLQ6o3W9AJ/XMwYE5qT6fqQiQhEqABmL7iGQcbdUblHuYICmTg8pzVLL0kJw2VHXcHxdTJGlaqHgqjfISySpz1S5QksJC0qxCqVoqWiRvpc4Q1aSohFSNmyiXerYrlvdihQohn/eqZPtNSrnfK5TtN7sl2bxXK9tvVjT3UJFy2X6zIJj3mQKj532rDIgJFaye71khUJLMUHkzQkuoWul0v2qp9KZ4qXi6X1lLoGBcoTZmBBalguBS/nmegGHF+8Hvh+Vy9jEMKNIo3a+qCAYz1yrdr7w5DKQmegn3qmkNgxCaTEuf7QQMwNc2noiWD707oNZC6NkeNVdAr06ovRP0x1V4l/y41IWeJETee3YtSKAXEaEHn91aR9CDRovl52MmDXQu0/K4eY+3gY6NDfo+f2nH0KmtMfXzar2FDrmG9Pf3Ahc6Exsxf/5tEUNXRmikEXSkQEMV0AkfjeVDB86aXcd9h2ODdLXG++T/s2qQLCP811Efyg1I1Rh14PyK14BErnEHpM/WLg+gSHUctZH9ZIMkc8Mb0lU55wJKsoxyAf1jxAVUMsEFVK5pBC+KuYB+EMT85EauPbxEGLxi+poj4AWRpk9qhyqjsYF3co+UUS6gSKOMZkbvlO+zMngOJ/wdAV/KSebDE7bGL+nv87bwfTmyu3LuSIP3Je5I/1RxR5LM5o4kl7fljiRXzh1JLivjjiRXxR1JMps7klzell8qy1XAQxJe0/9g706bmwZiMABvCaGFQkopRzmmnEOZV3v4ip00gf7/f8UxEyBjO4oTyd4wPJ87Tax4ZWm9a2/p+LHZximilNkfCkTl1GzhXmRv7wCKWeI8rbjym0UkJvcO79kX06SiGl9+DYjBfcOL6QTNbitq4ZMYztPPB7WUKUtoIxdBSPla9AqRCLfEcoNfpK4M4y4i8dXTNr4FDIlfjxfJ0wFDSVuqCgyI7ehfIwpFRVvzOQb12mwSx8Opc+okwZAuzAZPEYOc6IAiOn5q2r1CBL5RZy5gONem1cMYVoPm9MMhnaNHH6JebZcTHVpEP8bcdRa0oxkGMzEt3mJwoaJdFRjM23h3eJW0sypgKKOWidDhZ+qn9MuhpdFz0+gLhhY87cNiKHcjLULntJcbDOWVafD4PQaW0Z5yDOT9uyhXNyS0pwpDuR/jvEhGdLCn6JOGtnPw9WFzooM9RY/q2+veYGiefju86v40vntJUxIwxzDqW5deYmgJCfAYysvoJppo5TCL+49m3Rl6E6wNqLEkIkVdYTOoOzNrTtCDMP3mqraBmZIIh7qSfvDu9msGPeOTvteL2IRWStQ5koG6nFbcV6i50+/MnXW0uf72JKNATUZ/VGohHfWZQkPJHTRIyBR1S/pLZaHirMcUmntagzpLQlLUlbTmNkDB+KS3FHpL6xzqLAmZoy6ldTcZFNzpK4Um2x2zEIeaehPmC8gb9ZRCE35UQjmglvqI6Fk/KTTZ5rqhHNBAfUR0fNJHCp1RnUWNbkBBdTcB0u70kEItxRpQKiFtpJ9CQxVHQJdMxSrjTD+FzqkJGuQkpEQDRw18gKzxiXYKzagRapQLezimZBVyRzuFJtQIDTISkqOBo0YZZI1UF921B6lAAxJi0aCiPk7RVRJ99B465l2OeUEyAhrQim4WfaF8O8l3CWhCIpZowuQHMQ9V93pNqcW05a8lJGjClARi7qruj086XYiD4jXJUhvIOlW9yFcdAiqWRDOsYwJqIWqkuagp69bMYEYCSjRJmapVzBOlqolJihWaZCQgR5OEekqik19V0xgq0o6lDRztzXf9zw6ixo8UtyPOOxXfMt3nHI2olYesl4qdvKOumWspf0lifynI+qK4jtFR14GW054SNEqpHWS9McZcQ4frdBgSlZPPdvgmskaKT2J03VYjCGTRFDVsywBZl8aYY+hwHcfm3g39EjV8JoGsY2Mej6HDdZ4T2nPnl93hi3jIGr/T2zGbdi3A9xz0KerYhsFB2FudDYnsSKvQIqUdLdAiYQpXWV/09ntZZpFci5J2sgxowGaRGYTdN5+gxe801sKCWF0WgqTMalJhn8wptJS7naJhIRZP9gT1kHZqnkNLTjtlUYSFXDyRMK2VtOfmGXSwNVCKNmEhFs+Cq7SkfTQjqJlzjWKbkFAHiwytbphWQNwzcw01GW10g3a5Jx5f+aTcdLS4a3MBPY4rxdsVjrbip2hXsNPR4i7MJfRkfo8UNvPEmwe04RvZKeQ9MQ+gKOXn29qFlAtpadGOHSAOCi6Vt3UvqA2/jJgLaZJho4T9NRVcmQk0FZ677cvIS2q0mAVsNmNvkGqYmHOosuxdC06YJkta48s8AydniwMN42PzArpyPqLg2TxN586VaTqzQeZjdZybI6gSODSNDy2h5Eg/oMh97xHlx7uWI3MOdUW/EeXjmUPNuTmGNv6p9DOIypjev4CeYzNBH+ySWvkZhBXMpymamCv0I10y9bmg9o7AJwGqrswl+jJ1TH0uqLkjWOYByi7NE/Qny/+u0ZfJLIOiMJ0v/u4GZgX0XZgL9CuzNv9ZntsMPQirTyvQj1fmGv8Juv7/WmlZz/6/FVXW8wieG/pPeRPra1EP1Xf27oY5aSAIA/AKtVZtS1tb7deoHavj7CZ315AQCAX+/7/SYNEGQu6uLmSHuecXMG9zH0zJvu8FzLLeKW8F1AHslJ9yahJ3w42AWcE75QqOJLR87YzXRyJaqRykUUmjcMcSGhbWi7LpLI5jqsjj2EwnUYISncmopVqRRFMTk0UeTycC6qYrugDSbvbl5GtF7gozbL1x+p/3kuqlEdPhIKeXiGcZirAnomNhLpmYnP5HPBWw/q8ARNyb0llBDJSZaGzT3ZGENs9slhOfQZuZ9tpvpkoWabJmii05a7nOU08K2ghlUmzDBUCL96bE0AYVE9y+e4DW7k1RTBuWTzVu2d4WuqmioalZf5OctkCZBJc9xNMswQ053Oy4S52ZgojGGpdEBW2JWn1KzeZ+9fBpkzOto8XVcqCxwrLY+SPFJYbm1IC9X6m3sZHBmVFUqnk+taEtyzOsMrRQDFkz7W5mqHVUprkuz0zRNtUuEj2u3AY0cunAHwevkY0e5g2DFvSA+Pm/wKjVZi6tB+zFAIlRTRMTMkVtMRqfiWiOuVqtx11dkZjm33oPqUVFJdERlZir1bq85SqJsbxNaahV1TEFYyrxVqt1ABg30aFqHpaoC2qZ6jcs+lKc4H85YCyoSuviGonKc+l97oHlzuqvx1ihNrS+3z8gAZ6v+oSI+SHtspX86ZjqGDn7Z12ixnLB8tYB4NlEk8I6bvaBhHi2ahLu1+wOmIpSU2UdmJCSGCP7LjTDF+kxVflqZf9LxyRHhAsZ76ugXYay6cbTO5FxoW8YbqRYE+0AcGyiA/v4Sa1IkuHyscTUUXnAUtifOWxWfRIld/jwBXrrQdUFvkhO6/RF7qCltHLOcy36b1D1BV+i77D5JyTMyL6JUo6+zgEY1nxOa8k8kkrKZe1k6KcHy27RX0rryfrSWaEdvm8Y9HMLyw7Rg/3hexS7hRJFDoEq9PLqEFa8Q28jl8Fysi5NpcxlN0Ivl7DqHj059qeQOA/4JGIbd30Pq07u8J8QaIQe7k6gxgf8KwTqF+g11OngXyFQv0B/Qp39U1wIgXoFeroPtbr4JATqF2gX6t3gkxCoX6BfYI3v+EcI1CvQHqzzDedCoH6BfoR1rnAuBOoX6BWsdY2lEKhXoNew3jn+FgL1C/QcGpxhiTXQR5KmzxroGTS5QWQKVNqPRp7RrIHeQKNL5A40ImFi5Az0EprtcQUq82cOpZQ10D2w+IzuTFOgUv8v/4BOgWp08hlsOugucgoUU0mJGrfPb9BNB6yO0d3IKVBMxKx6lbk9EI8anfwAu3v0kI3dyooiM6bWqUFfW1aY7yzxt2C3f4yBo+N9sJE3d0iy9+Di5A0GTk5PwEUYy+zqFtx8DY+okzdfwU0YI+x5xNu9w8DqHbg7f4WBxatzcBf6F+wuYC6cS8wnUjiXmHRgLpxLTC5hLpxLzCdSOJd4T6RwLjGfSOFc+tXefSipDQNhAF7h3jgXsHHDYJpv3/8BM0nmkgy5w2dwWZXvETzz70oreTRuR1J9adyOpPrSyB1J9aWJO1K/QIX+E24AT/MjVO5EPjyL1jMMRBg6PI/o0ysDUSmgv5l7VP5xNeFFeYbKH1kOL1uhcr9FUmV0JBr8osoomQKqymh/AVVzp+kLaL8CFdRgPKHa1KMbwogONUquPsCoWskPRKwWRtZI3eqzBkZXSjy/ZyVMYEXgvcplGCsYTF2+f8CBiZxQSie4oxb4ZBb090zCj9FPJQ5gQqF0k6d9CJOyLyiV2oaJ5VJtmawWJtdK9C/opYUZ+NLU0asPswgl6fW7EGZiJiiBJIDh1L28L73DrCoUXAUzc4SePRkOzK47orBYBwsohb08GpXwbWrT1M/KYSGtkGehdQuLOQi4II1DWNJZsKM75sHCGqFmJZcNLE6k2BchUCBK7JkDRIgR+5pA3D8cBDgOJRJ3UWJPJ+5ixJ5S3EWIPbG4f9A53YnWOhBlVhyO9I6VCXT53K3yCx9o4yv3dQnkcZR72mnnL/fk085X7nlIO0e55yXtf9lbwv/hZCcb+GOnRI9Fo5Tmxqhf6BG8nnvxeP2cP5nOG5Ly5vBWO/+zuiIZbgci0HdIgkt2CDJYmSx+tcyIuVp39trcGC6IFQQnyC8K9FuGi8huegBCMp2Y4cxYsuK+rz9iey7OyPUOILw2rXEWddqCJJqthROztg3IJGiqJMKJREnVCNqGHtt4hYUjswpPvBXSEO35tsaRrG9naarmQ76j7Y/4kuNec/g50ZiFr5+3cc1wIFbH27OuvuVXgrzztN3FwF7Gevfu6a2UzWe4wM4bvXO89KQVsXtdR4xF66sbF9op9ZxOb3Kb6Jf8AXE1BzDWktvLAAAAAElFTkSuQmCC"},117:function(e,t){e.exports="data:image/png;base64,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"},130:function(e,t,a){e.exports=a(225)},135:function(e,t,a){},136:function(e,t,a){},138:function(e,t,a){},156:function(e,t,a){var n=a(63),o=n,r=Function("return this")(),s=a(55);o.object.extend(proto,s);var i=a(80);o.object.extend(proto,i),o.exportSymbol("proto.IMNut.Code",null,r),o.exportSymbol("proto.IMNut.IMAck",null,r),o.exportSymbol("proto.IMNut.IMOperation",null,r),o.exportSymbol("proto.IMNut.IMRequest",null,r),o.exportSymbol("proto.IMNut.IMResponse",null,r),o.exportSymbol("proto.IMNut.MessageQuery",null,r),o.exportSymbol("proto.IMNut.NatsMsg",null,r),o.exportSymbol("proto.IMNut.OpResult",null,r),o.exportSymbol("proto.IMNut.TgtGroupMemberAdded",null,r),o.exportSymbol("proto.IMNut.TgtGroupMemberRemoved",null,r),o.exportSymbol("proto.IMNut.TgtMsgPush",null,r),o.exportSymbol("proto.IMNut.TgtPeerState",null,r),proto.IMNut.NatsMsg=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.IMNut.NatsMsg,n.Message),o.DEBUG&&!COMPILED&&(proto.IMNut.NatsMsg.displayName="proto.IMNut.NatsMsg"),proto.IMNut.IMAck=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.IMNut.IMAck,n.Message),o.DEBUG&&!COMPILED&&(proto.IMNut.IMAck.displayName="proto.IMNut.IMAck"),proto.IMNut.IMRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.IMNut.IMRequest,n.Message),o.DEBUG&&!COMPILED&&(proto.IMNut.IMRequest.displayName="proto.IMNut.IMRequest"),proto.IMNut.IMResponse=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.IMNut.IMResponse,n.Message),o.DEBUG&&!COMPILED&&(proto.IMNut.IMResponse.displayName="proto.IMNut.IMResponse"),proto.IMNut.OpResult=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.IMNut.OpResult,n.Message),o.DEBUG&&!COMPILED&&(proto.IMNut.OpResult.displayName="proto.IMNut.OpResult"),proto.IMNut.TgtMsgPush=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.IMNut.TgtMsgPush,n.Message),o.DEBUG&&!COMPILED&&(proto.IMNut.TgtMsgPush.displayName="proto.IMNut.TgtMsgPush"),proto.IMNut.TgtPeerState=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.IMNut.TgtPeerState,n.Message),o.DEBUG&&!COMPILED&&(proto.IMNut.TgtPeerState.displayName="proto.IMNut.TgtPeerState"),proto.IMNut.MessageQuery=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.IMNut.MessageQuery,n.Message),o.DEBUG&&!COMPILED&&(proto.IMNut.MessageQuery.displayName="proto.IMNut.MessageQuery"),proto.IMNut.TgtGroupMemberAdded=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.IMNut.TgtGroupMemberAdded,n.Message),o.DEBUG&&!COMPILED&&(proto.IMNut.TgtGroupMemberAdded.displayName="proto.IMNut.TgtGroupMemberAdded"),proto.IMNut.TgtGroupMemberRemoved=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.IMNut.TgtGroupMemberRemoved,n.Message),o.DEBUG&&!COMPILED&&(proto.IMNut.TgtGroupMemberRemoved.displayName="proto.IMNut.TgtGroupMemberRemoved"),n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.NatsMsg.prototype.toObject=function(e){return proto.IMNut.NatsMsg.toObject(e,this)},proto.IMNut.NatsMsg.toObject=function(e,t){var a={operation:n.Message.getFieldWithDefault(t,1,0),blob:t.getBlob_asB64()};return e&&(a.$jspbMessageInstance=t),a}),proto.IMNut.NatsMsg.deserializeBinary=function(e){var t=new n.BinaryReader(e),a=new proto.IMNut.NatsMsg;return proto.IMNut.NatsMsg.deserializeBinaryFromReader(a,t)},proto.IMNut.NatsMsg.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readEnum();e.setOperation(a);break;case 2:a=t.readBytes();e.setBlob(a);break;default:t.skipField()}}return e},proto.IMNut.NatsMsg.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.NatsMsg.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.NatsMsg.serializeBinaryToWriter=function(e,t){var a=void 0;0!==(a=e.getOperation())&&t.writeEnum(1,a),(a=e.getBlob_asU8()).length>0&&t.writeBytes(2,a)},proto.IMNut.NatsMsg.prototype.getOperation=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.IMNut.NatsMsg.prototype.setOperation=function(e){n.Message.setProto3EnumField(this,1,e)},proto.IMNut.NatsMsg.prototype.getBlob=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.NatsMsg.prototype.getBlob_asB64=function(){return n.Message.bytesAsB64(this.getBlob())},proto.IMNut.NatsMsg.prototype.getBlob_asU8=function(){return n.Message.bytesAsU8(this.getBlob())},proto.IMNut.NatsMsg.prototype.setBlob=function(e){n.Message.setProto3BytesField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.IMAck.prototype.toObject=function(e){return proto.IMNut.IMAck.toObject(e,this)},proto.IMNut.IMAck.toObject=function(e,t){var a={operation:n.Message.getFieldWithDefault(t,1,0),blob:t.getBlob_asB64()};return e&&(a.$jspbMessageInstance=t),a}),proto.IMNut.IMAck.deserializeBinary=function(e){var t=new n.BinaryReader(e),a=new proto.IMNut.IMAck;return proto.IMNut.IMAck.deserializeBinaryFromReader(a,t)},proto.IMNut.IMAck.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readEnum();e.setOperation(a);break;case 2:a=t.readBytes();e.setBlob(a);break;default:t.skipField()}}return e},proto.IMNut.IMAck.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.IMAck.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.IMAck.serializeBinaryToWriter=function(e,t){var a=void 0;0!==(a=e.getOperation())&&t.writeEnum(1,a),(a=e.getBlob_asU8()).length>0&&t.writeBytes(2,a)},proto.IMNut.IMAck.prototype.getOperation=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.IMNut.IMAck.prototype.setOperation=function(e){n.Message.setProto3EnumField(this,1,e)},proto.IMNut.IMAck.prototype.getBlob=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.IMAck.prototype.getBlob_asB64=function(){return n.Message.bytesAsB64(this.getBlob())},proto.IMNut.IMAck.prototype.getBlob_asU8=function(){return n.Message.bytesAsU8(this.getBlob())},proto.IMNut.IMAck.prototype.setBlob=function(e){n.Message.setProto3BytesField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.IMRequest.prototype.toObject=function(e){return proto.IMNut.IMRequest.toObject(e,this)},proto.IMNut.IMRequest.toObject=function(e,t){var a,o={operation:n.Message.getFieldWithDefault(t,1,0),cid:n.Message.getFieldWithDefault(t,2,""),conversation:(a=t.getConversation())&&i.Conversation.toObject(e,a),msg:(a=t.getMsg())&&s.Msg.toObject(e,a),blob:t.getBlob_asB64(),ts:n.Message.getFieldWithDefault(t,10,0)};return e&&(o.$jspbMessageInstance=t),o}),proto.IMNut.IMRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),a=new proto.IMNut.IMRequest;return proto.IMNut.IMRequest.deserializeBinaryFromReader(a,t)},proto.IMNut.IMRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readEnum();e.setOperation(a);break;case 2:a=t.readString();e.setCid(a);break;case 3:a=new i.Conversation;t.readMessage(a,i.Conversation.deserializeBinaryFromReader),e.setConversation(a);break;case 4:a=new s.Msg;t.readMessage(a,s.Msg.deserializeBinaryFromReader),e.setMsg(a);break;case 5:a=t.readBytes();e.setBlob(a);break;case 10:a=t.readInt64();e.setTs(a);break;default:t.skipField()}}return e},proto.IMNut.IMRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.IMRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.IMRequest.serializeBinaryToWriter=function(e,t){var a=void 0;0!==(a=e.getOperation())&&t.writeEnum(1,a),(a=e.getCid()).length>0&&t.writeString(2,a),null!=(a=e.getConversation())&&t.writeMessage(3,a,i.Conversation.serializeBinaryToWriter),null!=(a=e.getMsg())&&t.writeMessage(4,a,s.Msg.serializeBinaryToWriter),(a=e.getBlob_asU8()).length>0&&t.writeBytes(5,a),0!==(a=e.getTs())&&t.writeInt64(10,a)},proto.IMNut.IMRequest.prototype.getOperation=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.IMNut.IMRequest.prototype.setOperation=function(e){n.Message.setProto3EnumField(this,1,e)},proto.IMNut.IMRequest.prototype.getCid=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.IMRequest.prototype.setCid=function(e){n.Message.setProto3StringField(this,2,e)},proto.IMNut.IMRequest.prototype.getConversation=function(){return n.Message.getWrapperField(this,i.Conversation,3)},proto.IMNut.IMRequest.prototype.setConversation=function(e){n.Message.setWrapperField(this,3,e)},proto.IMNut.IMRequest.prototype.clearConversation=function(){this.setConversation(void 0)},proto.IMNut.IMRequest.prototype.hasConversation=function(){return null!=n.Message.getField(this,3)},proto.IMNut.IMRequest.prototype.getMsg=function(){return n.Message.getWrapperField(this,s.Msg,4)},proto.IMNut.IMRequest.prototype.setMsg=function(e){n.Message.setWrapperField(this,4,e)},proto.IMNut.IMRequest.prototype.clearMsg=function(){this.setMsg(void 0)},proto.IMNut.IMRequest.prototype.hasMsg=function(){return null!=n.Message.getField(this,4)},proto.IMNut.IMRequest.prototype.getBlob=function(){return n.Message.getFieldWithDefault(this,5,"")},proto.IMNut.IMRequest.prototype.getBlob_asB64=function(){return n.Message.bytesAsB64(this.getBlob())},proto.IMNut.IMRequest.prototype.getBlob_asU8=function(){return n.Message.bytesAsU8(this.getBlob())},proto.IMNut.IMRequest.prototype.setBlob=function(e){n.Message.setProto3BytesField(this,5,e)},proto.IMNut.IMRequest.prototype.getTs=function(){return n.Message.getFieldWithDefault(this,10,0)},proto.IMNut.IMRequest.prototype.setTs=function(e){n.Message.setProto3IntField(this,10,e)},n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.IMResponse.prototype.toObject=function(e){return proto.IMNut.IMResponse.toObject(e,this)},proto.IMNut.IMResponse.toObject=function(e,t){var a={operation:n.Message.getFieldWithDefault(t,1,0),cid:n.Message.getFieldWithDefault(t,2,""),blob:t.getBlob_asB64(),ts:n.Message.getFieldWithDefault(t,10,0)};return e&&(a.$jspbMessageInstance=t),a}),proto.IMNut.IMResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),a=new proto.IMNut.IMResponse;return proto.IMNut.IMResponse.deserializeBinaryFromReader(a,t)},proto.IMNut.IMResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readEnum();e.setOperation(a);break;case 2:a=t.readString();e.setCid(a);break;case 3:a=t.readBytes();e.setBlob(a);break;case 10:a=t.readInt64();e.setTs(a);break;default:t.skipField()}}return e},proto.IMNut.IMResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.IMResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.IMResponse.serializeBinaryToWriter=function(e,t){var a=void 0;0!==(a=e.getOperation())&&t.writeEnum(1,a),(a=e.getCid()).length>0&&t.writeString(2,a),(a=e.getBlob_asU8()).length>0&&t.writeBytes(3,a),0!==(a=e.getTs())&&t.writeInt64(10,a)},proto.IMNut.IMResponse.prototype.getOperation=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.IMNut.IMResponse.prototype.setOperation=function(e){n.Message.setProto3EnumField(this,1,e)},proto.IMNut.IMResponse.prototype.getCid=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.IMResponse.prototype.setCid=function(e){n.Message.setProto3StringField(this,2,e)},proto.IMNut.IMResponse.prototype.getBlob=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.IMNut.IMResponse.prototype.getBlob_asB64=function(){return n.Message.bytesAsB64(this.getBlob())},proto.IMNut.IMResponse.prototype.getBlob_asU8=function(){return n.Message.bytesAsU8(this.getBlob())},proto.IMNut.IMResponse.prototype.setBlob=function(e){n.Message.setProto3BytesField(this,3,e)},proto.IMNut.IMResponse.prototype.getTs=function(){return n.Message.getFieldWithDefault(this,10,0)},proto.IMNut.IMResponse.prototype.setTs=function(e){n.Message.setProto3IntField(this,10,e)},n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.OpResult.prototype.toObject=function(e){return proto.IMNut.OpResult.toObject(e,this)},proto.IMNut.OpResult.toObject=function(e,t){var a={code:n.Message.getFieldWithDefault(t,1,0),msg:n.Message.getFieldWithDefault(t,2,""),blob:t.getBlob_asB64()};return e&&(a.$jspbMessageInstance=t),a}),proto.IMNut.OpResult.deserializeBinary=function(e){var t=new n.BinaryReader(e),a=new proto.IMNut.OpResult;return proto.IMNut.OpResult.deserializeBinaryFromReader(a,t)},proto.IMNut.OpResult.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readEnum();e.setCode(a);break;case 2:a=t.readString();e.setMsg(a);break;case 3:a=t.readBytes();e.setBlob(a);break;default:t.skipField()}}return e},proto.IMNut.OpResult.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.OpResult.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.OpResult.serializeBinaryToWriter=function(e,t){var a=void 0;0!==(a=e.getCode())&&t.writeEnum(1,a),(a=e.getMsg()).length>0&&t.writeString(2,a),(a=e.getBlob_asU8()).length>0&&t.writeBytes(3,a)},proto.IMNut.OpResult.prototype.getCode=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.IMNut.OpResult.prototype.setCode=function(e){n.Message.setProto3EnumField(this,1,e)},proto.IMNut.OpResult.prototype.getMsg=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.OpResult.prototype.setMsg=function(e){n.Message.setProto3StringField(this,2,e)},proto.IMNut.OpResult.prototype.getBlob=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.IMNut.OpResult.prototype.getBlob_asB64=function(){return n.Message.bytesAsB64(this.getBlob())},proto.IMNut.OpResult.prototype.getBlob_asU8=function(){return n.Message.bytesAsU8(this.getBlob())},proto.IMNut.OpResult.prototype.setBlob=function(e){n.Message.setProto3BytesField(this,3,e)},n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.TgtMsgPush.prototype.toObject=function(e){return proto.IMNut.TgtMsgPush.toObject(e,this)},proto.IMNut.TgtMsgPush.toObject=function(e,t){var a={c:n.Message.getFieldWithDefault(t,1,"")};return e&&(a.$jspbMessageInstance=t),a}),proto.IMNut.TgtMsgPush.deserializeBinary=function(e){var t=new n.BinaryReader(e),a=new proto.IMNut.TgtMsgPush;return proto.IMNut.TgtMsgPush.deserializeBinaryFromReader(a,t)},proto.IMNut.TgtMsgPush.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readString();e.setC(a);break;default:t.skipField()}}return e},proto.IMNut.TgtMsgPush.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.TgtMsgPush.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.TgtMsgPush.serializeBinaryToWriter=function(e,t){var a;(a=e.getC()).length>0&&t.writeString(1,a)},proto.IMNut.TgtMsgPush.prototype.getC=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.IMNut.TgtMsgPush.prototype.setC=function(e){n.Message.setProto3StringField(this,1,e)},n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.TgtPeerState.prototype.toObject=function(e){return proto.IMNut.TgtPeerState.toObject(e,this)},proto.IMNut.TgtPeerState.toObject=function(e,t){var a={cid:n.Message.getFieldWithDefault(t,1,""),login:n.Message.getFieldWithDefault(t,2,!1)};return e&&(a.$jspbMessageInstance=t),a}),proto.IMNut.TgtPeerState.deserializeBinary=function(e){var t=new n.BinaryReader(e),a=new proto.IMNut.TgtPeerState;return proto.IMNut.TgtPeerState.deserializeBinaryFromReader(a,t)},proto.IMNut.TgtPeerState.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readString();e.setCid(a);break;case 2:a=t.readBool();e.setLogin(a);break;default:t.skipField()}}return e},proto.IMNut.TgtPeerState.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.TgtPeerState.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.TgtPeerState.serializeBinaryToWriter=function(e,t){var a=void 0;(a=e.getCid()).length>0&&t.writeString(1,a),(a=e.getLogin())&&t.writeBool(2,a)},proto.IMNut.TgtPeerState.prototype.getCid=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.IMNut.TgtPeerState.prototype.setCid=function(e){n.Message.setProto3StringField(this,1,e)},proto.IMNut.TgtPeerState.prototype.getLogin=function(){return n.Message.getFieldWithDefault(this,2,!1)},proto.IMNut.TgtPeerState.prototype.setLogin=function(e){n.Message.setProto3BooleanField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.MessageQuery.prototype.toObject=function(e){return proto.IMNut.MessageQuery.toObject(e,this)},proto.IMNut.MessageQuery.toObject=function(e,t){var a={direct:n.Message.getFieldWithDefault(t,1,!1),limit:n.Message.getFieldWithDefault(t,2,0)};return e&&(a.$jspbMessageInstance=t),a}),proto.IMNut.MessageQuery.deserializeBinary=function(e){var t=new n.BinaryReader(e),a=new proto.IMNut.MessageQuery;return proto.IMNut.MessageQuery.deserializeBinaryFromReader(a,t)},proto.IMNut.MessageQuery.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readBool();e.setDirect(a);break;case 2:a=t.readInt32();e.setLimit(a);break;default:t.skipField()}}return e},proto.IMNut.MessageQuery.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.MessageQuery.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.MessageQuery.serializeBinaryToWriter=function(e,t){var a=void 0;(a=e.getDirect())&&t.writeBool(1,a),0!==(a=e.getLimit())&&t.writeInt32(2,a)},proto.IMNut.MessageQuery.prototype.getDirect=function(){return n.Message.getFieldWithDefault(this,1,!1)},proto.IMNut.MessageQuery.prototype.setDirect=function(e){n.Message.setProto3BooleanField(this,1,e)},proto.IMNut.MessageQuery.prototype.getLimit=function(){return n.Message.getFieldWithDefault(this,2,0)},proto.IMNut.MessageQuery.prototype.setLimit=function(e){n.Message.setProto3IntField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.TgtGroupMemberAdded.prototype.toObject=function(e){return proto.IMNut.TgtGroupMemberAdded.toObject(e,this)},proto.IMNut.TgtGroupMemberAdded.toObject=function(e,t){var a={convid:n.Message.getFieldWithDefault(t,1,""),invitor:n.Message.getFieldWithDefault(t,2,"")};return e&&(a.$jspbMessageInstance=t),a}),proto.IMNut.TgtGroupMemberAdded.deserializeBinary=function(e){var t=new n.BinaryReader(e),a=new proto.IMNut.TgtGroupMemberAdded;return proto.IMNut.TgtGroupMemberAdded.deserializeBinaryFromReader(a,t)},proto.IMNut.TgtGroupMemberAdded.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readString();e.setConvid(a);break;case 2:a=t.readString();e.setInvitor(a);break;default:t.skipField()}}return e},proto.IMNut.TgtGroupMemberAdded.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.TgtGroupMemberAdded.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.TgtGroupMemberAdded.serializeBinaryToWriter=function(e,t){var a=void 0;(a=e.getConvid()).length>0&&t.writeString(1,a),(a=e.getInvitor()).length>0&&t.writeString(2,a)},proto.IMNut.TgtGroupMemberAdded.prototype.getConvid=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.IMNut.TgtGroupMemberAdded.prototype.setConvid=function(e){n.Message.setProto3StringField(this,1,e)},proto.IMNut.TgtGroupMemberAdded.prototype.getInvitor=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.TgtGroupMemberAdded.prototype.setInvitor=function(e){n.Message.setProto3StringField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.TgtGroupMemberRemoved.prototype.toObject=function(e){return proto.IMNut.TgtGroupMemberRemoved.toObject(e,this)},proto.IMNut.TgtGroupMemberRemoved.toObject=function(e,t){var a={convid:n.Message.getFieldWithDefault(t,1,""),leaver:n.Message.getFieldWithDefault(t,2,""),kicker:n.Message.getFieldWithDefault(t,3,"")};return e&&(a.$jspbMessageInstance=t),a}),proto.IMNut.TgtGroupMemberRemoved.deserializeBinary=function(e){var t=new n.BinaryReader(e),a=new proto.IMNut.TgtGroupMemberRemoved;return proto.IMNut.TgtGroupMemberRemoved.deserializeBinaryFromReader(a,t)},proto.IMNut.TgtGroupMemberRemoved.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readString();e.setConvid(a);break;case 2:a=t.readString();e.setLeaver(a);break;case 3:a=t.readString();e.setKicker(a);break;default:t.skipField()}}return e},proto.IMNut.TgtGroupMemberRemoved.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.TgtGroupMemberRemoved.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.TgtGroupMemberRemoved.serializeBinaryToWriter=function(e,t){var a=void 0;(a=e.getConvid()).length>0&&t.writeString(1,a),(a=e.getLeaver()).length>0&&t.writeString(2,a),(a=e.getKicker()).length>0&&t.writeString(3,a)},proto.IMNut.TgtGroupMemberRemoved.prototype.getConvid=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.IMNut.TgtGroupMemberRemoved.prototype.setConvid=function(e){n.Message.setProto3StringField(this,1,e)},proto.IMNut.TgtGroupMemberRemoved.prototype.getLeaver=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.TgtGroupMemberRemoved.prototype.setLeaver=function(e){n.Message.setProto3StringField(this,2,e)},proto.IMNut.TgtGroupMemberRemoved.prototype.getKicker=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.IMNut.TgtGroupMemberRemoved.prototype.setKicker=function(e){n.Message.setProto3StringField(this,3,e)},proto.IMNut.IMOperation={DEFAULT:0,CLIENTOPEN:1,CLIENTCLOSE:2,CLIENTQUERY:3,CONVERSATIONCREATION:1e3,CONVERSATIONMEMBERADD:1001,CONVERSATIONMEMBERREMOVE:1002,CONVERSATIONQUERY:1003,CONVERSATIONUPDATENAME:1004,CONVERSATIONLEAVE:1005,CONVERSATIONGROUPINFO:1006,CONVERSATIONGROUPJOIN:1007,CONVERSATIONGROUPNICK:1008,CONVERSATIONMEMBERADDED:1100,CONVERSATIONMEMBERREMOVED:1101,CONVERSATIONMESSAGESEND:2e3,CONVERSATIONMESSAGEUPDATE:2001,CONVERSATIONMESSAGEQUERY:2002,CONVERSATIONENTER:2003,CONVERSATIONEXIT:2004,CONVERSATIONMESSAGEREAD:2005,TARGETMESSAGEPUSH:3e3,TARGETMESSAGESEND:3001,TARGETCONVPEERSTATE:3002,TARGETMESSAGEREAD:3003,ACK:4e3,ACKCLIENTOPEN:4001},proto.IMNut.Code={SUCCESS:0,ERRNOPERMISSION:1,ERRFAILED:2},o.object.extend(t,proto.IMNut)},161:function(e,t,a){var n=a(63),o=n,r=Function("return this")();o.exportSymbol("proto.IMNut.AuxiliaryType",null,r),o.exportSymbol("proto.IMNut.GroupInviteType",null,r),o.exportSymbol("proto.IMNut.GroupKickMsg",null,r),o.exportSymbol("proto.IMNut.GroupMsg",null,r),o.exportSymbol("proto.IMNut.RedpacketOpenedMsg",null,r),proto.IMNut.RedpacketOpenedMsg=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.IMNut.RedpacketOpenedMsg,n.Message),o.DEBUG&&!COMPILED&&(proto.IMNut.RedpacketOpenedMsg.displayName="proto.IMNut.RedpacketOpenedMsg"),proto.IMNut.GroupMsg=function(e){n.Message.initialize(this,e,0,-1,proto.IMNut.GroupMsg.repeatedFields_,null)},o.inherits(proto.IMNut.GroupMsg,n.Message),o.DEBUG&&!COMPILED&&(proto.IMNut.GroupMsg.displayName="proto.IMNut.GroupMsg"),proto.IMNut.GroupKickMsg=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.IMNut.GroupKickMsg,n.Message),o.DEBUG&&!COMPILED&&(proto.IMNut.GroupKickMsg.displayName="proto.IMNut.GroupKickMsg"),n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.RedpacketOpenedMsg.prototype.toObject=function(e){return proto.IMNut.RedpacketOpenedMsg.toObject(e,this)},proto.IMNut.RedpacketOpenedMsg.toObject=function(e,t){var a={msgid:n.Message.getFieldWithDefault(t,1,0),rpid:n.Message.getFieldWithDefault(t,2,""),convid:n.Message.getFieldWithDefault(t,3,"")};return e&&(a.$jspbMessageInstance=t),a}),proto.IMNut.RedpacketOpenedMsg.deserializeBinary=function(e){var t=new n.BinaryReader(e),a=new proto.IMNut.RedpacketOpenedMsg;return proto.IMNut.RedpacketOpenedMsg.deserializeBinaryFromReader(a,t)},proto.IMNut.RedpacketOpenedMsg.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readInt64();e.setMsgid(a);break;case 2:a=t.readString();e.setRpid(a);break;case 3:a=t.readString();e.setConvid(a);break;default:t.skipField()}}return e},proto.IMNut.RedpacketOpenedMsg.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.RedpacketOpenedMsg.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.RedpacketOpenedMsg.serializeBinaryToWriter=function(e,t){var a=void 0;0!==(a=e.getMsgid())&&t.writeInt64(1,a),(a=e.getRpid()).length>0&&t.writeString(2,a),(a=e.getConvid()).length>0&&t.writeString(3,a)},proto.IMNut.RedpacketOpenedMsg.prototype.getMsgid=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.IMNut.RedpacketOpenedMsg.prototype.setMsgid=function(e){n.Message.setProto3IntField(this,1,e)},proto.IMNut.RedpacketOpenedMsg.prototype.getRpid=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.RedpacketOpenedMsg.prototype.setRpid=function(e){n.Message.setProto3StringField(this,2,e)},proto.IMNut.RedpacketOpenedMsg.prototype.getConvid=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.IMNut.RedpacketOpenedMsg.prototype.setConvid=function(e){n.Message.setProto3StringField(this,3,e)},proto.IMNut.GroupMsg.repeatedFields_=[1],n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.GroupMsg.prototype.toObject=function(e){return proto.IMNut.GroupMsg.toObject(e,this)},proto.IMNut.GroupMsg.toObject=function(e,t){var a={cidsList:n.Message.getRepeatedField(t,1),invitor:n.Message.getFieldWithDefault(t,2,""),invitetype:n.Message.getFieldWithDefault(t,3,0)};return e&&(a.$jspbMessageInstance=t),a}),proto.IMNut.GroupMsg.deserializeBinary=function(e){var t=new n.BinaryReader(e),a=new proto.IMNut.GroupMsg;return proto.IMNut.GroupMsg.deserializeBinaryFromReader(a,t)},proto.IMNut.GroupMsg.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readString();e.addCids(a);break;case 2:a=t.readString();e.setInvitor(a);break;case 3:a=t.readEnum();e.setInvitetype(a);break;default:t.skipField()}}return e},proto.IMNut.GroupMsg.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.GroupMsg.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.GroupMsg.serializeBinaryToWriter=function(e,t){var a=void 0;(a=e.getCidsList()).length>0&&t.writeRepeatedString(1,a),(a=e.getInvitor()).length>0&&t.writeString(2,a),0!==(a=e.getInvitetype())&&t.writeEnum(3,a)},proto.IMNut.GroupMsg.prototype.getCidsList=function(){return n.Message.getRepeatedField(this,1)},proto.IMNut.GroupMsg.prototype.setCidsList=function(e){n.Message.setField(this,1,e||[])},proto.IMNut.GroupMsg.prototype.addCids=function(e,t){n.Message.addToRepeatedField(this,1,e,t)},proto.IMNut.GroupMsg.prototype.clearCidsList=function(){this.setCidsList([])},proto.IMNut.GroupMsg.prototype.getInvitor=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.GroupMsg.prototype.setInvitor=function(e){n.Message.setProto3StringField(this,2,e)},proto.IMNut.GroupMsg.prototype.getInvitetype=function(){return n.Message.getFieldWithDefault(this,3,0)},proto.IMNut.GroupMsg.prototype.setInvitetype=function(e){n.Message.setProto3EnumField(this,3,e)},n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.GroupKickMsg.prototype.toObject=function(e){return proto.IMNut.GroupKickMsg.toObject(e,this)},proto.IMNut.GroupKickMsg.toObject=function(e,t){var a={kicker:n.Message.getFieldWithDefault(t,1,""),cid:n.Message.getFieldWithDefault(t,2,"")};return e&&(a.$jspbMessageInstance=t),a}),proto.IMNut.GroupKickMsg.deserializeBinary=function(e){var t=new n.BinaryReader(e),a=new proto.IMNut.GroupKickMsg;return proto.IMNut.GroupKickMsg.deserializeBinaryFromReader(a,t)},proto.IMNut.GroupKickMsg.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readString();e.setKicker(a);break;case 2:a=t.readString();e.setCid(a);break;default:t.skipField()}}return e},proto.IMNut.GroupKickMsg.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.GroupKickMsg.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.GroupKickMsg.serializeBinaryToWriter=function(e,t){var a=void 0;(a=e.getKicker()).length>0&&t.writeString(1,a),(a=e.getCid()).length>0&&t.writeString(2,a)},proto.IMNut.GroupKickMsg.prototype.getKicker=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.IMNut.GroupKickMsg.prototype.setKicker=function(e){n.Message.setProto3StringField(this,1,e)},proto.IMNut.GroupKickMsg.prototype.getCid=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.GroupKickMsg.prototype.setCid=function(e){n.Message.setProto3StringField(this,2,e)},proto.IMNut.AuxiliaryType={REDPACKETOPENED:0,GROUP:1,GROUPKICK:2},proto.IMNut.GroupInviteType={INVITOR:0,INVITEE:1},o.object.extend(t,proto.IMNut)},162:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},203:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},225:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(15),s=a.n(r),i=(a(135),a(23)),u=a(3),c=a(2),l=a(4),p=a(5),d=a(6),g=(a(136),a(12)),h=a.n(g),M=a(7),f=a.n(M),I=a(11),m=(a(138),a(27)),v=a(19),y=a(47),C=a.n(y),b=a(156),N=a(80),E=a(55),k=new(function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(l.a)(this,Object(p.a)(t).call(this))).state={cid:null,messages:[]},e.init=function(t){console.log("IMController init"),e.ws=new WebSocket("wss://imweb.bapi.app/chat"),e.state.cid=t,e.ws.binaryType="arraybuffer",e.ws.onopen=function(){console.log("onopen"),e.emit("update",{"@type":"imState"}),e.login()},e.ws.onmessage=function(t){console.log(t);var a=new Uint8Array(t.data),n=b.IMResponse.deserializeBinary(a);console.log(n),e.handleMessage(n)},e.ws.onclose=function(){console.log("disconnected",Date.now()),e.emit("update",{"@type":"imState"})},e.ws.onerror=function(e){}},e.ackResponse=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new b.IMRequest;n.setCid(e.state.cid),n.setOperation(t),n.setTs(a),e.send(n)},e.update=function(t){e.disableLog||console.log("update",t),e.emit("update",t)},e.clientUpdate=function(t){e.disableLog||console.log("clientUpdate",t),e.emit("clientUpdate",t)},e.send=function(t){var a=t.serializeBinary();console.log(t,a),e.ws.send(a)},e.setChatId=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n={"@type":"clientUpdateChatId",chatId:t,messageId:a};e.clientUpdate(n)},e.userSet=new Set,e.downloadSet=new Set,e.parameters={},e.disablelog=!0,e.localStorage=!1,e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleMessage",value:function(e){this.state.cid;switch(e.getOperation()){case b.IMOperation.CLIENTOPEN:this.ackResponse(b.IMOperation.ACKCLIENTOPEN),this.queryConvs();break;case b.IMOperation.CONVERSATIONQUERY:var t=N.ConversationList.deserializeBinary(e.getBlob());this.emit("update",{"@type":"queryConv",convs:t.getConvsList()});break;case b.IMOperation.TARGETMESSAGESEND:var a=E.Msg.deserializeBinary(e.getBlob());console.log("ackResponse",e.getTs()),this.ackResponse(b.IMOperation.ACK,e.getTs()),this.emit("update",{"@type":"tgtMsgSend",msg:a});break;case b.IMOperation.CONVERSATIONMESSAGESEND:var n=E.MsgAck.deserializeBinary(e.getBlob());this.emit("update",{"@type":"msgAck",msgAck:n});break;case b.IMOperation.CONVERSATIONMESSAGEREAD:var o=E.MsgRead.deserializeBinary(e.getBlob());this.emit("update",{"@type":"msgRead",msgRead:o});break;case b.IMOperation.TARGETMESSAGEREAD:var r=E.MsgRead.deserializeBinary(e.getBlob());this.emit("update",{"@type":"msgHasRead",msgRead:r});break;case b.IMOperation.CONVERSATIONGROUPINFO:var s=E.Conversation.deserializeBinary(e.getBlob());console.log("CONVERSATIONGROUPINFO, ",s),this.emit("update",{"@type":"groupInfo",conv:s})}}},{key:"getImState",value:function(){return!this.ws&&this.ws.readyState===this.ws.OPEN}},{key:"readMessage",value:function(e,t){if(t){var a=new E.MsgRead;a.setCid(t.getCid()),a.setId(t.getId()),a.setConversationid(e);var n=new b.IMRequest;n.setCid(this.state.cid),n.setOperation(b.IMOperation.CONVERSATIONMESSAGEREAD),n.setBlob(a.serializeBinary()),this.send(n)}else console.log("readMessage error: ",e)}},{key:"login",value:function(){var e=new b.IMRequest;e.setCid(this.state.cid),e.setOperation(b.IMOperation.CLIENTOPEN),this.send(e)}},{key:"queryConvs",value:function(){console.log("queryConvs");var e=new b.IMRequest;e.setCid(this.state.cid),e.setOperation(b.IMOperation.CONVERSATIONQUERY),e.setTs(Date.now()),this.send(e)}},{key:"sendMsg",value:function(e,t){var a=new b.IMRequest;a.setConversation(t),a.setCid(this.state.cid),a.setOperation(b.IMOperation.CONVERSATIONMESSAGESEND),a.setTs(Date.now()),a.setMsg(e),this.send(a);var n={"@type":"clientSendMessage",msg:e};this.clientUpdate(n)}},{key:"logout",value:function(){this.ws.close(),this.clientUpdate({"@type":"clientLogout"})}},{key:"queryGroup",value:function(e){var t=new b.IMRequest,a=new N.Conversation;a.setId(e),a.setVersion(0),t.setConversation(a),t.setOperation(b.IMOperation.CONVERSATIONGROUPINFO),this.send(t)}},{key:"getUser",value:function(){var e=Object(I.a)(f.a.mark((function e(t,a,n,o){var r,s=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.userSet.has(o)){e.next=2;break}return e.abrupt("return");case 2:this.userSet.add(o),r={uid:t,token:a,openId:n},console.log("IMController: ",(new Error).stack),C.a.post("https://sdk.b.app/api/im/userProfile","cid="+o,{headers:r}).then((function(e){console.log(e),200===e.data.code?s.update({"@type":"updateUser",user:e.data.data}):s.userSet.delete(o)})).catch((function(e){console.log(e),s.userSet.delete(o)}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a,n,o){return e.apply(this,arguments)}}()},{key:"downloadFile",value:function(){var e=Object(I.a)(f.a.mark((function e(t){var a=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.downloadSet.has(t)){e.next=2;break}return e.abrupt("return");case 2:this.downloadSet.add(t),C.a.get(t).then((function(e){console.log("IMController downloadFile",e.data),a.update({"@type":"downloadFile",url:t,file:e.data})})).catch((function(e){console.log("IMController downloadFile",e)}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}(v.EventEmitter));window.im=k;var O=k,A=a(74),w=(a(121),new(function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(l.a)(this,Object(p.a)(t).call(this))).reset=function(){e.items=new Map,e.fullInfoItems=new Map},e.onUpdate=function(t){switch(t["@type"]){case"updateUser":var a=t.user;e.set(a),K.saveUser(a.cid,a),e.emit(t["@type"],t)}},e.onClientUpdate=function(e){},e.reset(),e.addIMListener(),e.setMaxListeners(1/0),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"addIMListener",value:function(){O.addListener("update",this.onUpdate),O.addListener("clientUpdate",this.onClientUpdate)}},{key:"get",value:function(e){return this.items.get(e)}},{key:"set",value:function(e){this.items.set(e.cid,e)}}]),t}(v.EventEmitter)));window.user=w;var B=w,S=Object.freeze({STATE_IDLE:"authorizationStateIdle",STATE_WAIT:"authorizationStateWait",STATE_FAILED:"authorizationStateFailed",STATE_LOGIN:"authorizationStateLogin",STATE_LOGOUT:"authorizationStateLogout"}),R=new(function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(l.a)(this,Object(p.a)(t).call(this))).onUpdate=function(t){switch(t["@type"]){case"updateAuthState":var a=t.data;e.current=a,console.log("authorization_state: ",a),e.save(a);var n=a.uid,o={cid:n,uid:n,avatar:a.avatar,nick:a.nick};B.set(o),K.saveUser(o.cid,o),e.emit(t["@type"],t)}},e.onClientUpdate=function(t){switch(t["@type"]){case"clientLogout":e.reset(),e.clear(),e.emit(t["@type"],t)}},e.reset=function(){e.current=null},e.reset(),e.load(),e.addIMListener(),e.setMaxListeners(1/0),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"addIMListener",value:function(){O.addListener("update",this.onUpdate),O.addListener("clientUpdate",this.onClientUpdate)}},{key:"load",value:function(){try{var e=localStorage.getItem("auth");this.current=e?JSON.parse(e):null}catch(t){}}},{key:"save",value:function(e){e?localStorage.setItem("auth",JSON.stringify(e)):localStorage.removeItem("auth")}},{key:"clear",value:function(){this.save()}}]),t}(v.EventEmitter));window.authorization=R;var T=R;function U(e,t){if(!e)return null;if(0===e.length)return null;if(0===t)return null;for(var a=e[0].width>=e[0].height,n=Math.abs(t-(a?e[0].width:e[0].height)),o=0,r=1;r<e.length;r++)if("i"!==e[r].type||e[r].photo.local.is_downloading_completed){var s=Math.abs(t-(a?e[r].width:e[r].height));s<n&&(o=r,s=n)}return e[o]}function F(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e?!a&&e.width<t&&e.height<t?e:e.width>e.height?{width:t,height:Math.floor(e.height*t/e.width)}:{width:Math.floor(e.width*t/e.height),height:t}:{width:0,height:0}}function j(e){return console.log("isAuthorizationReady",e),!!e&&e===S.STATE_LOGIN}var L=a(18),D=a(55),x=a(80),W=new(function(){function e(){var t=this;Object(u.a)(this,e),this.onWorkerMessage=function(e){var a=e.data;if(a){var n=a.handlerKey,o=a.cache,r=t.handlers.get(n);if(r){var s=r.command,i=r.resolve;r.reject;switch(s){case"save":i();break;case"load":i(o)}}}},this.handlers=new Map,this.messageM=new Map,this.userStore=new L.a("user"),this.chatStore=new L.a("chat"),this.fileStore=new L.a("file")}return Object(c.a)(e,[{key:"load",value:function(){var e=Object(I.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O.localStorage){e.next=8;break}if(a=localStorage.getItem(t)){e.next=4;break}return e.abrupt("return",null);case 4:return n=JSON.parse(a),e.abrupt("return",n);case 8:return e.next=10,Object(L.d)(t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadChats",value:function(){var e=Object(I.a)(f.a.mark((function e(){var t,a,n,o,r,s,u,c,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Map,e.next=3,Object(L.e)(this.chatStore);case 3:a=e.sent,n=!0,o=!1,r=void 0,e.prev=7,s=a[Symbol.iterator]();case 9:if(n=(u=s.next()).done){e.next=19;break}return c=u.value,e.next=13,Object(L.d)(c,this.chatStore);case 13:(l=e.sent)&&l.conv&&(l=Object(i.a)({},l,{conv:x.Conversation.deserializeBinary(l.conv)})).last_msg&&(l=Object(i.a)({},l,{last_msg:D.Msg.deserializeBinary(l.last_msg)})),t.set(c,l);case 16:n=!0,e.next=9;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(7),o=!0,r=e.t0;case 25:e.prev=25,e.prev=26,n||null==s.return||s.return();case 28:if(e.prev=28,!o){e.next=31;break}throw r;case 31:return e.finish(28);case 32:return e.finish(25);case 33:return e.abrupt("return",t);case 34:case"end":return e.stop()}}),e,this,[[7,21,25,33],[26,,28,32]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadFiles",value:function(){var e=Object(I.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.loadStore(this.fileStore));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadUsers",value:function(){var e=Object(I.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.loadStore(this.userStore));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadStore",value:function(){var e=Object(I.a)(f.a.mark((function e(t){var a,n,o,r,s,i,u,c,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Map,e.next=3,Object(L.e)(t);case 3:n=e.sent,o=!0,r=!1,s=void 0,e.prev=7,i=n[Symbol.iterator]();case 9:if(o=(u=i.next()).done){e.next=18;break}return c=u.value,e.next=13,Object(L.d)(c,t);case 13:l=e.sent,a.set(c,l);case 15:o=!0,e.next=9;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(7),r=!0,s=e.t0;case 24:e.prev=24,e.prev=25,o||null==i.return||i.return();case 27:if(e.prev=27,!r){e.next=30;break}throw s;case 30:return e.finish(27);case 31:return e.finish(24);case 32:return e.abrupt("return",a);case 33:case"end":return e.stop()}}),e,null,[[7,20,24,32],[25,,27,31]])})));return function(t){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=Object(I.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O.localStorage){e.next=4;break}localStorage.setItem(t,JSON.stringify(a)),e.next=6;break;case 4:return e.next=6,Object(L.f)(t,a);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"saveUser",value:function(){var e=Object(I.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(L.f)(t,a,this.userStore);case 1:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"saveChat",value:function(){var e=Object(I.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=Object(i.a)({},a,{conv:a.conv.serializeBinary()})).last_msg&&(a=Object(i.a)({},a,{last_msg:a.last_msg.serializeBinary()})),Object(L.f)(t,a,this.chatStore);case 3:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"saveMessage",value:function(){var e=Object(I.a)(f.a.mark((function e(t,a,n){var o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(o=this.messageM.get(t))||(o=new L.a("conv_"+t),this.messageM.set(t,o)),n=Object(i.a)({},n,{msg:n.msg.serializeBinary()}),Object(L.f)(a,n,o);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"loadMessages",value:function(){var e=Object(I.a)(f.a.mark((function e(t){var a,n,o,r,s,u,c,l,p,d;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("CacheStore loadMessages ids: ",t),(a=this.messageM.get(t))||(a=new L.a("conv_"+t),this.messageM.set(t,a)),n=new Map,e.next=6,Object(L.e)(a);case 6:o=e.sent,r=!0,s=!1,u=void 0,e.prev=10,c=o[Symbol.iterator]();case 12:if(r=(l=c.next()).done){e.next=22;break}return p=l.value,e.next=16,Object(L.d)(p,a);case 16:(d=e.sent)&&d.msg&&(d=Object(i.a)({},d,{msg:D.Msg.deserializeBinary(d.msg)})),n.set(p,d);case 19:r=!0,e.next=12;break;case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(10),s=!0,u=e.t0;case 28:e.prev=28,e.prev=29,r||null==c.return||c.return();case 31:if(e.prev=31,!s){e.next=34;break}throw u;case 34:return e.finish(31);case 35:return e.finish(28);case 36:return e.abrupt("return",n);case 37:case"end":return e.stop()}}),e,this,[[10,24,28,36],[29,,31,35]])})));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(I.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.c)(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clear",value:function(){var e=Object(I.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(L.b)(this.userStore);case 2:return e.next=4,Object(L.b)(this.chatStore);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}()),z=Object.freeze({STATE_NONE:0,STATE_SEND:1,STATE_ACK:2,STATE_RECEIPT:3,STATE_READ:4});var P=new(function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(l.a)(this,Object(p.a)(t).call(this))).reset=function(){e.items=new Map,e.unread=new Map,e.loaded=new Set},e.onUpdate=function(t){switch(t["@type"]){case"tgtMsgSend":var a=t.msg;e.set(a),e.addUnreadMsg(a),e.emit("tgtMsgSend",t);break;case"msgAck":var n=t.msgAck;e.updateLocal(n),e.emit("msgAck",{msgId:n.getId(),chatId:n.getConversationid()});break;case"msgRead":var o=t.msgRead;e.updateRead(o),e.clearUnread(o),e.emit("msgRead",{msgId:o.getId(),chatId:o.getConversationid()});break;case"msgHasRead":var r=t.msgRead;e.updateReadLocal(r),e.emit("msgHasRead",{msgId:r.getId(),chatId:r.getConversationid()})}},e.onClientUpdate=function(t){switch(t["@type"]){case"clientSendMessage":e.setLocal(t.msg),e.emitUpdate(t);break;case"clientUpdateMessagesLoaded":e.emitUpdate(t)}},e.emitUpdate=function(t){e.emit(t["@type"],t)},e.reset(),e.addIMListener(),e.setMaxListeners(1/0),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"addIMListener",value:function(){O.addListener("update",this.onUpdate),O.addListener("clientUpdate",this.onClientUpdate)}},{key:"set",value:function(e){if(e){var t=this.items.get(e.getConversationid());t||(t=new Map,this.items.set(e.getConversationid(),t));var a={state:z.STATE_RECEIPT,msg:e,ts:e.getAckts()/1e6};t.set(e.getId(),a),K.saveMessage(e.getConversationid(),e.getId(),a)}}},{key:"setLocal",value:function(e){if(e){var t=e.getConversationid(),a=this.items.get(t);a||(a=new Map,this.items.set(t,a));var n={state:z.STATE_SEND,msg:e,ts:e.getJetts()};a.set(e.getJetts(),n),K.saveMessage(t,e.getJetts(),n)}}},{key:"updateReadLocal",value:function(e){if(e){var t=[e.getConversationid(),e.getId()],a=t[0],n=t[1],o=this.items.get(a);if(o){console.log("updateReadLocal",a,n);var r=!0,s=!1,u=void 0;try{for(var c,l=o.values()[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var p=c.value;if(p.msg&&p.msg.getId()===n){console.log("updateReadLocal message.msg.getId",p.msg.getId());var d=Object(i.a)({},p,{state:z.STATE_READ});return o.set(p.msg.getJetts(),d),void K.saveMessage(a,p.msg.getJetts(),d)}}}catch(g){s=!0,u=g}finally{try{r||null==l.return||l.return()}finally{if(s)throw u}}}}}},{key:"updateRead",value:function(e){if(e){var t=e.getConversationid(),a=Object(A.a)(t,1)[0],n=this.items.get(a);if(n){var o=e.getId(),r=n.get(o);if(r){r.state=z.STATE_READ;var s=Object(i.a)({},r,{state:z.STATE_READ});n.set(o,s),K.saveMessage(a,o,s)}}}}},{key:"updateLocal",value:function(e){if(e){var t=this.items.get(e.getConversationid());if(t){var a=e.getJetts(),n=t.get(a);if(n){n.msg.setAckts(e.getAckts()),n.msg.setId(e.getId()),n.state=z.STATE_ACK;var o=Object(i.a)({},n,{state:z.STATE_ACK});t.set(e.getJetts(),o),K.saveMessage(n.msg.getConversationid(),a,o),O.update({"@type":"msgAcked",msg:o.msg})}}}}},{key:"get",value:function(e,t){var a=this.items.get(e);if(!a)return null;var n=a.get(t);return n||null}},{key:"addMessages",value:function(e,t){console.log("MessageStore addMessages",e,t);var a=this.items.get(e);a||(a=new Map,this.items.set(e,a)),t.forEach((function(e,t){a.set(t,e)}))}},{key:"getMessages",value:function(e){console.log("MessageStore getMessages",e),this.loaded.has(e)&&this.loaded.add(e);var t=this.items.get(e);return t?Array.from(t.values()).sort((function(e,t){return e.ts>t.ts?1:-1})):[]}},{key:"addUnreadMsg",value:function(e){if(e){var t=[e.getConversationid(),e.getId()],a=t[0],n=t[1];a&&(this.unread.has(a)||this.unread.set(a,new Set),this.unread.get(a).add(n))}}},{key:"clearUnread",value:function(e){if(e){var t=[e.getConversationid(),e.getId()],a=t[0],n=t[1];a&&this.unread.has(a)&&this.unread.get(a).delete(n)}}},{key:"getUnreadByChatId",value:function(e){var t=this.unread.get(e);return t?t.size:0}},{key:"getUnread",value:function(){var e=0;return Object(m.a)(this.unread.values()).forEach((function(t){e+=t.size})),e}}]),t}(v.EventEmitter));window.message=P;var G=P,Q=new(function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(l.a)(this,Object(p.a)(t).call(this))).reset=function(){e.db=null,e.urls=new WeakMap,e.dataUrls=new Map,e.items=new Map},e.onUpdate=function(){var t=Object(I.a)(f.a.mark((function t(a){var n,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=a["@type"],t.next="updateFile"===t.t0?3:"downloadFile"===t.t0?7:9;break;case 3:return e.set(a.file),e.onUpdateFile(a),e.emit(a["@type"],a),t.abrupt("break",10);case 7:n=a.url,o=a.file,e.set(n,o);case 9:return t.abrupt("break",10);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onClientUpdate=function(e){e["@type"]},e.setDataUrl=function(t,a){e.dataUrls.set(t,a)},e.getDataUrl=function(t){return t&&e.dataUrls.has(t)?e.dataUrls.get(t):null},e.getBlobUrl=function(t){if(!t)return null;if(e.urls.has(t))return e.urls.get(t);var a=URL.createObjectURL(t);return e.urls.set(t,a),a},e.reset(),e.addIMListener(),e.setMaxListeners(1/0),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"addIMListener",value:function(){O.addListener("update",this.onUpdate),O.addListener("clientUpdate",this.onClientUpdate)}},{key:"set",value:function(e,t){this.items.set(e,t)}},{key:"get",value:function(e){return this.items.get(e)}}]),t}(v.EventEmitter));window.file=Q;var q=Q,J=new(function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(l.a)(this,Object(p.a)(t).call(this))).reset=function(){e.chatIds=[]},e.onUpdate=function(t){switch(t["@type"]){case"updateAuthorizationState":var a=t.authorization_state;if(!a)break;switch(a["@type"]){case"authorizationStateClosed":e.reset();break;case"authorizationStateLoggingOut":case"authorizationStateWaitCode":case"authorizationStateWaitPhoneNumber":case"authorizationStateWaitPassword":case"authorizationStateWaitRegistration":W.remove("cache"),W.remove("files")}}},e.onClientUpdate=function(t){switch(t["@type"]){case"clientLogout":e.reset(),e.clear()}},e.reset(),e.addIMListener(),e.setMaxListeners(1/0),e.saveChatsInternal=function(e,t,a){var n;return function(){var o=this,r=arguments,s=function(){n=null,a||e.apply(o,r)},i=a&&!n;clearTimeout(n),n=setTimeout(s,t),i&&e.apply(o,r)}}(e.saveChatsInternal,2e3),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"addIMListener",value:function(){O.addListener("update",this.onUpdate),O.addListener("clientUpdate",this.onClientUpdate)}},{key:"loadCache",value:function(){var e=Object(I.a)(f.a.mark((function e(){var t,a,n,o,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=[]).push(W.loadChats().catch((function(e){return null}))),t.push(W.loadUsers().catch((function(e){return null}))),t.push(W.loadFiles().catch((function(e){return null}))),e.next=6,Promise.all(t);case 6:return a=e.sent,n=Object(A.a)(a,3),o=n[0],r=n[1],s=n[2],(o||[]).forEach((function(e,t){Z.set(e)})),(r||[]).forEach((function(e,t){B.set(e)})),(s||[]).forEach((function(e,t){q.setDataUrl(t,e)})),e.abrupt("return",r);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"clear",value:function(){var e=Object(I.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W.clear();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getCache",value:function(e){new Map,new Map;return{chats:e.map((function(e){return Z.get(e)}))}}},{key:"saveUser",value:function(){var e=Object(I.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W.saveUser(t,a);case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"saveChat",value:function(){var e=Object(I.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W.saveChat(t,a);case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"saveChats",value:function(e){this.chatIds=e,this.saveChatsInternal()}},{key:"saveChatsInternal",value:function(){var e=Object(I.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getCache(this.chatIds),e.next=3,W.save("cache",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"saveMessage",value:function(e,t,a){this.saveMessageInternal(e,t,a)}},{key:"saveMessageInternal",value:function(){var e=Object(I.a)(f.a.mark((function e(t,a,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.saveMessage(t,a,n);case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"loadMessages",value:function(){var e=Object(I.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.loadMessages(t);case 2:a=e.sent,console.log("CacheStore loadMessages",t,a),G.addMessages(t,a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),t}(v.EventEmitter));window.cache=J;var K=J,H=new(function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(l.a)(this,Object(p.a)(t).call(this))).reset=function(){e.cacheLoaded=!1,e.cid=null,e.chatId=null,e.dialogChatId=0,e.messageId=0,e.isChatDetailsVisible=!1,e.authorizationState=null},e.onUpdate=function(e){},e.onClientUpdate=function(t){switch(console.log("Appstore",t),t["@type"]){case"clientUpdateCacheLoaded":e.cacheLoaded=!0,e.emit("clientUpdateCacheLoaded");break;case"clientUpdateChatId":var a={"@type":"clientUpdateChatId",nextChatId:t.chatId,nextMessageId:t.messageId,previousChatId:e.chatId,previousMessageId:e.messageId};e.chatId=t.chatId,e.messageId=t.messageId,console.log("AppStore, clientUpdateChatId",a),e.emit("clientUpdateChatId",a);break;case"clientUpdateAuthState":t.auth_state===S.STATE_LOGIN&&(e.cid=t.uid),e.emit(t["@type"],t);break;case"clientLogout":e.reset(),e.emit(t["@type"],t);break;case"imState":e.emit(t["@type"],t)}},e.reset(),e.addIMListener(),e.setMaxListeners(1/0),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"changeChatDetailsVisibility",value:function(e){this.isChatDetailsVisible=e,this.emit("clientUpdateChatDetailsVisibility",e)}},{key:"getChatId",value:function(){return this.chatId}},{key:"getCid",value:function(){return this.cid}},{key:"getMessageId",value:function(){return this.messageId}},{key:"getConnectionState",value:function(){return this.connectionState}},{key:"addIMListener",value:function(){O.addListener("update",this.onUpdate),O.addListener("clientUpdate",this.onClientUpdate)}}]),t}(v.EventEmitter));window.app=H;var V=H,Y=new(function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(l.a)(this,Object(p.a)(t).call(this))).reset=function(){e.items=new Map},e.onUpdate=function(t){switch(console.log("chatstore onUpdate:",t),t["@type"]){case"queryConv":for(var a=t.convs,n=0;n<a.length;n++)e.updateConv(a[n]);e.emitUpdate(t);break;case"tgtMsgSend":case"msgAcked":var o=t.msg,r=o.getAckts()/1e6,s=e.items.get(o.getConversationid());e.assign(s,{last_msg:o,last_ts:r}),t=Object(i.a)({},t,{chatId:o.getConversationid()}),e.emitUpdate(t);break;case"groupInfo":var u=t.conv;e.updateGroup(u),e.emitUpdate(t)}},e.onClientUpdate=function(t){switch(t["@type"]){case"clientUpdateOpenChat":e.emitUpdate(t);break;case"clientLogout":e.reset()}},e.emitUpdate=function(t){e.emit(t["@type"],t)},e.reset(),e.addIMListener(),e.setMaxListeners(1/0),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"set",value:function(e){console.log("ChatStore set",e.id,e),this.items.set(e.id,e)}},{key:"get",value:function(e){return this.items.get(e)}},{key:"assign",value:function(e,t){if(e){var a=Object.assign({},e,t);this.set(a),K.saveChat(a.id,a)}}},{key:"updateConv",value:function(e){var t=this.items.get(e.getId());if(!t){console.log("ChatStore new conv: ",e);var a=0===e.getType()?e.getCidsList().find((function(e){return!(e===O.state.cid)})):e.getMembersList();return t={id:e.getId(),conv:e,type:e.getType(),extra:a,last_ts:0},this.set(t),void(V.cacheLoaded&&K.saveChat(e.getId(),t))}this.assign(t,{conv:e})}},{key:"updateGroup",value:function(e){var t=this.items.get(e.getId());t||t===e||(console.log("ChatStore new conv: ",e),this.assign(t,{conv:e}))}},{key:"addIMListener",value:function(){O.addListener("update",this.onUpdate),O.addListener("clientUpdate",this.onClientUpdate)}},{key:"getSortedItems",value:function(){return Array.from(new Map(Object(m.a)(this.items.entries()).sort((function(e,t){return t[1].last_ts-e[1].last_ts}))).keys())}},{key:"findUserChat",value:function(e){var t=Array.from(this.items.values()).find((function(t){return t.conv&&0===t.conv.getType()&&t.conv.getCidsList().includes(e)}));return console.log("openUser: ",t),t.id}}]),t}(v.EventEmitter));window.chat=Y;var Z=Y;function X(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];console.log("Client openChat"),O.clientUpdate({"@type":"clientUpdateOpenChat",chatId:e,messageId:t,popup:a})}var _=a(32),$=(a(162),a(107)),ee=a.n($),te=a(58),ae=a.n(te);function ne(e){if(!V.cacheLoaded)return null;var t=B.get(e);return console.log("getUser",e,t,B.items),t||(function(e){var t=T.current,a=t.auth_state,n=t.access_token,o=t.uid,r=t.open_id;a!==S.STATE_LOGIN&&console.error("auth_state failed",a),O.getUser(o,n,r,e)}(e),null)}function oe(e){var t=function(e){return null==e||0!==e.getType()?null:O.state.cid?e.getCidsList().find((function(e){return O.state.cid!==e})):null}(e);return t?ne(t):null}var re=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).onUpdateCache=function(e){a.forceUpdate()},a.updateUser=function(e){a.props.extra===e.user.cid&&a.forceUpdate()},a.handleLoad=function(){a.setState({loaded:!0})},a.state={loaded:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var a=this.props.chatId,n=this.state.loaded;return e.chatId!==a||t.loaded!==n}},{key:"componentDidMount",value:function(){B.on("updateUser",this.updateUser),V.on("clientUpdateCacheLoaded",this.onUpdateCache)}},{key:"componentWillUnmount",value:function(){B.off("updateUser",this.updateUser),V.off("clientUpdateCacheLoaded",this.onUpdateCache)}},{key:"render",value:function(){var e=this.props,t=e.chatId,a=e.big,n=this.state.loaded,r=0===Z.get(t).type?this.getSingleCover():this.getGroupCover(),s=r&&n,i="tile_color_".concat(Math.abs(t)%8+1);return o.a.createElement("div",{className:h()("chat-tile",Object(_.a)({},i,!s),{"tile-big":a})},r&&o.a.createElement("img",{className:"tile-photo",src:r,onLoad:this.handleLoad,draggable:!1,alt:""}))}},{key:"getSingleCover",value:function(){var e=this.props.extra,t=V.cacheLoaded?ne(e):null;return t&&t.avatar?t.avatar:ae.a}},{key:"getGroupCover",value:function(){return ee.a}}]),t}(o.a.Component),se=a(17),ie=a(53),ue=a.n(ie),ce=(a(171),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=(e.displaySize,e.chatId),o=e.messageId,r=e.openMedia,s=e.type,i=e.src;G.get(a,o);return n.createElement("div",{className:h()(t,"photo",{"photo-big":"message"===s,pointer:r}),onClick:r},i&&n.createElement("img",{className:h()("photo-image"),draggable:!1,src:i,alt:""}))}}]),t}(n.Component));ce.defaultProps={size:320,thumbnailSize:90,displaySize:420,showProgress:!0};var le=ce,pe=a(55);function de(e,t){if(!e)return null;var a=[];switch(e.getType()){case pe.MsgType.TEXT:a=new TextDecoder("utf-8").decode(e.getBlob());break;case pe.MsgType.REDPACKET:a="[[[\u6536\u5230\u7ea2\u5305]]]"}return a&&a.length>0?[].concat(Object(m.a)(a),[t]):[]}function ge(e){return e?de(e):null}function he(e,t){var a=G.get(e,t);return!!a&&a.state!==z.STATE_READ}function Me(e){var t=Z.get(e);return!!t&&(!!t.type&&0===t.type)}function fe(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];var t=Z.get(e);if(!t||!t.conv)return null;if(1===t.conv.getType())return t.conv.getName()||Ie(t.conv);var a=oe(t.conv);return a?a.nick:null}function Ie(e){var t="";return e.getCidsList().forEach((function(e){var a=ne(e);a&&a.nick&&(t+=a.nick+",")})),t&&t.slice(0,-1)||"\u672a\u547d\u540d"}function me(e){return e&&e.last_ts?function(e){var t=new Date(e.getAckts()/1e6),a=new Date;if(a.setHours(0,0,0,0),t>a)return ue()(t,"H:MM");var n=new Date,o=n.getDay(),r=n.getDate()-o+(0===o?-6:1);return t>new Date(n.setDate(r))?ue()(t,"ddd"):ue()(t,"d.mm.yyyy")}(e.last_msg):null}a(172);var ve=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).onUpdateCache=function(e){a.forceUpdate()},a.onFastUpdatingComplete=function(e){a.forceUpdate()},a.onUpdateChatTitle=function(e){var t=a.props.chatId;e.chat_id===t&&a.forceUpdate()},a.updateUser=function(e){a.props.extra===e.user.cid&&a.forceUpdate()},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var a=this.props,n=a.chatId,o=a.t;return e.chatId!==n||e.t!==o}},{key:"componentDidMount",value:function(){Z.on("clientUpdateFastUpdatingComplete",this.onFastUpdatingComplete),Z.on("updateChatTitle",this.onUpdateChatTitle),B.on("updateUser",this.updateUser),V.on("clientUpdateCacheLoaded",this.onUpdateCache)}},{key:"componentWillUnmount",value:function(){Z.off("clientUpdateFastUpdatingComplete",this.onFastUpdatingComplete),Z.off("updateChatTitle",this.onUpdateChatTitle),B.on("updateUser",this.updateUser),V.off("clientUpdateCacheLoaded",this.onUpdateCache)}},{key:"render",value:function(){var e=this.props,t=e.t,a=fe(e.chatId,e.showSavedMessages,t);return o.a.createElement("div",{className:"dialog-title"},o.a.createElement("span",{className:"dialog-title-span"},a))}}]),t}(o.a.Component);ve.defaultProps={showSavedMessages:!0};var ye=Object(se.a)()(ve),Ce=(a(173),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).onClientUpdateClearHistory=function(e){a.props.chatId===e.chatId&&(a.clearHistory=e.inProgress,a.forceUpdate())},a.onFastUpdatingComplete=function(e){a.forceUpdate()},a.onUpdate=function(e){a.props.chatId===e.chatId&&a.forceUpdate()},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var a=this.props.chatId;return e.chatId!==a}},{key:"componentDidMount",value:function(){Z.on("tgtMsgSend",this.onUpdate),Z.on("updateChatLastMessage",this.onUpdate),Z.on("updateChatReadInbox",this.onUpdate),Z.on("updateChatUnreadMentionCount",this.onUpdate),Z.on("updateMessageMentionRead",this.onUpdate)}},{key:"componentWillUnmount",value:function(){Z.off("tgtMsgSend",this.onUpdate),Z.off("updateChatLastMessage",this.onUpdate),Z.off("updateChatReadInbox",this.onUpdate),Z.off("updateChatUnreadMentionCount",this.onUpdate),Z.off("updateMessageMentionRead",this.onUpdate)}},{key:"render",value:function(){if(this.clearHistory)return null;var e=this.props.chatId,t=Z.get(e);if(!t)return null;if(!t.last_msg)return null;console.log("dialogmeta",t);var a=me(t);return a?o.a.createElement("div",{className:"dialog-meta"},a):null}}]),t}(o.a.Component)),be=(a(174),a(175),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).onUpdate=function(e){a.props.chatId===e.chatId&&a.forceUpdate()},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var a=this.props,n=a.chatId,o=a.t;return e.chatId!==n||e.t!==o}},{key:"componentDidMount",value:function(){Z.on("tgtMsgSend",this.onUpdate),Z.on("msgAcked",this.onUpdate)}},{key:"componentWillUnmount",value:function(){Z.off("tgtMsgSend",this.onUpdate),Z.off("msgAcked",this.onUpdate)}},{key:"render",value:function(){var e=this.props,t=e.chatId,a=e.t,o=Z.get(t),r=function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1],!e)return null;var t=e.last_msg;return t?ge(t):null}(o,a)||"\xa0";Me(t)||function(e){return e?(t=e.last_msg)?t.getCid():null:null;var t}(o);return n.createElement("div",{className:"dialog-content"},r)}}]),t}(n.Component)),Ne=Object(se.a)()(be),Ee=(a(176),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).onNewMessage=function(e){var t=a.props.chatId;e.msg&&e.msg.getConversationid()===t&&a.forceUpdate()},a.onUpdateMessage=function(e){var t=a.props.chatId;e.chatId===t&&a.forceUpdate()},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var a=this.props.chatId;return e.chatId!==a}},{key:"componentDidMount",value:function(){G.on("tgtMsgSend",this.onNewMessage),G.on("msgRead",this.onUpdateMessage)}},{key:"componentWillUnmount",value:function(){G.off("tgtMsgSend",this.onNewMessage),G.off("msgRead",this.onUpdateMessage)}},{key:"render",value:function(){var e=this.props.chatId;if(!Z.get(e))return null;var t=G.getUnreadByChatId(e),a=t>0;return o.a.createElement(o.a.Fragment,null,a&&o.a.createElement("div",{className:"dialog-badge"},o.a.createElement("span",{className:"dialog-badge-text"},t>0?t:"")))}}]),t}(o.a.Component)),ke=a(231),Oe=a(229),Ae=a(249),we=function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).onClientUpdateChatId=function(e){var t=a.props.chatId;t!==e.previousChatId&&t!==e.nextChatId||a.forceUpdate()},a.handleSelect=function(e){0===e.button&&X(a.props.chatId)},a.handleContextMenu=function(e){e&&(e.preventDefault(),e.stopPropagation());var t=a.props.chatId,n=a.state.contextMenu;if(console.log("handleContextMenu: ",t),n)a.setState({contextMenu:!1});else{var o=e.clientX,r=e.clientY;Z.get(t);a.setState({contextMenu:!0,left:o,top:r})}},a.handleCloseContextMenu=function(e){e&&e.stopPropagation(),a.setState({contextMenu:!1})},a.handleViewInfo=function(e){a.handleCloseContextMenu(e),X(a.props.chatId,null,!0)},a.getViewInfoTitle=function(){var e=a.props.chatId,t=Z.get(e);if(t&&t.conv)switch(t.conv.getType()){case 0:return"Single";case 1:return"Group"}},a.dialog=o.a.createRef();var n=Z.get(a.props.chatId);return a.state={chat:n,contextMenu:!1,left:0,top:0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t,a){var n=this.props,o=n.chatId,r=(n.t,n.hidden,n.isLastPinned,this.state.contextMenu);return e.chatId!==o||t.contextMenu!==r}},{key:"componentDidMount",value:function(){V.on("clientUpdateChatId",this.onClientUpdateChatId)}},{key:"componentWillUnmount",value:function(){V.off("clientUpdateChatId",this.onClientUpdateChatId)}},{key:"render",value:function(){var e=this.props.chatId,t=this.state,a=t.contextMenu,n=t.left,r=t.top,s=V.getChatId()===e,i=Z.get(e).extra;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{ref:this.dialog,className:h()(s?"dialog-active":"dialog",{"item-selected":s}),onMouseDown:this.handleSelect,onContextMenu:this.handleContextMenu},o.a.createElement("div",{className:"dialog-wrapper"},o.a.createElement(re,{chatId:e,extra:i}),o.a.createElement("div",{className:"dialog-inner-wrapper"},o.a.createElement("div",{className:"tile-first-row"},o.a.createElement(ye,{chatId:e,extra:i}),o.a.createElement(Ce,{chatId:e})),o.a.createElement("div",{className:"tile-second-row"},o.a.createElement(Ne,{chatId:e}),o.a.createElement(Ee,{chatId:e})))),o.a.createElement(ke.a,{open:a,onClose:this.handleCloseContextMenu,anchorReference:"anchorPosition",anchorPosition:{top:r,left:n},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},onMouseDown:function(e){return e.stopPropagation()}},o.a.createElement(Oe.a,{classes:{root:"menu-list"},onClick:function(e){return e.stopPropagation()}},o.a.createElement(Ae.a,{onClick:this.handleViewInfo},this.getViewInfoTitle())))))}}]),t}(o.a.Component),Be=(a(180),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).handleScroll=function(){var e=a.listRef.current;e&&e.scrollTop+e.offsetHeight>=e.scrollHeight-200&&a.onLoadNext()},a.onQueryConv=function(e){var t=Z.getSortedItems();a.setState({chats:t},(function(){return a.onLoadNext(!0)}))},a.updateOrder=function(e){var t=Z.getSortedItems();a.setState({chats:t},(function(){return a.onLoadNext(!0)}))},a.listRef=o.a.createRef(),a.state={chats:null,fistSliceLoaded:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){Z.on("queryConv",this.onQueryConv),Z.on("tgtMsgSend",this.updateOrder),Z.on("msgAcked",this.updateOrder)}},{key:"componentWillUnmount",value:function(){Z.off("queryConv",this.onQueryConv),Z.on("tgtMsgSend",this.updateOrder),Z.on("msgAcked",this.updateOrder)}},{key:"getSnapshotBeforeUpdate",value:function(e,t){var a=this.listRef.current;return a?{scrollTop:a.scrollTop}:{scrollTop:0}}},{key:"componentDidUpdate",value:function(e,t,a){var n=this.listRef.current;if(n){var o=a.scrollTop;n.scrollTop=o}}},{key:"scrollToTop",value:function(){this.listRef.current.scrollTop=0}},{key:"render",value:function(){var e=this.state.chats,t=null;return e&&(t=e.map((function(e){return o.a.createElement(we,{key:e,chatId:e})}))),o.a.createElement("div",{ref:this.listRef,className:"dialogs-list",onScroll:this.handleScroll},t)}},{key:"onLoadNext",value:function(e){}}]),t}(o.a.Component)),Se=(a(181),a(37)),Re=a(251),Te=a(113),Ue=a.n(Te),Fe=a(250),je=a(42),Le=a.n(je),De=a(35),xe={vertical:"bottom",horizontal:"left"},We=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).onUpdateAuthorizationState=function(e){a.setState({authorizationState:e.auth_state})},a.handleMenuOpen=function(e){j(T.current.auth_state)&&(console.log("setState ",e.currentTarget),a.setState({anchorEl:e.currentTarget}))},a.handleMenuClose=function(){a.setState({anchorEl:null})},a.handleLogOut=function(){a.handleMenuClose(),a.props.onLogOut()},a.setRef=function(e){console.log(Object(Se.a)(a))},a.state={authorizationState:T.current,anchorEl:null},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){T.on("updateAuthorizationState",this.onUpdateAuthorizationState)}},{key:"componentWillUnmount",value:function(){T.off("updateAuthorizationState",this.onUpdateAuthorizationState)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.t,n=this.state.anchorEl,r=j(T.current.auth_state)?o.a.createElement(o.a.Fragment,null,o.a.createElement(Fe.a,{id:"main-menu",anchorEl:n,open:Boolean(n),onClose:this.handleMenuClose,getContentAnchorEl:null,disableAutoFocusItem:!0,disableRestoreFocus:!0,anchorOrigin:xe},o.a.createElement(Ae.a,{onClick:this.handleLogOut},a("LogOut")))):null;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Re.a,{"aria-owns":n?"simple-menu":null,"aria-haspopup":"true",className:t.menuIconButton,"aria-label":"Menu",onClick:this.handleMenuOpen},o.a.createElement(Ue.a,null)),r)}}]),t}(o.a.Component),ze=Object(De.a)(Object(se.a)(),Le()({menuIconButton:{margin:"8px -2px 8px 12px"},searchIconButton:{margin:"8px 12px 8px 0"}},{withTheme:!0}))(We),Pe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).handleLogOut=function(){a.setState({open:!0}),O.logout()},a.state={open:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.onClick,t=T.current?T.current.nick:"IMNut";return o.a.createElement("div",{className:"header-master"},o.a.createElement(o.a.Fragment,null,o.a.createElement(ze,{onLogOut:this.handleLogOut})),o.a.createElement("div",{className:"header-status grow cursor-pointer",onClick:e},o.a.createElement("span",{className:"header-status-content"},t)))}}]),t}(o.a.Component),Ge=function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).onClientUpdateChatDetailsVisibility=function(e){var t=V.isChatDetailsVisible;a.setState({isChatDetailsVisible:t})},a.handleHeaderClick=function(){a.dialogListRef.current.scrollToTop()};var n=V.isChatDetailsVisible;return a.dialogsHeaderRef=o.a.createRef(),a.dialogListRef=o.a.createRef(),a.state={isChatDetailsVisible:n},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t,a){var n=this.state.isChatDetailsVisible;if(t.isChatDetailsVisible!==n)return!0}},{key:"componentDidMount",value:function(){this.loadCache(),V.on("clientUpdateChatDetailsVisibility",this.onClientUpdateChatDetailsVisibility)}},{key:"componentWillUnmount",value:function(){V.off("clientUpdateChatDetailsVisibility",this.onClientUpdateChatDetailsVisibility)}},{key:"loadCache",value:function(){var e=Object(I.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.loadCache();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:t=e.t0,this.setState({cache:t}),O.clientUpdate({"@type":"clientUpdateCacheLoaded"});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.isChatDetailsVisible;return o.a.createElement("div",{className:h()("dialogs",{"dialogs-third-column":e})},o.a.createElement(Pe,{ref:this.dialogsHeaderRef,onClick:this.handleHeaderClick}),o.a.createElement("div",{className:"dialogs-content"},o.a.createElement(Be,{ref:this.dialogListRef})))}}]),t}(o.a.Component),Qe=(a(203),function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.date;e.i18n;return o.a.createElement("div",{className:"day-meta"},o.a.createElement("div",{className:"day-meta-wrapper"},o.a.createElement("div",null,new Date(1e3*t).toLocaleDateString("zh-cn",{day:"numeric",month:"long"}))))}}]),t}(o.a.Component)),qe=Object(se.a)()(Qe),Je=(a(204),a(115)),Ke=a.n(Je),He=(a(205),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).onUpdateCache=function(e){a.forceUpdate()},a.onClientUpdateUserBlob=function(e){a.props.userId===e.userId&&(a.state.loaded?a.setState({loaded:!1}):a.forceUpdate())},a.onClientUpdateChatBlob=function(e){var t=a.props.userId,n=e.chatId,o=Z.get(n);if(o&&o.type)switch(o.type["@type"]){case"chatTypeBasicGroup":case"chatTypeSupergroup":return;case"chatTypePrivate":case"chatTypeSecret":if(o.type.user_id!==t)return;a.state.loaded?a.setState({loaded:!1}):a.forceUpdate()}},a.onUpdateChatPhoto=function(e){var t=e.chat_id,a=Z.get(t);a&&a.type},a.onUpdateChatTitle=function(e){var t=a.props.userId,n=Z.get(e.chat_id);if(n&&n.type)switch(n.type["@type"]){case"chatTypeBasicGroup":case"chatTypeSupergroup":return;case"chatTypePrivate":case"chatTypeSecret":if(n.type.user_id!==t&&!n.photo)return;a.forceUpdate()}},a.handleSelect=function(e){var t=a.props,n=t.userId,o=t.onSelect;o&&(e.stopPropagation(),o(n))},a.handleLoad=function(){a.setState({loaded:!0})},a.state={loaded:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.userId!==this.props.userId||t.loaded!==this.state.loaded}},{key:"componentDidMount",value:function(){q.on("clientUpdateUserBlob",this.onClientUpdateUserBlob),q.on("clientUpdateChatBlob",this.onClientUpdateChatBlob),Z.on("updateChatPhoto",this.onUpdateChatPhoto),Z.on("updateChatTitle",this.onUpdateChatTitle),V.on("clientUpdateCacheLoaded",this.onUpdateCache)}},{key:"componentWillUnmount",value:function(){q.off("clientUpdateUserBlob",this.onClientUpdateUserBlob),q.off("clientUpdateChatBlob",this.onClientUpdateChatBlob),Z.off("updateChatPhoto",this.onUpdateChatPhoto),Z.off("updateChatTitle",this.onUpdateChatTitle),V.off("clientUpdateCacheLoaded",this.onUpdateCache)}},{key:"render",value:function(){var e=this.props,t=e.userId,a=e.small,n=this.state.loaded,r=B.get(t),s=r&&r.avatar?r.avatar:ae.a,i=s&&n;return o.a.createElement("div",{className:h()("user-tile",{"tile-small":a}),onClick:this.handleSelect},!i&&o.a.createElement("div",{className:"tile-photo",src:ae.a}),s&&o.a.createElement("img",{className:"tile-photo",src:s,onLoad:this.handleLoad,draggable:!1,alt:""}))}}]),t}(n.Component)),Ve=(a(206),a(114)),Ye=a.n(Ve),Ze=a(24),Xe=(Object(Ze.a)(o.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.a.createElement("g",{transform:"translate(-3.000000, 0.000000)",fill:"#E53935",fillRule:"nonzero"},o.a.createElement("path",{d:"M10,0.4 C13.6450793,0.4 16.6,3.35492065 16.6,7 C16.6,10.6450793 13.6450793,13.6 10,13.6 C6.35492065,13.6 3.4,10.6450793 3.4,7 C3.4,3.35492065 6.35492065,0.4 10,0.4 Z M10,9.25 C9.58578644,9.25 9.25,9.58578644 9.25,10 C9.25,10.4142136 9.58578644,10.75 10,10.75 C10.4142136,10.75 10.75,10.4142136 10.75,10 C10.75,9.58578644 10.4142136,9.25 10,9.25 Z M10,2.85 C9.64101491,2.85 9.35,3.14101491 9.35,3.5 L9.35,7.5 C9.35,7.85898509 9.64101491,8.15 10,8.15 C10.3589851,8.15 10.65,7.85898509 10.65,7.5 L10.65,3.5 C10.65,3.14101491 10.3589851,2.85 10,2.85 Z"}))),"Error"),Object(Ze.a)(o.a.createElement("g",{strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},o.a.createElement("g",{transform:"translate(-3.000000, 0.000000)"},o.a.createElement("circle",{strokeWidth:"1.2",cx:"10",cy:"7",r:"6"}),o.a.createElement("line",{x1:"10",y1:"3.5",x2:"10",y2:"7",strokeWidth:"1.3"}),o.a.createElement("line",{x1:"12",y1:"9",x2:"10",y2:"7",strokeWidth:"1.3"}))),"Pending")),_e=Object(Ze.a)(o.a.createElement("path",{transform:"translate(-4.000000, -2.000000)",d:"M7.96833846,10.0490996 L14.5108251,2.571972 C14.7472185,2.30180819 15.1578642,2.27443181 15.428028,2.51082515 C15.6711754,2.72357915 15.717665,3.07747757 15.5522007,3.34307913 L15.4891749,3.428028 L8.48917485,11.428028 C8.2663359,11.6827011 7.89144111,11.7199091 7.62486888,11.5309823 L7.54038059,11.4596194 L4.54038059,8.45961941 C4.2865398,8.20577862 4.2865398,7.79422138 4.54038059,7.54038059 C4.7688373,7.31192388 5.12504434,7.28907821 5.37905111,7.47184358 L5.45961941,7.54038059 L7.96833846,10.0490996 L14.5108251,2.571972 L7.96833846,10.0490996 Z"}),"Sent"),$e=Object(Ze.a)(o.a.createElement("path",{transform:"translate(-1.000000, -2.000000)",d:"M4.96833846,10.0490996 L11.5108251,2.571972 C11.7472185,2.30180819 12.1578642,2.27443181 12.428028,2.51082515 C12.6711754,2.72357915 12.717665,3.07747757 12.5522007,3.34307913 L12.4891749,3.428028 L5.48917485,11.428028 C5.2663359,11.6827011 4.89144111,11.7199091 4.62486888,11.5309823 L4.54038059,11.4596194 L1.54038059,8.45961941 C1.2865398,8.20577862 1.2865398,7.79422138 1.54038059,7.54038059 C1.7688373,7.31192388 2.12504434,7.28907821 2.37905111,7.47184358 L2.45961941,7.54038059 L4.96833846,10.0490996 L11.5108251,2.571972 L4.96833846,10.0490996 Z M9.96833846,10.0490996 L16.5108251,2.571972 C16.7472185,2.30180819 17.1578642,2.27443181 17.428028,2.51082515 C17.6711754,2.72357915 17.717665,3.07747757 17.5522007,3.34307913 L17.4891749,3.428028 L10.4891749,11.428028 C10.2663359,11.6827011 9.89144111,11.7199091 9.62486888,11.5309823 L9.54038059,11.4596194 L8.54038059,10.4596194 C8.2865398,10.2057786 8.2865398,9.79422138 8.54038059,9.54038059 C8.7688373,9.31192388 9.12504434,9.28907821 9.37905111,9.47184358 L9.45961941,9.54038059 L9.96833846,10.0490996 L16.5108251,2.571972 L9.96833846,10.0490996 Z"}),"Succeeded"),et=(a(207),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={},a.onUpdateMessageSend=function(e){var t=a.props,n=t.chatId,o=t.messageId,r=G.get(n,o),s=e.msgId;n===e.chatId&&r.msg.getId()===s&&(console.log("onUpdateMessageSend",e),a.forceUpdate())},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){G.on("msgAck",this.onUpdateMessageSend),G.on("msgRead",this.onUpdateMessageSend),G.on("msgHasRead",this.onUpdateMessageSend)}},{key:"componentWillUnmount",value:function(){G.off("msgAck",this.onUpdateMessageSend),G.off("msgRead",this.onUpdateMessageSend),G.off("msgHasRead",this.onUpdateMessageSend)}},{key:"render",value:function(){var e=this.props,t=e.chatId,a=e.messageId,n=G.get(t,a);if(!n)return null;switch(console.log("Status: ",n),n.state){case z.STATE_SEND:return o.a.createElement(Xe,{className:"status",viewBox:"0 0 14 14",style:{width:16,height:12,transform:"translate(0, 1px)",stroke:"currentColor"}});case z.STATE_ACK:return o.a.createElement(_e,{className:"status",viewBox:"0 0 12 10",style:{width:16,height:9}});case z.STATE_READ:return o.a.createElement($e,{className:"status",viewBox:"0 0 17 10",style:{width:16,height:9}})}return null}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.chatId,n=e.messageId,o=G.get(a,n),r=o?o.state:null;return a!==t.prevChatId||n!==t.prevMessageId?{prevChatId:a,prevMessageId:n,sendingState:r,unread:he(a,n)}:null}}]),t}(o.a.Component)),tt=(a(208),function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.chatId,n=e.messageId,r=e.date,s=e.editDate,i=e.onDateClick,u=e.t,c=e.views,l=e.style,p=G.get(a,n);if(!p)return null;var d=p.msg.getCid()===V.getCid(),g=function(e){if(!e)return null;var t=new Date(1e3*e);return ue()(t,"H:MM")}(r);return o.a.createElement("div",{className:h()("meta",t),style:l},o.a.createElement("span",null,"\u2002"),c>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Ye.a,{className:"meta-views-icon"}),o.a.createElement("span",{className:"meta-views"},"\xa0",c,"\xa0 \xa0")),s>0&&o.a.createElement("span",null,u("EditedMessage"),"\xa0"),o.a.createElement("a",{onClick:i},o.a.createElement("span",null,g)),d&&o.a.createElement(et,{chatId:a,messageId:n}))}}]),t}(o.a.Component)),at=Object(se.a)()(tt),nt=function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).onClientUpdateClearSelection=function(e){a.state.selected&&a.setState({selected:!1})},a.onClientUpdateMessageHighlighted=function(e){var t=a.props,n=t.chatId,o=t.messageId,r=a.state,s=r.selected,i=r.highlighted;s||(n===e.chatId&&o===e.messageId?i?a.setState({highlighted:!1},(function(){setTimeout((function(){a.setState({highlighted:!0})}),0)})):a.setState({highlighted:!0}):i&&a.setState({highlighted:!1}))},a.onClientUpdateMessageSelected=function(e){var t=a.props,n=t.chatId,o=t.messageId,r=e.selected;n===e.chatId&&o===e.messageId&&a.setState({selected:r,highlighted:!1})},a.onUpdateMessageEdited=function(e){var t=e.chat_id,n=e.message_id,o=a.props,r=o.chatId,s=o.messageId;r===t&&s===n&&a.forceUpdate()},a.onUpdateMessageViews=function(e){var t=e.chat_id,n=e.message_id,o=a.props,r=o.chatId,s=o.messageId;r===t&&s===n&&a.forceUpdate()},a.onUpdateMessageContent=function(e){var t=e.chat_id,n=e.message_id,o=a.props,r=o.chatId,s=o.messageId,i=a.state.emojiMatches;if(r===t&&s===n){!1!==i?a.setState({emojiMatches:!1}):a.forceUpdate()}},a.handleSelectUser=function(e){},a.handleSelectChat=function(e){X(e,null,!0)},a.handleSelection=function(){a.mouseDown},a.handleAnimationEnd=function(){a.setState({highlighted:!1})},a.handleMouseDown=function(){a.mouseDown=!0},a.handleMouseOver=function(){a.mouseDown=!1},a.handleMouseOut=function(){a.mouseOut=!1},a.handleContextMenu=function(){var e=Object(I.a)(f.a.mark((function e(t){var n,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(t.preventDefault(),t.stopPropagation()),a.state.contextMenu?a.setState({contextMenu:!1}):(n=t.clientX,o=t.clientY,a.setState({contextMenu:!0,left:n,top:o}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleCloseContextMenu=function(e){e&&e.stopPropagation(),a.setState({contextMenu:!1})},a.handleSelect=function(e){var t=a.props;t.chatId,t.messageId;a.handleCloseContextMenu(e)},a.openMedia=function(e){e&&(e.preventDefault(),e.stopPropagation());var t=a.props;!function(e,t){G.get(e,t)}(t.chatId,t.messageId)};var n=a.props,o=n.chatId,r=n.messageId;return a.state={message:G.get(o,r),selected:!1,highlighted:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var a=this.props,n=a.theme,o=a.chatId,r=a.messageId,s=a.sendingState,i=a.showUnreadSeparator,u=a.showTail,c=a.showTitle,l=this.state,p=l.contextMenu,d=l.selected,g=l.highlighted,h=l.emojiMatches;return e.theme!==n||(e.chatId!==o||(e.messageId!==r||(e.sendingState!==s||(e.showUnreadSeparator!==i||(e.showTail!==u||(e.showTitle!==c||(t.contextMenu!==p||(t.selected!==d||(t.highlighted!==g||t.emojiMatches!==h)))))))))}},{key:"componentDidMount",value:function(){G.on("clientUpdateMessageHighlighted",this.onClientUpdateMessageHighlighted),G.on("clientUpdateMessageSelected",this.onClientUpdateMessageSelected),G.on("clientUpdateClearSelection",this.onClientUpdateClearSelection),G.on("updateMessageContent",this.onUpdateMessageContent),G.on("updateMessageEdited",this.onUpdateMessageEdited),G.on("updateMessageViews",this.onUpdateMessageViews)}},{key:"componentWillUnmount",value:function(){G.off("clientUpdateMessageHighlighted",this.onClientUpdateMessageHighlighted),G.off("clientUpdateMessageSelected",this.onClientUpdateMessageSelected),G.off("clientUpdateClearSelection",this.onClientUpdateClearSelection),G.off("updateMessageContent",this.onUpdateMessageContent),G.off("updateMessageEdited",this.onUpdateMessageEdited),G.off("updateMessageViews",this.onUpdateMessageViews)}},{key:"getMessageStyle",value:function(e,t){var a=G.get(e,t);if(!a)return null;var n=a.content;if(!n)return null;switch(n["@type"]){case"messageAnimation":var o=n.animation;if(!o)return null;var r=o.width,s=o.height,i=o.thumbnail,u={width:r,height:s}||i;if(!u)return null;var c=F(u,420,!1);return c?{width:c.width}:null;case"messagePhoto":var l=n.photo;if(!l)return null;var p=U(l.sizes,320);if(!p)return null;var d=F(p,420,!1);return d?{width:d.width}:null;case"messageVideo":var g=n.video;if(!g)return null;var h=g.thumbnail,M={width:g.width,height:g.height}||h;if(!M)return null;var f=F(M,420);return f?{width:f.width}:null}return null}},{key:"render",value:function(){var e=this.props,t=(e.t,e.chatId),a=e.messageId,n=(e.showUnreadSeparator,e.showTail),r=(e.showTitle,this.state),s=(r.emojiMatches,r.selected,r.highlighted,r.contextMenu,r.left,r.top,G.get(t,a));if(console.log("Message: ",a,s),!s)return o.a.createElement("div",null,"[empty message]");s.state;var i=s.msg,u=s.msg.getCid(),c=u===V.getCid(),l=i.getAckts()?new Date(i.getAckts()/1e6):i.getJetts()/1e3,p=de(i,o.a.createElement(at,{className:"meta-hidden",chatId:t,messageId:a,date:l})),d=function(e,t,a,n){if(!e)return null;switch(e.getType()){case pe.MsgType.PICTURE:var r=pe.Image.deserializeBinary(e.getBlob());return o.a.createElement(le,{type:"message",chatId:a,messageId:n,src:r.getImgurl(),openMedia:t})}return null}(i,this.openMedia,t,a),g=o.a.createElement(He,{small:!0,userId:u,onSelect:this.handleSelectUser});n&&(g=u?o.a.createElement(He,{small:!0,userId:u,onSelect:this.handleSelectUser}):o.a.createElement(re,{small:!0,chatId:t,onSelect:this.handleSelectChat}));var M=this.getMessageStyle(t,a);return o.a.createElement("div",{className:h()("message",{"message-out":c}),onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onMouseDown:this.handleMouseDown,onClick:this.handleSelection,onAnimationEnd:this.handleAnimationEnd,onContextMenu:this.handleContextMenu},o.a.createElement("div",{className:"message-body"},o.a.createElement("div",{className:"message-padding"},o.a.createElement(Ke.a,{className:"message-select-tick"})),o.a.createElement("div",{className:h()("message-wrapper",{})},g,o.a.createElement("div",{className:h()("message-content",{"message-bubble":!0,"message-bubble-out":c}),style:M},d,o.a.createElement("div",{className:h()("message-text")},p),o.a.createElement(at,{className:h()("meta-text",{"meta-bubble":!1}),chatId:t,messageId:a,date:l})),o.a.createElement("div",{className:"message-tile-padding"})),o.a.createElement("div",{className:"message-padding"})))}}]),t}(n.Component),ot=Object(De.a)(Object(se.a)())(nt),rt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).onNewMessage=function(e){var t=e.msg,n=a.props.chatId;console.log(n,t.getConversationid()),n===t.getConversationid()&&(O.readMessage(n,t),a.setState({history:G.getMessages(n)}),a.scrollToBottom())},a.onLoadCache=function(e){var t=a.props.chatId;a.setState({history:G.getMessages(t)}),a.scrollToBottom()},a.onSendMessage=function(e){var t=a.props.chatId;a.setState({history:G.getMessages(t)}),a.scrollToBottom()},a.onAckMessage=function(e){var t=a.props.chatId;a.setState({history:G.getMessages(t)}),a.scrollToBottom()},a.onReadMessage=function(e){},a.scrollToBottom=function(){var e=a.props,t=(e.chatId,e.messageId,a.listRef.current);t.scrollHeight-t.offsetHeight!==t.scrollTop&&(t.scrollTop=t.scrollHeight-t.offsetHeight)},a.scrollToStart=Object(I.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),a.handleListDragEnter=function(e){e.preventDefault(),e.stopPropagation();a.props.chatId;console.log("handleListDragEnter: ",e)},a.handleScroll=function(){},console.log("MessagesList.ctor chat_id=".concat(e.chatId," message_id=").concat(e.messageId)),a.sessionId=Date.now(),a.state={history:[]},a.listRef=o.a.createRef(),a.itemsRef=o.a.createRef(),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){var n=this.props,o=n.chatId,r=n.messageId;this.state.scrollDownVisible;e.chatId===o&&e.messageId===r||this.handleSelectChat(o,e.chatId,r,e.messageId)}},{key:"componentDidMount",value:function(){G.on("tgtMsgSend",this.onNewMessage),G.on("msgAck",this.onAckMessage),G.on("clientUpdateMessagesLoaded",this.onLoadCache),G.on("msgRead",this.onReadMessage),G.on("clientSendMessage",this.onSendMessage)}},{key:"componentWillUnmount",value:function(){G.off("tgtMsgSend",this.onNewMessage),G.off("msgAck",this.onAckMessage),G.off("clientUpdateMessagesLoaded",this.onLoadCache),G.off("msgRead",this.onReadMessage),G.off("clientSendMessage",this.onSendMessage)}},{key:"shouldComponentUpdate",value:function(e,t,a){var n,o,r=this.props,s=r.chatId,i=(r.messageId,r.theme,this.state),u=(i.playerOpened,i.history);i.dragging,i.clearHistory,i.selectionActive,i.scrollDownVisible;return e.chatId!==s?(console.log("[ml] shouldComponentUpdate chatId"),!0):(n=t.history,o=u,!!(!n&&o||n&&!o||(n||o)&&(0!==n.length||0!==o.length)&&n!==o))}},{key:"handleSelectChat",value:function(){var e=Object(I.a)(f.a.mark((function e(t,a,n,o){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z.get(t),Z.get(a),this.readMessages();case 3:case"end":return e.stop()}}),e,this)})));return function(t,a,n,o){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.chatId,a=G.getMessages(t);return this.messages=a?a.map((function(n,r){var s=r>0?a[r-1].msg:null;r<a.length-1&&a[r+1].msg;console.log("msglist",t,n.msg);var i,u=e.showMessageDate(n.msg,s,0===r),c=(i=n.state)===z.STATE_SEND||i===z.STATE_ACK||i===z.STATE_READ?n.msg.getJetts():n.msg.getId(),l=n.msg.getId()?n.msg.getAckts()/1e9:n.msg.getJetts();console.log("MessagesList render messages:",c,n.msg);var p=null;return n.msg&&(p=o.a.createElement(ot,{key:"chat_id=".concat(n.msg.getConversationid()," message_id=").concat(c),ref:function(t){return e.itemsMap.set(r,t)},chatId:n.msg.getConversationid(),messageId:c,showTitle:!1,showTail:!1,showUnreadSeparator:!1})),o.a.createElement("div",{key:"chat_id=".concat(n.msg.getConversationid()," message_id=").concat(c)},u&&o.a.createElement(qe,{date:l}),p)})):null,o.a.createElement("div",{className:"messages-list",onDragEnter:this.handleListDragEnter},o.a.createElement("div",{ref:this.listRef,className:"messages-list-wrapper",onScroll:this.handleScroll},o.a.createElement("div",{className:"messages-list-top"}),o.a.createElement("div",{ref:this.itemsRef,className:"messages-list-items"},this.messages)))}},{key:"showMessageDate",value:function(e,t,a){if(a)return!0;var n=[e.getAckts(),e.getJetts()],o=n[0],r=n[1],s=o?new Date(o/1e6):new Date(r),i=t?new Date(t.getAckts()?t.getAckts()/1e6:t.getJetts()):s;return(s.getFullYear()!==i.getFullYear()||s.getMonth()!==i.getMonth()||s.getDate()!==i.getDate())&&(console.log("message:",e,"prevMessage",t),!0)}},{key:"readMessages",value:function(){var e=this.props.chatId;G.getMessages(e).forEach((function(t){t.state===z.STATE_RECEIPT&&O.readMessage(e,t.msg)}))}}]),t}(o.a.Component),st=a(116),it=a.n(st),ut=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).handleButtonClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleChatInfo=function(){a.handleMenuClose(),setTimeout((function(){return a.props.openChatDetails()}),150)},a.handleMenuClose=function(){a.setState({anchorEl:null})},a.handleLogOut=function(){a.handleMenuClose(),a.props.onLogOut()},a.state={anchorEl:null},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.anchorEl;return n.createElement(n.Fragment,null,n.createElement(Re.a,{"aria-owns":e?"simple-menu":null,"aria-haspopup":"true",className:"main-menu-button","aria-label":"Menu",onClick:this.handleButtonClick},n.createElement(it.a,null)),n.createElement(Fe.a,{id:"main-menu",anchorEl:e,open:Boolean(e),onClose:this.handleMenuClose,getContentAnchorEl:null,disableAutoFocusItem:!0,disableRestoreFocus:!0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},n.createElement(Ae.a,{onClick:this.handleChatInfo},"ChatInfo")))}}]),t}(n.Component),ct=Object(De.a)(Object(se.a)())(ut),lt=function(e){function t(e){return Object(u.a)(this,t),Object(l.a)(this,Object(p.a)(t).call(this,e))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.chatId,o=e.onClick;return n.createElement("div",{className:h()("header-chat",t),onClick:o},n.createElement("div",{className:"header-chat-content"},n.createElement(ye,{chatId:a})))}}]),t}(n.Component),pt=(a(209),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).openChatDetails=function(){var e=V.getChatId();Z.get(e)&&V.changeChatDetailsVisibility(!0)},a.state={connectionState:V.getConnectionState(),openDeleteDialog:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return t!==this.state}},{key:"render",value:function(){var e=V.getChatId();Z.get(e);return o.a.createElement("div",{className:"header"},o.a.createElement(lt,{className:h()("grow","cursor-pointer"),chatId:e,onClick:this.openChatDetails}),o.a.createElement(ct,{openChatDetails:this.openChatDetails}))}}]),t}(o.a.Component)),dt=(a(210),Object(Ze.a)(o.a.createElement("path",{d:"M2.65383364,2.92607697 L4.145798,9.778632 C4.26700994,10.3353554 4.73555061,10.7489799 5.30300879,10.8002098 L16.196355,11.7836569 C16.3159306,11.7944521 16.4041145,11.9001385 16.3933192,12.0197141 C16.3838746,12.1243302 16.3009783,12.2072294 16.1963626,12.2166777 L5.30295988,13.2005138 C4.73552551,13.2517615 4.26701089,13.6653731 4.14579755,14.2220735 L2.65385781,21.074154 C2.55168485,21.543407 2.84926209,22.0066394 3.31851517,22.1088123 C3.50628037,22.1496954 3.70229947,22.1272304 3.87594675,22.0449272 L23.4110848,12.7858981 C23.8450551,12.5802101 24.0301144,12.0616646 23.8244264,11.6276943 C23.7384721,11.4463438 23.5924353,11.300307 23.4110848,11.2143527 L3.87592461,1.95531307 C3.44195432,1.74962507 2.92340882,1.93468443 2.71772082,2.36865471 C2.63541897,2.54229904 2.61295329,2.73831451 2.65383364,2.92607697 Z"}),"Send")),gt=(a(211),Object(Ze.a)(o.a.createElement("path",{d:"M11.657825,8.68730116 L7.89384699,12.5266719 C6.53977525,13.9078658 6.53979565,16.118605 7.89389288,17.4997739 C9.18119565,18.812813 11.2598788,18.8798255 12.6276396,17.6859428 L12.8071445,17.5177786 L19.3928802,10.8005213 C21.4766204,8.67512215 21.4766204,5.27313659 19.3928802,3.14773741 C17.4051081,1.12022499 14.1862843,1.0310006 12.0906645,2.90336495 L11.834659,3.14773741 L5.26671543,9.84699003 C2.45333216,12.7166196 2.45333216,17.3098454 5.26671543,20.179475 C7.96150749,22.9281424 12.3352577,23.0332941 15.1578204,20.4629606 L15.452067,20.1794113 L19.2160679,16.340063 C19.6027032,15.945688 19.596429,15.3125541 19.202054,14.9259188 C18.8076791,14.5392835 18.1745452,14.5455577 17.7879099,14.9399327 L13.9520378,18.8511531 C11.9281881,20.8353343 8.67903707,20.8031766 6.6948559,18.7793268 C4.64395201,16.6874204 4.64395201,13.3390446 6.6948559,11.2471382 L13.3088798,4.50180526 C14.6072848,3.22884976 16.6917843,3.24948061 17.9647398,4.54788555 C19.2860006,5.89556155 19.2860006,8.05269718 17.9647398,9.40037319 L11.3764629,16.119959 C10.803533,16.6816592 9.88373353,16.6725557 9.32203335,16.0996258 C8.73040544,15.4961698 8.73039653,14.5302606 9.3220133,13.9267937 L13.0859914,10.0874229 C13.4726243,9.6930457 13.4663463,9.05991185 13.0719691,8.67327889 C12.6775919,8.28664594 12.044458,8.29292392 11.657825,8.68730116 Z"}),"Attach")),ht=Object(Ze.a)(o.a.createElement("path",{d:"M12.1715729,2 C12.9672223,2 13.7302841,2.31607052 14.2928932,2.87867966 L21.1213203,9.70710678 C21.6839295,10.2697159 22,11.0327777 22,11.8284271 L22,19 C22,20.6568542 20.6568542,22 19,22 L5,22 C3.34314575,22 2,20.6568542 2,19 L2,5 C2,3.34314575 3.34314575,2 5,2 L12.1715729,2 Z M11,4 L5,4 C4.44771525,4 4,4.44771525 4,5 L4,19 C4,19.5522847 4.44771525,20 5,20 L19,20 C19.5522847,20 20,19.5522847 20,19 L20,13 L14,13 C12.4023191,13 11.0963391,11.75108 11.0050927,10.1762728 L11,10 L11,4 Z M19.586,11 L13,4.414 L13,10 C13,10.5128358 13.3860402,10.9355072 13.8833789,10.9932723 L14,11 L19.586,11 Z"}),"Document"),Mt=a(252),ft=a(255),It=Object(Ze.a)(o.a.createElement("path",{d:"M19,2 C20.6568542,2 22,3.34314575 22,5 L22,19 C22,20.6568542 20.6568542,22 19,22 L5,22 C3.34314575,22 2,20.6568542 2,19 L2,5 C2,3.34314575 3.34314575,2 5,2 L19,2 Z M8.95903938,14.4653367 L8.89694708,14.4202095 C8.68789701,14.291568 8.42133316,14.3352159 8.26303498,14.5116789 L8.2090719,14.5840012 L4.88033327,19.9929138 L4.93969424,19.9982115 L4.93969424,19.9982115 L12.446,20 L9.05890452,14.5810435 C9.0316623,14.5374559 8.99794603,14.4984621 8.95903938,14.4653367 L8.89694708,14.4202095 L8.95903938,14.4653367 Z M15.6580762,12.1926572 C15.4476303,12.0663122 15.1815603,12.1128758 15.0252035,12.2910614 L14.9720355,12.3639701 L12.551,16.396 L14.803,20 L19,20 C19.5410622,20 19.9817615,19.5702952 19.9994483,19.0335352 L15.8247114,12.3563345 C15.7828678,12.2893847 15.7257647,12.2332952 15.6580762,12.1926572 Z M19,4 L5,4 C4.44771525,4 4,4.44771525 4,5 L4,17.606 L6.50573804,13.5358344 C7.19919591,12.4089238 8.64230264,12.0252274 9.79631538,12.6320827 L9.94511393,12.7168756 C10.2187146,12.885239 10.4567799,13.1044297 10.6467737,13.3619985 L10.7549011,13.5210456 L11.361,14.492 L13.2573282,11.3345145 C13.9384069,10.2000794 15.3772263,9.80060652 16.5378139,10.3947912 L16.6875318,10.4779499 C16.9695672,10.6472749 17.2148477,10.8702509 17.409849,11.1335934 L17.5207081,11.2963367 L20,15.264 L20,5 C20,4.44771525 19.5522847,4 19,4 Z"}),"SharedMedia"),mt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={anchorEl:null},a.handleMenuClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleMenuClose=function(){a.setState({anchorEl:null})},a.handleAttachPhoto=function(){a.handleMenuClose();var e=a.props.onAttachPhoto;e&&setTimeout((function(){return e()}),300)},a.handleAttachDocument=function(){a.handleMenuClose();var e=a.props.onAttachDocument;e&&setTimeout((function(){return e()}),300)},a.handleAttachPoll=function(){a.handleMenuClose();var e=a.props.onAttachPoll;e&&e()},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.classes,e.t),a=(e.chatId,this.state.anchorEl);return o.a.createElement(o.a.Fragment,null,o.a.createElement(Re.a,{className:"inputbox-icon-button","aria-label":"Attach",open:Boolean(a),onClick:this.handleMenuClick},o.a.createElement(gt,null)),o.a.createElement(Fe.a,{id:"attach-menu",anchorEl:a,open:Boolean(a),getContentAnchorEl:null,disableAutoFocusItem:!0,disableRestoreFocus:!0,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"},onClose:this.handleMenuClose},o.a.createElement(Ae.a,{onClick:this.handleAttachPhoto},o.a.createElement(Mt.a,null,o.a.createElement(It,null)),o.a.createElement(ft.a,{primary:t("AttachPhoto")})),o.a.createElement(Ae.a,{onClick:this.handleAttachDocument},o.a.createElement(Mt.a,null,o.a.createElement(ht,null)),o.a.createElement(ft.a,{primary:t("AttachDocument")}))))}}]),t}(o.a.Component),vt=Object(se.a)()(mt),yt=a(55),Ct=function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).onClientUpdateChatId=function(e){a.state.chatId!==e.nextChatId&&a.setState({chatId:e.nextChatId})},a.handleKeyDown=function(e){var t=e.altKey,n=e.ctrlKey,o=e.keyCode,r=e.metaKey,s=e.repeat,i=e.shiftKey;switch(o){case 13:t||n||r||i||(s||a.handleSubmit(),e.preventDefault(),e.stopPropagation());break;case 27:t||n||r||i||(s||a.handleCancel(),e.preventDefault(),e.stopPropagation())}},a.handleSubmit=function(){var e=a.state,t=(e.chatId,e.editMessageId,a.newMessageRef.current);if(t){var n=t.innerHTML;t.innerText=null,a.handleInput(),n&&n.trim()&&(n=(n=(n=n.replace(/<div><br><\/div>/gi,"<br>")).replace(/<div>/gi,"<br>")).replace(/<\/div>/gi,""),a.sendMessage(n,!1,(function(e){})))}},a.sendMessage=function(){var e=Object(I.a)(f.a.mark((function e(t,n,o){var r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new yt.Msg,console.log("IMController sendMsg",t),r.setConversationid(a.state.chatId),r.setCid(V.getCid()),r.setType(yt.MsgType.TEXT),r.setJetts(Date.now()),r.setBlob(new TextEncoder("utf-8").encode(t)),s=Z.get(a.state.chatId)){e.next=11;break}return console.error("sendMessage failed!"),e.abrupt("return");case 11:O.sendMsg(r,s.conv);case 12:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),a.attachDocumentRef=o.a.createRef(),a.attachPhotoRef=o.a.createRef(),a.newMessageRef=o.a.createRef();var n=V.getChatId();return a.state={chatId:n},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){V.on("clientUpdateChatId",this.onClientUpdateChatId)}},{key:"componentWillUnmount",value:function(){V.off("clientUpdateChatId",this.onClientUpdateChatId)}},{key:"render",value:function(){var e=this.state.chatId;return o.a.createElement("div",{className:"inputbox-background"},o.a.createElement("div",{className:"inputbox"},o.a.createElement("div",{className:"inputbox-bubble"},o.a.createElement("div",{className:"inputbox-wrapper"},o.a.createElement("div",{className:"inputbox-left-column"}),o.a.createElement("div",{className:"inputbox-middle-column"},o.a.createElement("div",{id:"inputbox-message",ref:this.newMessageRef,contentEditable:!0,suppressContentEditableWarning:!0,onKeyDown:this.handleKeyDown,onPaste:this.handlePaste,onInput:this.handleInput})),o.a.createElement("div",{className:"inputbox-right-column"},o.a.createElement("input",{ref:this.attachDocumentRef,className:"inputbox-attach-button",type:"file",multiple:"multiple",onChange:this.handleAttachDocumentComplete}),o.a.createElement("input",{ref:this.attachPhotoRef,className:"inputbox-attach-button",type:"file",multiple:"multiple",accept:"image/*",onChange:this.handleAttachPhotoComplete}),o.a.createElement(vt,{chatId:e,onAttachPhoto:this.handleAttachPhoto,onAttachDocument:this.handleAttachDocument,onAttachPoll:this.handleAttachPoll})))),o.a.createElement("div",{className:"inputbox-send-button-background"},o.a.createElement(Re.a,{className:"inputbox-send-button","aria-label":"Send",size:"small",onClick:this.handleSubmit},o.a.createElement(dt,null)))))}},{key:"handleInput",value:function(){}},{key:"handleAttachDocumentComplete",value:function(){}},{key:"handleAttachPhotoComplete",value:function(){}},{key:"handlePaste",value:function(){}}]),t}(o.a.Component),bt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).onUpdateChatDetailsVisibility=function(e){a.forceUpdate()},a.onClientUpdateChatId=function(e){a.setState({chatId:e.nextChatId,messageId:e.nextMessageId})},a.scrollToBottom=function(){a.messagesList.scrollToBottom()},a.scrollToStart=function(){a.messagesList.scrollToStart()},a.scrollToMessage=function(){a.messagesList.scrollToMessage()},a.state={chatId:V.getChatId(),messageId:V.getMessageId(),selectedCount:0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var a=this.state,n=a.chatId,o=a.messageId,r=a.selectedCount;return t.chatId!==n||(t.messageId!==o||t.selectedCount!==r)}},{key:"componentDidMount",value:function(){V.on("clientUpdateChatId",this.onClientUpdateChatId),V.on("clientUpdateChatDetailsVisibility",this.onUpdateChatDetailsVisibility)}},{key:"componentWillUnmount",value:function(){V.off("clientUpdateChatId",this.onClientUpdateChatId),V.on("clientUpdateChatDetailsVisibility",this.onUpdateChatDetailsVisibility)}},{key:"loadCache",value:function(){var e=Object(I.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.loadMessages(this.state.chatId);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:e.t0,O.clientUpdate({"@type":"clientUpdateMessagesLoaded"});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;this.loadCache();var t=this.state,a=t.chatId,n=t.messageId,r=(t.selectedCount,V.isChatDetailsVisible);return o.a.createElement("div",{className:h()("dialog-details",{"dialog-details-third-column":r})},o.a.createElement(pt,{chatId:a}),o.a.createElement(rt,{ref:function(t){return e.messagesList=t},chatId:a,messageId:n}),o.a.createElement(Ct,null))}}]),t}(o.a.Component),Nt=(a(212),a(81)),Et=a.n(Nt),kt=(a(213),function(e){function t(e){return Object(u.a)(this,t),Object(l.a)(this,Object(p.a)(t).call(this,e))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.chatId,n=e.onClick,r=e.onClose,s=Z.get(a),i=s.type,u=(s.conv,s.id,0===i?"Info":"Group Info");return o.a.createElement("div",{className:"header-master"},o.a.createElement("div",{className:"header-status grow cursor-pointer",onClick:n},o.a.createElement("span",{className:"header-status-content"},u)),o.a.createElement(Re.a,{className:t.rightIconButton,onClick:r},o.a.createElement(Et.a,null)))}}]),t}(o.a.Component)),Ot=Object(De.a)(Object(se.a)(),Le()({leftIconButton:{margin:"8px -2px 8px 12px"},rightIconButton:{margin:"8px 12px 8px -2px"}},{withTheme:!0}))(kt),At=a(253),wt=a(230),Bt=(a(214),a(233)),St=(a(215),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).handleClick=function(){var e=a.props,t=e.userId,n=e.onSelect;n&&n(t)},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.userId!==this.props.userId}},{key:"render",value:function(){var e=this.props.userId,t=ne(e),a=t&&t.nick?t.nick:"UserName";return o.a.createElement("div",{className:"user",onClick:this.handleClick},o.a.createElement("div",{className:"user-wrapper"},o.a.createElement(He,{userId:e}),o.a.createElement("div",{className:"dialog-inner-wrapper"},o.a.createElement("div",{className:"tile-first-row"},o.a.createElement("div",{className:"dialog-title"},a)),o.a.createElement("div",{className:"tile-second-row"}))))}}]),t}(o.a.Component)),Rt=function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).handleOpenUser=function(e){!function(e){if(e!==V.getCid()){var t=Z.findUserChat(e);t&&X(t)}}(e)},a.chatDetailsListRef=n.createRef();var o=a.props.chatId;return a.state={prevChatId:o},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.chatId,o=t.onClose,r=t.className,s=Z.get(a);if(!s)return n.createElement("div",{className:"chat-details"},n.createElement(Ot,{onClose:o}),n.createElement("div",{ref:this.chatDetailsListRef,className:"chat-details-list"}));var i=function(e){var t=Z.get(e);return!!t&&(!!t.type&&1===t.type)}(a),u=Me(a);console.log("ChatDetails chat: ",s);var c=s.extra,l=u?null:s.conv.getMembersList().map((function(t){return n.createElement(Bt.a,{button:!0,key:t},n.createElement(St,{userId:t,onSelect:e.handleOpenUser}))})),p=n.createElement(n.Fragment,null,n.createElement(Ot,{chatId:a,backButton:!1,onClose:o,onClick:this.handleHeaderClick}),n.createElement("div",{ref:this.chatDetailsListRef,className:"chat-details-list"},n.createElement("div",{className:"chat-details-info"},n.createElement("div",{className:h()("chat",{"chat-big":!0}),onClick:this.handleClick},n.createElement("div",{className:"chat-wrapper"},n.createElement(re,{big:!0,chatId:a,extra:c}),n.createElement("div",{className:"dialog-inner-wrapper"},n.createElement("div",{className:"tile-first-row"},n.createElement(ye,{chatId:a,extra:c})),u&&n.createElement("div",{className:"tile-second-row"}))))),(!u||i)&&n.createElement(n.Fragment,null,n.createElement(At.a,null),n.createElement(wt.a,null,l))));return n.createElement("div",{className:h()("chat-details",r)},p)}}]),t}(n.Component),Tt=Object(De.a)(Object(se.a)(),Le()((function(e){return{closeIconButton:{margin:"8px -2px 8px 12px"},nested:{},listItem:{padding:"11px 22px"}}}),{withTheme:!0}))(Rt),Ut=function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).onClientUpdateChatId=function(e){var t=a.props.popup,n=a.state.chatId;t||n!==e.nextChatId&&a.setState({chatId:e.nextChatId})},a.onGroupInfo=function(e){var t=e.conv,n=a.state.chatId;(t||t.getId()===n)&&a.forceUpdate()},a.handleCloseChatDetails=function(){a.props.popup;a.state.userChatId?a.setState({userChatId:null}):V.changeChatDetailsVisibility(!1)},a.detailsRef=o.a.createRef();var n=e.popup,r=V.chatId,s=V.dialogChatId;return a.state={chatId:n?s:r},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.loadContent(this.state.chatId),V.on("clientUpdateChatId",this.onClientUpdateChatId),Z.on("groupInfo",this.onGroupInfo)}},{key:"componentWillUnmount",value:function(){V.off("clientUpdateChatId",this.onClientUpdateChatId),Z.off("groupInfo",this.onGroupInfo)}},{key:"componentDidUpdate",value:function(e,t,a){var n=this.state.chatId;n!==t.chatId&&this.loadContent(n)}},{key:"loadContent",value:function(e){}},{key:"render",value:function(){var e=this.props,t=(e.classes,e.className),a=e.popup,n=this.state.chatId,r=Z.get(n),s=(r.type,r.conv,r.id,fe(n),o.a.createElement(Tt,{chatId:n,popup:a,onClose:this.handleCloseChatDetails}));return o.a.createElement("div",{className:h()("chat-info",{"right-column":!a},t)},s)}}]),t}(o.a.Component);Ut.defaultProps={className:null,classes:null,popup:!1};var Ft=Object(De.a)(Le()({leftIconButton:{margin:"8px -2px 8px 12px"},rightIconButton:{margin:"8px 12px 8px -2px"}},{withTheme:!0}))(Ut),jt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).onClientUpdateChatDetailsVisibility=function(e){a.setState({isChatDetailsVisible:V.isChatDetailsVisible})},a.onClientUpdateOpenChat=function(e){var t=e.chatId,n=e.messageId,o=e.popup;a.handleSelectChat(t,n,o)},a.handleSelectChat=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],V.getChatId()),o=(V.dialogChatId,V.getMessageId());n===e&&t&&o===t?a.dialogDetailsRef.current.scrollToMessage():n!==e||t?(a.dialogDetailsRef.current.scrollToBottom(),O.setChatId(e,t)):a.dialogDetailsRef.current.scrollToStart()},a.dialogDetailsRef=o.a.createRef(),a.state={isChatDetailsVisible:V.isChatDetailsVisible},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){Z.on("clientUpdateOpenChat",this.onClientUpdateOpenChat),V.on("clientUpdateChatDetailsVisibility",this.onClientUpdateChatDetailsVisibility)}},{key:"componentWillUnmount",value:function(){Z.off("clientUpdateOpenChat",this.onClientUpdateOpenChat),V.off("clientUpdateChatDetailsVisibility",this.onClientUpdateChatDetailsVisibility)}},{key:"render",value:function(){var e=this.state.isChatDetailsVisible;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:h()("page",{"page-third-column":e})},o.a.createElement(Ge,null),o.a.createElement(bt,{ref:this.dialogDetailsRef}),e&&o.a.createElement(Ft,null)))}}]),t}(o.a.Component),Lt=a(254),Dt=a(117),xt=a.n(Dt),Wt=(a(216),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={data:null},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"scanQrCode",value:function(){C.a.post("https://sdk.b.app/api/third/im/auth").then((function(e){console.log(e),window.location.href=e.data.data.auth_url})).catch((function(e){return console.log(e),null}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"authorization-form"},o.a.createElement("div",{className:"authorization-form-content"},o.a.createElement("div",{className:"auth-caption"},o.a.createElement("div",{className:"auth-caption-logo"},o.a.createElement("img",{src:xt.a}))),o.a.createElement(Lt.a,{classes:{root:"auth-button"},variant:"contained",disableElevation:!0,fullWidth:!0,color:"primary",onClick:this.scanQrCode},"\u626b\u7801\u767b\u5f55")))}}]),t}(o.a.Component)),zt=new(function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(l.a)(this,Object(p.a)(t).call(this))).reset=function(){e.appInactive=!1,e.newMessages=new Map,e.settings=new Map,e.windowFocused=!0,e.timerHandler=null},e.onClientUpdate=function(t){switch(t["@type"]){case"clientUnreadMessage":e.appInactive=!0,e.newMessages=new Map,e.updateTimer();break;case"clientUpdateFocusWindow":var a=t.focused;console.log("[ns] clientUpdateFocusWindow",t),e.windowFocused=a,a&&(e.newMessages=new Map,e.updateTimer())}},e.onUpdate=function(e){},e.onTimer=function(){console.log("[ns] onTimer");var t=e.getUnreadCount();if("IMNut Web"===document.title&&t>0){var a="+99 notifications";1===t?a="1 notification":t<99&&(a="".concat(t," notifications")),document.title=a,document.getElementById("favicon").href="favicon_unread.ico"}else document.title="IMNut Web"+(e.appInactive?": Zzz\u2026":""),document.getElementById("favicon").href="favicon.ico"},e.reset(),e.addIMListener(),e.setMaxListeners(1/0),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"addIMListener",value:function(){O.addListener("update",this.onUpdate),O.addListener("clientUpdate",this.onClientUpdate)}},{key:"getUnreadCount",value:function(){return G.getUnread()}},{key:"updateTimer",value:function(){var e=this.getUnreadCount();console.log("[ns] updateTimer",e,this.newMessages),e>0?this.timerHandler||(this.onTimer(),this.timerHandler=setInterval(this.onTimer,1e3)):this.timerHandler&&(clearInterval(this.timerHandler),this.timerHandler=null,this.onTimer())}}]),t}(v.EventEmitter));window.notifications=zt;var Pt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(p.a)(t).call(this,e))).onUpdateAuthorizationState=function(e){window.hasFocus&&(console.log("onUpdateAuthorizationState"),V.getCid()&&O.init(V.getCid()))},a.onUpdate=function(e){console.log("update: "+e["@type"])},a.onLogout=function(e){a.state={prevAuthorizationState:null,authorizationState:null},console.log("onLogout",T.current),a.forceUpdate()},a.state={inactive:!1,prevAuthorizationState:T.current,authorizationState:null},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){O.addListener("update",this.onUpdate),V.on("clientUpdateAuthState",this.onUpdateAuthorizationState),T.on("clientLogout",this.onLogout)}},{key:"componentWillUnmount",value:function(){O.off("update",this.onUpdate),V.off("clientUpdateAuthState",this.onUpdateAuthorizationState),T.off("clientLogout",this.onLogout)}},{key:"render",value:function(){var e=this.state,t=e.authorizationState,a=e.prevAuthorizationState;console.log(t,a),t||(t=T.current?a:{auth_state:S.STATE_IDLE});var n=o.a.createElement(jt,null);if(t)switch(t.auth_state){case S.STATE_IDLE:case S.STATE_FAILED:n=o.a.createElement(Wt,{authorizationState:t});break;case S.STATE_LOGIN:O.clientUpdate(Object(i.a)({"@type":"clientUpdateAuthState"},t)),O.init(t.uid)}return o.a.createElement("div",{id:"app"},n)}}]),t}(o.a.Component);window.hasFocus=!0,window.onblur=function(){console.log("onFocus false"),window.hasFocus=!1,O.clientUpdate({"@type":"clientUpdateFocusWindow",focused:!1})},window.onfocus=function(){console.log("onFocus true"),window.hasFocus=!0,O.clientUpdate({"@type":"clientUpdateFocusWindow",focused:!0})};var Gt=Pt,Qt=a(119),qt=a(44),Jt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Kt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Ht=a(118),Vt=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Ht.parse(window.location.search);console.log("redirect to: ","".concat("/react-app")),C.a.post("https://sdk.b.app/api/third/im/authInfo","auth_id="+e.auth_id).then((function(e){var t=200===e.data.code?S.STATE_LOGIN:S.STATE_FAILED,a=Object(i.a)({auth_state:t},e.data.data);O.update({"@type":"updateAuthState",data:a}),window.location.href="/react-app/"})).catch((function(e){console.log(e);var t={auth_state:S.STATE_FAILED};O.update({"@type":"updateAuthState",data:t})}))}},{key:"render",value:function(){return n.createElement("div",null,n.createElement("span",null,"Redirecting..."))}}]),t}(n.Component);s.a.render(o.a.createElement(Qt.a,{basename:"/react-app"},o.a.createElement(qt.c,null,o.a.createElement(qt.a,{exact:!0,path:"/",component:Gt}),o.a.createElement(qt.a,{path:"/login/redirect/",component:Vt}))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/react-app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/react-app","/service-worker.js");Jt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Kt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Kt(t,e)}))}}()},55:function(e,t,a){var n=a(63),o=n,r=Function("return this")(),s=a(161);o.object.extend(proto,s),o.exportSymbol("proto.IMNut.AuxiliaryMsg",null,r),o.exportSymbol("proto.IMNut.Image",null,r),o.exportSymbol("proto.IMNut.Msg",null,r),o.exportSymbol("proto.IMNut.MsgAck",null,r),o.exportSymbol("proto.IMNut.MsgList",null,r),o.exportSymbol("proto.IMNut.MsgRead",null,r),o.exportSymbol("proto.IMNut.MsgType",null,r),proto.IMNut.Msg=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.IMNut.Msg,n.Message),o.DEBUG&&!COMPILED&&(proto.IMNut.Msg.displayName="proto.IMNut.Msg"),proto.IMNut.MsgAck=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.IMNut.MsgAck,n.Message),o.DEBUG&&!COMPILED&&(proto.IMNut.MsgAck.displayName="proto.IMNut.MsgAck"),proto.IMNut.MsgRead=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.IMNut.MsgRead,n.Message),o.DEBUG&&!COMPILED&&(proto.IMNut.MsgRead.displayName="proto.IMNut.MsgRead"),proto.IMNut.MsgList=function(e){n.Message.initialize(this,e,0,-1,proto.IMNut.MsgList.repeatedFields_,null)},o.inherits(proto.IMNut.MsgList,n.Message),o.DEBUG&&!COMPILED&&(proto.IMNut.MsgList.displayName="proto.IMNut.MsgList"),proto.IMNut.Image=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.IMNut.Image,n.Message),o.DEBUG&&!COMPILED&&(proto.IMNut.Image.displayName="proto.IMNut.Image"),proto.IMNut.AuxiliaryMsg=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.IMNut.AuxiliaryMsg,n.Message),o.DEBUG&&!COMPILED&&(proto.IMNut.AuxiliaryMsg.displayName="proto.IMNut.AuxiliaryMsg"),n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.Msg.prototype.toObject=function(e){return proto.IMNut.Msg.toObject(e,this)},proto.IMNut.Msg.toObject=function(e,t){var a={conversationid:n.Message.getFieldWithDefault(t,1,""),cid:n.Message.getFieldWithDefault(t,2,""),type:n.Message.getFieldWithDefault(t,5,0),blob:t.getBlob_asB64(),blobextra:t.getBlobextra_asB64(),jetts:n.Message.getFieldWithDefault(t,10,0),ackts:n.Message.getFieldWithDefault(t,11,0),id:n.Message.getFieldWithDefault(t,12,0)};return e&&(a.$jspbMessageInstance=t),a}),proto.IMNut.Msg.deserializeBinary=function(e){var t=new n.BinaryReader(e),a=new proto.IMNut.Msg;return proto.IMNut.Msg.deserializeBinaryFromReader(a,t)},proto.IMNut.Msg.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readString();e.setConversationid(a);break;case 2:a=t.readString();e.setCid(a);break;case 5:a=t.readEnum();e.setType(a);break;case 6:a=t.readBytes();e.setBlob(a);break;case 7:a=t.readBytes();e.setBlobextra(a);break;case 10:a=t.readInt64();e.setJetts(a);break;case 11:a=t.readInt64();e.setAckts(a);break;case 12:a=t.readInt64();e.setId(a);break;default:t.skipField()}}return e},proto.IMNut.Msg.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.Msg.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.Msg.serializeBinaryToWriter=function(e,t){var a=void 0;(a=e.getConversationid()).length>0&&t.writeString(1,a),(a=e.getCid()).length>0&&t.writeString(2,a),0!==(a=e.getType())&&t.writeEnum(5,a),(a=e.getBlob_asU8()).length>0&&t.writeBytes(6,a),(a=e.getBlobextra_asU8()).length>0&&t.writeBytes(7,a),0!==(a=e.getJetts())&&t.writeInt64(10,a),0!==(a=e.getAckts())&&t.writeInt64(11,a),0!==(a=e.getId())&&t.writeInt64(12,a)},proto.IMNut.Msg.prototype.getConversationid=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.IMNut.Msg.prototype.setConversationid=function(e){n.Message.setProto3StringField(this,1,e)},proto.IMNut.Msg.prototype.getCid=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.Msg.prototype.setCid=function(e){n.Message.setProto3StringField(this,2,e)},proto.IMNut.Msg.prototype.getType=function(){return n.Message.getFieldWithDefault(this,5,0)},proto.IMNut.Msg.prototype.setType=function(e){n.Message.setProto3EnumField(this,5,e)},proto.IMNut.Msg.prototype.getBlob=function(){return n.Message.getFieldWithDefault(this,6,"")},proto.IMNut.Msg.prototype.getBlob_asB64=function(){return n.Message.bytesAsB64(this.getBlob())},proto.IMNut.Msg.prototype.getBlob_asU8=function(){return n.Message.bytesAsU8(this.getBlob())},proto.IMNut.Msg.prototype.setBlob=function(e){n.Message.setProto3BytesField(this,6,e)},proto.IMNut.Msg.prototype.getBlobextra=function(){return n.Message.getFieldWithDefault(this,7,"")},proto.IMNut.Msg.prototype.getBlobextra_asB64=function(){return n.Message.bytesAsB64(this.getBlobextra())},proto.IMNut.Msg.prototype.getBlobextra_asU8=function(){return n.Message.bytesAsU8(this.getBlobextra())},proto.IMNut.Msg.prototype.setBlobextra=function(e){n.Message.setProto3BytesField(this,7,e)},proto.IMNut.Msg.prototype.getJetts=function(){return n.Message.getFieldWithDefault(this,10,0)},proto.IMNut.Msg.prototype.setJetts=function(e){n.Message.setProto3IntField(this,10,e)},proto.IMNut.Msg.prototype.getAckts=function(){return n.Message.getFieldWithDefault(this,11,0)},proto.IMNut.Msg.prototype.setAckts=function(e){n.Message.setProto3IntField(this,11,e)},proto.IMNut.Msg.prototype.getId=function(){return n.Message.getFieldWithDefault(this,12,0)},proto.IMNut.Msg.prototype.setId=function(e){n.Message.setProto3IntField(this,12,e)},n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.MsgAck.prototype.toObject=function(e){return proto.IMNut.MsgAck.toObject(e,this)},proto.IMNut.MsgAck.toObject=function(e,t){var a={conversationid:n.Message.getFieldWithDefault(t,1,""),id:n.Message.getFieldWithDefault(t,2,0),jetts:n.Message.getFieldWithDefault(t,10,0),ackts:n.Message.getFieldWithDefault(t,11,0)};return e&&(a.$jspbMessageInstance=t),a}),proto.IMNut.MsgAck.deserializeBinary=function(e){var t=new n.BinaryReader(e),a=new proto.IMNut.MsgAck;return proto.IMNut.MsgAck.deserializeBinaryFromReader(a,t)},proto.IMNut.MsgAck.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readString();e.setConversationid(a);break;case 2:a=t.readInt64();e.setId(a);break;case 10:a=t.readInt64();e.setJetts(a);break;case 11:a=t.readInt64();e.setAckts(a);break;default:t.skipField()}}return e},proto.IMNut.MsgAck.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.MsgAck.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.MsgAck.serializeBinaryToWriter=function(e,t){var a=void 0;(a=e.getConversationid()).length>0&&t.writeString(1,a),0!==(a=e.getId())&&t.writeInt64(2,a),0!==(a=e.getJetts())&&t.writeInt64(10,a),0!==(a=e.getAckts())&&t.writeInt64(11,a)},proto.IMNut.MsgAck.prototype.getConversationid=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.IMNut.MsgAck.prototype.setConversationid=function(e){n.Message.setProto3StringField(this,1,e)},proto.IMNut.MsgAck.prototype.getId=function(){return n.Message.getFieldWithDefault(this,2,0)},proto.IMNut.MsgAck.prototype.setId=function(e){n.Message.setProto3IntField(this,2,e)},proto.IMNut.MsgAck.prototype.getJetts=function(){return n.Message.getFieldWithDefault(this,10,0)},proto.IMNut.MsgAck.prototype.setJetts=function(e){n.Message.setProto3IntField(this,10,e)},proto.IMNut.MsgAck.prototype.getAckts=function(){return n.Message.getFieldWithDefault(this,11,0)},proto.IMNut.MsgAck.prototype.setAckts=function(e){n.Message.setProto3IntField(this,11,e)},n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.MsgRead.prototype.toObject=function(e){return proto.IMNut.MsgRead.toObject(e,this)},proto.IMNut.MsgRead.toObject=function(e,t){var a={conversationid:n.Message.getFieldWithDefault(t,1,""),id:n.Message.getFieldWithDefault(t,2,0),cid:n.Message.getFieldWithDefault(t,3,"")};return e&&(a.$jspbMessageInstance=t),a}),proto.IMNut.MsgRead.deserializeBinary=function(e){var t=new n.BinaryReader(e),a=new proto.IMNut.MsgRead;return proto.IMNut.MsgRead.deserializeBinaryFromReader(a,t)},proto.IMNut.MsgRead.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readString();e.setConversationid(a);break;case 2:a=t.readInt64();e.setId(a);break;case 3:a=t.readString();e.setCid(a);break;default:t.skipField()}}return e},proto.IMNut.MsgRead.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.MsgRead.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.MsgRead.serializeBinaryToWriter=function(e,t){var a=void 0;(a=e.getConversationid()).length>0&&t.writeString(1,a),0!==(a=e.getId())&&t.writeInt64(2,a),(a=e.getCid()).length>0&&t.writeString(3,a)},proto.IMNut.MsgRead.prototype.getConversationid=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.IMNut.MsgRead.prototype.setConversationid=function(e){n.Message.setProto3StringField(this,1,e)},proto.IMNut.MsgRead.prototype.getId=function(){return n.Message.getFieldWithDefault(this,2,0)},proto.IMNut.MsgRead.prototype.setId=function(e){n.Message.setProto3IntField(this,2,e)},proto.IMNut.MsgRead.prototype.getCid=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.IMNut.MsgRead.prototype.setCid=function(e){n.Message.setProto3StringField(this,3,e)},proto.IMNut.MsgList.repeatedFields_=[2],n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.MsgList.prototype.toObject=function(e){return proto.IMNut.MsgList.toObject(e,this)},proto.IMNut.MsgList.toObject=function(e,t){var a={limit:n.Message.getFieldWithDefault(t,1,0),msgsList:n.Message.toObjectList(t.getMsgsList(),proto.IMNut.Msg.toObject,e)};return e&&(a.$jspbMessageInstance=t),a}),proto.IMNut.MsgList.deserializeBinary=function(e){var t=new n.BinaryReader(e),a=new proto.IMNut.MsgList;return proto.IMNut.MsgList.deserializeBinaryFromReader(a,t)},proto.IMNut.MsgList.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readInt32();e.setLimit(a);break;case 2:a=new proto.IMNut.Msg;t.readMessage(a,proto.IMNut.Msg.deserializeBinaryFromReader),e.addMsgs(a);break;default:t.skipField()}}return e},proto.IMNut.MsgList.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.MsgList.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.MsgList.serializeBinaryToWriter=function(e,t){var a=void 0;0!==(a=e.getLimit())&&t.writeInt32(1,a),(a=e.getMsgsList()).length>0&&t.writeRepeatedMessage(2,a,proto.IMNut.Msg.serializeBinaryToWriter)},proto.IMNut.MsgList.prototype.getLimit=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.IMNut.MsgList.prototype.setLimit=function(e){n.Message.setProto3IntField(this,1,e)},proto.IMNut.MsgList.prototype.getMsgsList=function(){return n.Message.getRepeatedWrapperField(this,proto.IMNut.Msg,2)},proto.IMNut.MsgList.prototype.setMsgsList=function(e){n.Message.setRepeatedWrapperField(this,2,e)},proto.IMNut.MsgList.prototype.addMsgs=function(e,t){return n.Message.addToRepeatedWrapperField(this,2,e,proto.IMNut.Msg,t)},proto.IMNut.MsgList.prototype.clearMsgsList=function(){this.setMsgsList([])},n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.Image.prototype.toObject=function(e){return proto.IMNut.Image.toObject(e,this)},proto.IMNut.Image.toObject=function(e,t){var a={localpath:n.Message.getFieldWithDefault(t,1,""),cachepath:n.Message.getFieldWithDefault(t,2,""),filename:n.Message.getFieldWithDefault(t,3,""),imgurl:n.Message.getFieldWithDefault(t,4,""),width:n.Message.getFieldWithDefault(t,5,0),height:n.Message.getFieldWithDefault(t,6,0)};return e&&(a.$jspbMessageInstance=t),a}),proto.IMNut.Image.deserializeBinary=function(e){var t=new n.BinaryReader(e),a=new proto.IMNut.Image;return proto.IMNut.Image.deserializeBinaryFromReader(a,t)},proto.IMNut.Image.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readString();e.setLocalpath(a);break;case 2:a=t.readString();e.setCachepath(a);break;case 3:a=t.readString();e.setFilename(a);break;case 4:a=t.readString();e.setImgurl(a);break;case 5:a=t.readInt32();e.setWidth(a);break;case 6:a=t.readInt32();e.setHeight(a);break;default:t.skipField()}}return e},proto.IMNut.Image.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.Image.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.Image.serializeBinaryToWriter=function(e,t){var a=void 0;(a=e.getLocalpath()).length>0&&t.writeString(1,a),(a=e.getCachepath()).length>0&&t.writeString(2,a),(a=e.getFilename()).length>0&&t.writeString(3,a),(a=e.getImgurl()).length>0&&t.writeString(4,a),0!==(a=e.getWidth())&&t.writeInt32(5,a),0!==(a=e.getHeight())&&t.writeInt32(6,a)},proto.IMNut.Image.prototype.getLocalpath=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.IMNut.Image.prototype.setLocalpath=function(e){n.Message.setProto3StringField(this,1,e)},proto.IMNut.Image.prototype.getCachepath=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.Image.prototype.setCachepath=function(e){n.Message.setProto3StringField(this,2,e)},proto.IMNut.Image.prototype.getFilename=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.IMNut.Image.prototype.setFilename=function(e){n.Message.setProto3StringField(this,3,e)},proto.IMNut.Image.prototype.getImgurl=function(){return n.Message.getFieldWithDefault(this,4,"")},proto.IMNut.Image.prototype.setImgurl=function(e){n.Message.setProto3StringField(this,4,e)},proto.IMNut.Image.prototype.getWidth=function(){return n.Message.getFieldWithDefault(this,5,0)},proto.IMNut.Image.prototype.setWidth=function(e){n.Message.setProto3IntField(this,5,e)},proto.IMNut.Image.prototype.getHeight=function(){return n.Message.getFieldWithDefault(this,6,0)},proto.IMNut.Image.prototype.setHeight=function(e){n.Message.setProto3IntField(this,6,e)},n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.AuxiliaryMsg.prototype.toObject=function(e){return proto.IMNut.AuxiliaryMsg.toObject(e,this)},proto.IMNut.AuxiliaryMsg.toObject=function(e,t){var a={type:n.Message.getFieldWithDefault(t,1,0),blob:t.getBlob_asB64()};return e&&(a.$jspbMessageInstance=t),a}),proto.IMNut.AuxiliaryMsg.deserializeBinary=function(e){var t=new n.BinaryReader(e),a=new proto.IMNut.AuxiliaryMsg;return proto.IMNut.AuxiliaryMsg.deserializeBinaryFromReader(a,t)},proto.IMNut.AuxiliaryMsg.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readEnum();e.setType(a);break;case 2:a=t.readBytes();e.setBlob(a);break;default:t.skipField()}}return e},proto.IMNut.AuxiliaryMsg.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.AuxiliaryMsg.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.AuxiliaryMsg.serializeBinaryToWriter=function(e,t){var a=void 0;0!==(a=e.getType())&&t.writeEnum(1,a),(a=e.getBlob_asU8()).length>0&&t.writeBytes(2,a)},proto.IMNut.AuxiliaryMsg.prototype.getType=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.IMNut.AuxiliaryMsg.prototype.setType=function(e){n.Message.setProto3EnumField(this,1,e)},proto.IMNut.AuxiliaryMsg.prototype.getBlob=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.AuxiliaryMsg.prototype.getBlob_asB64=function(){return n.Message.bytesAsB64(this.getBlob())},proto.IMNut.AuxiliaryMsg.prototype.getBlob_asU8=function(){return n.Message.bytesAsU8(this.getBlob())},proto.IMNut.AuxiliaryMsg.prototype.setBlob=function(e){n.Message.setProto3BytesField(this,2,e)},proto.IMNut.MsgType={TEXT:0,PICTURE:1,VOICE:2,REDPACKET:3,AUXILIARY:4},o.object.extend(t,proto.IMNut)},58:function(e,t){e.exports="data:image/png;base64,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"},80:function(e,t,a){var n=a(63),o=n,r=Function("return this")();o.exportSymbol("proto.IMNut.Conversation",null,r),o.exportSymbol("proto.IMNut.ConversationList",null,r),o.exportSymbol("proto.IMNut.ConversationType",null,r),o.exportSymbol("proto.IMNut.MemNick",null,r),proto.IMNut.MemNick=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.IMNut.MemNick,n.Message),o.DEBUG&&!COMPILED&&(proto.IMNut.MemNick.displayName="proto.IMNut.MemNick"),proto.IMNut.Conversation=function(e){n.Message.initialize(this,e,0,-1,proto.IMNut.Conversation.repeatedFields_,null)},o.inherits(proto.IMNut.Conversation,n.Message),o.DEBUG&&!COMPILED&&(proto.IMNut.Conversation.displayName="proto.IMNut.Conversation"),proto.IMNut.ConversationList=function(e){n.Message.initialize(this,e,0,-1,proto.IMNut.ConversationList.repeatedFields_,null)},o.inherits(proto.IMNut.ConversationList,n.Message),o.DEBUG&&!COMPILED&&(proto.IMNut.ConversationList.displayName="proto.IMNut.ConversationList"),n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.MemNick.prototype.toObject=function(e){return proto.IMNut.MemNick.toObject(e,this)},proto.IMNut.MemNick.toObject=function(e,t){var a={cid:n.Message.getFieldWithDefault(t,1,""),nick:n.Message.getFieldWithDefault(t,2,"")};return e&&(a.$jspbMessageInstance=t),a}),proto.IMNut.MemNick.deserializeBinary=function(e){var t=new n.BinaryReader(e),a=new proto.IMNut.MemNick;return proto.IMNut.MemNick.deserializeBinaryFromReader(a,t)},proto.IMNut.MemNick.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readString();e.setCid(a);break;case 2:a=t.readString();e.setNick(a);break;default:t.skipField()}}return e},proto.IMNut.MemNick.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.MemNick.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.MemNick.serializeBinaryToWriter=function(e,t){var a=void 0;(a=e.getCid()).length>0&&t.writeString(1,a),(a=e.getNick()).length>0&&t.writeString(2,a)},proto.IMNut.MemNick.prototype.getCid=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.IMNut.MemNick.prototype.setCid=function(e){n.Message.setProto3StringField(this,1,e)},proto.IMNut.MemNick.prototype.getNick=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.MemNick.prototype.setNick=function(e){n.Message.setProto3StringField(this,2,e)},proto.IMNut.Conversation.repeatedFields_=[4,7,8],n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.Conversation.prototype.toObject=function(e){return proto.IMNut.Conversation.toObject(e,this)},proto.IMNut.Conversation.toObject=function(e,t){var a={id:n.Message.getFieldWithDefault(t,1,""),name:n.Message.getFieldWithDefault(t,2,""),type:n.Message.getFieldWithDefault(t,3,0),cidsList:n.Message.getRepeatedField(t,4),creator:n.Message.getFieldWithDefault(t,5,""),version:n.Message.getFieldWithDefault(t,6,0),membersList:n.Message.getRepeatedField(t,7),nicksList:n.Message.toObjectList(t.getNicksList(),proto.IMNut.MemNick.toObject,e)};return e&&(a.$jspbMessageInstance=t),a}),proto.IMNut.Conversation.deserializeBinary=function(e){var t=new n.BinaryReader(e),a=new proto.IMNut.Conversation;return proto.IMNut.Conversation.deserializeBinaryFromReader(a,t)},proto.IMNut.Conversation.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readString();e.setId(a);break;case 2:a=t.readString();e.setName(a);break;case 3:a=t.readEnum();e.setType(a);break;case 4:a=t.readString();e.addCids(a);break;case 5:a=t.readString();e.setCreator(a);break;case 6:a=t.readInt32();e.setVersion(a);break;case 7:a=t.readString();e.addMembers(a);break;case 8:a=new proto.IMNut.MemNick;t.readMessage(a,proto.IMNut.MemNick.deserializeBinaryFromReader),e.addNicks(a);break;default:t.skipField()}}return e},proto.IMNut.Conversation.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.Conversation.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.Conversation.serializeBinaryToWriter=function(e,t){var a=void 0;(a=e.getId()).length>0&&t.writeString(1,a),(a=e.getName()).length>0&&t.writeString(2,a),0!==(a=e.getType())&&t.writeEnum(3,a),(a=e.getCidsList()).length>0&&t.writeRepeatedString(4,a),(a=e.getCreator()).length>0&&t.writeString(5,a),0!==(a=e.getVersion())&&t.writeInt32(6,a),(a=e.getMembersList()).length>0&&t.writeRepeatedString(7,a),(a=e.getNicksList()).length>0&&t.writeRepeatedMessage(8,a,proto.IMNut.MemNick.serializeBinaryToWriter)},proto.IMNut.Conversation.prototype.getId=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.IMNut.Conversation.prototype.setId=function(e){n.Message.setProto3StringField(this,1,e)},proto.IMNut.Conversation.prototype.getName=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.Conversation.prototype.setName=function(e){n.Message.setProto3StringField(this,2,e)},proto.IMNut.Conversation.prototype.getType=function(){return n.Message.getFieldWithDefault(this,3,0)},proto.IMNut.Conversation.prototype.setType=function(e){n.Message.setProto3EnumField(this,3,e)},proto.IMNut.Conversation.prototype.getCidsList=function(){return n.Message.getRepeatedField(this,4)},proto.IMNut.Conversation.prototype.setCidsList=function(e){n.Message.setField(this,4,e||[])},proto.IMNut.Conversation.prototype.addCids=function(e,t){n.Message.addToRepeatedField(this,4,e,t)},proto.IMNut.Conversation.prototype.clearCidsList=function(){this.setCidsList([])},proto.IMNut.Conversation.prototype.getCreator=function(){return n.Message.getFieldWithDefault(this,5,"")},proto.IMNut.Conversation.prototype.setCreator=function(e){n.Message.setProto3StringField(this,5,e)},proto.IMNut.Conversation.prototype.getVersion=function(){return n.Message.getFieldWithDefault(this,6,0)},proto.IMNut.Conversation.prototype.setVersion=function(e){n.Message.setProto3IntField(this,6,e)},proto.IMNut.Conversation.prototype.getMembersList=function(){return n.Message.getRepeatedField(this,7)},proto.IMNut.Conversation.prototype.setMembersList=function(e){n.Message.setField(this,7,e||[])},proto.IMNut.Conversation.prototype.addMembers=function(e,t){n.Message.addToRepeatedField(this,7,e,t)},proto.IMNut.Conversation.prototype.clearMembersList=function(){this.setMembersList([])},proto.IMNut.Conversation.prototype.getNicksList=function(){return n.Message.getRepeatedWrapperField(this,proto.IMNut.MemNick,8)},proto.IMNut.Conversation.prototype.setNicksList=function(e){n.Message.setRepeatedWrapperField(this,8,e)},proto.IMNut.Conversation.prototype.addNicks=function(e,t){return n.Message.addToRepeatedWrapperField(this,8,e,proto.IMNut.MemNick,t)},proto.IMNut.Conversation.prototype.clearNicksList=function(){this.setNicksList([])},proto.IMNut.ConversationList.repeatedFields_=[2],n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.ConversationList.prototype.toObject=function(e){return proto.IMNut.ConversationList.toObject(e,this)},proto.IMNut.ConversationList.toObject=function(e,t){var a={limit:n.Message.getFieldWithDefault(t,1,0),convsList:n.Message.toObjectList(t.getConvsList(),proto.IMNut.Conversation.toObject,e)};return e&&(a.$jspbMessageInstance=t),a}),proto.IMNut.ConversationList.deserializeBinary=function(e){var t=new n.BinaryReader(e),a=new proto.IMNut.ConversationList;return proto.IMNut.ConversationList.deserializeBinaryFromReader(a,t)},proto.IMNut.ConversationList.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var a=t.readInt32();e.setLimit(a);break;case 2:a=new proto.IMNut.Conversation;t.readMessage(a,proto.IMNut.Conversation.deserializeBinaryFromReader),e.addConvs(a);break;default:t.skipField()}}return e},proto.IMNut.ConversationList.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.ConversationList.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.ConversationList.serializeBinaryToWriter=function(e,t){var a=void 0;0!==(a=e.getLimit())&&t.writeInt32(1,a),(a=e.getConvsList()).length>0&&t.writeRepeatedMessage(2,a,proto.IMNut.Conversation.serializeBinaryToWriter)},proto.IMNut.ConversationList.prototype.getLimit=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.IMNut.ConversationList.prototype.setLimit=function(e){n.Message.setProto3IntField(this,1,e)},proto.IMNut.ConversationList.prototype.getConvsList=function(){return n.Message.getRepeatedWrapperField(this,proto.IMNut.Conversation,2)},proto.IMNut.ConversationList.prototype.setConvsList=function(e){n.Message.setRepeatedWrapperField(this,2,e)},proto.IMNut.ConversationList.prototype.addConvs=function(e,t){return n.Message.addToRepeatedWrapperField(this,2,e,proto.IMNut.Conversation,t)},proto.IMNut.ConversationList.prototype.clearConvsList=function(){this.setConvsList([])},proto.IMNut.ConversationType={SINGLE:0,MULTIPLE:1,SYS:2},o.object.extend(t,proto.IMNut)}},[[130,1,2]]]);
//# sourceMappingURL=main.7d53ab5d.chunk.js.map
(this["webpackJsonpmy-react-app"]=this["webpackJsonpmy-react-app"]||[]).push([[0],{102:function(e,t,o){},103:function(e,t,o){},104:function(e,t,o){},105:function(e,t,o){},106:function(e,t,o){},110:function(e,t,o){},111:function(e,t,o){},112:function(e,t,o){},113:function(e,t,o){},115:function(e,t,o){},116:function(e,t,o){},119:function(e,t,o){},120:function(e,t,o){},121:function(e,t,o){"use strict";o.r(t);var n=o(0),r=o.n(n),a=o(12),s=o.n(a),i=(o(83),o(3)),u=o(2),l=o(4),c=o(5),p=o(6),d=(o(84),o(16)),g=o.n(d),M=o(8),h=o.n(M),f=o(13),I=(o(86),o(21)),m=o(32),y=o(17),N=o(87),v=o(55),b=o(37),C=new(function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(c.a)(t).call(this))).state={cid:"83ed7501a1918f33ff24e6a4",messages:[]},e.ws=new WebSocket("wss://203.195.155.183:444"),e.init=function(){e.ws.binaryType="arraybuffer",e.ws.onopen=function(){console.log("onopen"),e.login()},e.ws.onmessage=function(t){console.log(t);var o=new Uint8Array(t.data),n=N.IMResponse.deserializeBinary(o);console.log(n),e.handleMessage(n)},e.ws.onclose=function(){console.log("disconnected")},e.ws.onerror=function(e){}},e.ackResponse=function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new N.IMRequest;n.setCid(e.state.cid),n.setOperation(t),n.setTs(o),e.send(n)},e.clientUpdate=function(t){e.disableLog||console.log("clientUpdate",t),e.emit("clientUpdate",t)},e.send=function(t){var o=t.serializeBinary();console.log(t,o),e.ws.send(o)},e.setChatId=function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n={"@type":"clientUpdateChatId",chatId:t,messageId:o};e.clientUpdate(n)},e.parameters={},e.disablelog=!0,e.localStorage=!1,e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleMessage",value:function(e){this.state.cid;switch(e.getOperation()){case N.IMOperation.CLIENTOPEN:this.ackResponse(N.IMOperation.ACKCLIENTOPEN),this.queryConvs();break;case N.IMOperation.CONVERSATIONQUERY:var t=v.ConversationList.deserializeBinary(e.getBlob());this.emit("update",{"@type":"queryConv",convs:t.getConvsList()});break;case N.IMOperation.TARGETMESSAGESEND:var o=b.Msg.deserializeBinary(e.getBlob());console.log("ackResponse",e.getTs()),this.ackResponse(N.IMOperation.ACK,e.getTs()),this.emit("update",{"@type":"tgtMsgSend",msg:o});break;case N.IMOperation.CONVERSATIONMESSAGESEND:var n=b.MsgAck.deserializeBinary(e.getBlob());console.log("CONVERSATIONMESSAGESEND, ",n),this.emit("update",{"@type":"msgAck",msgAck:n});break;case N.IMOperation.CONVERSATIONMESSAGEREAD:var r=b.MsgRead.deserializeBinary(e.getBlob());console.log("CONVERSATIONMESSAGEREAD, ",r),this.emit("update",{"@type":"msgRead",msgRead:r})}}},{key:"readMessage",value:function(e,t){console.log("readMessage",e,t);var o=new b.MsgRead;o.setCid(this.state.cid),o.setId(t),o.setConversationid(e);var n=new N.IMRequest;n.setCid(this.state.cid),n.setOperation(N.IMOperation.CONVERSATIONMESSAGEREAD),n.setBlob(o.serializeBinary()),this.send(n)}},{key:"login",value:function(){var e=new N.IMRequest;e.setCid(this.state.cid),e.setOperation(N.IMOperation.CLIENTOPEN),this.send(e)}},{key:"queryConvs",value:function(){console.log("queryConvs");var e=new N.IMRequest;e.setCid(this.state.cid),e.setOperation(N.IMOperation.CONVERSATIONQUERY),e.setTs(Date.now()),this.send(e)}},{key:"sendMsg",value:function(e,t){var o=new N.IMRequest;o.setConversation(t),o.setCid(this.state.cid),o.setOperation(N.IMOperation.CONVERSATIONMESSAGESEND),o.setTs(Date.now()),o.setMsg(e),this.send(o);var n={"@type":"clientSendMessage",msg:e};this.clientUpdate(n)}}]),t}(y.EventEmitter));window.im=C;var O=C,E=new(function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(c.a)(t).call(this))).reset=function(){e.items=new Map},e.onUpdate=function(t){switch(console.log("chatstore onUpdate:",t),t["@type"]){case"queryConv":for(var o=t.convs,n=0;n<o.length;n++)e.updateConv(o[n]);e.emitUpdate(t);break;case"tgtMsgSend":var r=t.msg,a=r.getAckts()/1e6,s=e.items.get(r.getConversationid());e.assign(s,{last_msg:r,last_ts:a}),t=Object(m.a)({},t,{chatId:r.getConversationid()}),e.emitUpdate(t)}},e.onClientUpdate=function(t){switch(t["@type"]){case"clientUpdateOpenChat":e.emitUpdate(t)}},e.emitUpdate=function(t){e.emit(t["@type"],t)},e.reset(),e.addIMListener(),e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"set",value:function(e){this.items.set(e.id,e)}},{key:"get",value:function(e){return this.items.get(e)}},{key:"assign",value:function(e,t){this.set(Object.assign({},e,t))}},{key:"updateConv",value:function(e){var t=this.items.get(e.getId());t?this.assign(t,{conv:e}):this.items.set(e.getId(),{id:e.getId(),conv:e,type:e.getType(),last_ts:0})}},{key:"addIMListener",value:function(){O.addListener("update",this.onUpdate),O.addListener("clientUpdate",this.onClientUpdate)}},{key:"getSortedItems",value:function(){return Array.from(new Map(Object(I.a)(this.items.entries()).sort((function(e,t){return t[1].last_ts-e[1].last_ts}))).keys())}}]),t}(y.EventEmitter));window.chat=E;var k=E,R=new(function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(c.a)(t).call(this))).reset=function(){e.cid="83ed7501a1918f33ff24e6a4",e.chatId=0,e.dialogChatId=0,e.messageId=0,e.authorizationState=null},e.onUpdate=function(e){},e.onClientUpdate=function(t){switch(t["@type"]){case"clientUpdateChatId":var o={"@type":"clientUpdateChatId",nextChatId:t.chatId,nextMessageId:t.messageId,previousChatId:e.chatId,previousMessageId:e.messageId};e.chatId=t.chatId,e.messageId=t.messageId,console.log("AppStore, clientUpdateChatId",o),e.emit("clientUpdateChatId",o)}},e.reset(),e.addIMListener(),e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"getChatId",value:function(){return this.chatId}},{key:"getCid",value:function(){return this.cid}},{key:"getMessageId",value:function(){return this.messageId}},{key:"getConnectionState",value:function(){return this.connectionState}},{key:"addIMListener",value:function(){O.addListener("update",this.onUpdate),O.addListener("clientUpdate",this.onClientUpdate)}}]),t}(y.EventEmitter));window.app=R;var B=R;function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];console.log("Client openChat"),O.clientUpdate({"@type":"clientUpdateOpenChat",chatId:e,messageId:t,popup:o})}var w=new(function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(c.a)(t).call(this))).reset=function(){e.db=null,e.urls=new WeakMap,e.dataUrls=new Map,e.items=new Map},e.getDataUrl=function(t){return t&&e.dataUrls.has(t)?e.dataUrls.get(t):null},e.getBlobUrl=function(t){return t?e.urls.has(t)?e.urls.get(t):void 0:null},e.reset(),e}return Object(p.a)(t,e),t}(y.EventEmitter));window.file=w;var S=w;function F(e){var t=e&&S.getDataUrl(e.id);if(t)return t;var o=function(e){return e?S.getBlob(e.id)||e.blob:null}(e);return S.getBlobUrl(o)||""}o(93);var j=function(e){function t(e){var o;return Object(i.a)(this,t),(o=Object(l.a)(this,Object(c.a)(t).call(this,e))).handleLoad=function(){o.setState({loaded:!0})},o.state={loaded:!1},o}return Object(p.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var o=this.props.chatId,n=this.state.loaded;return e.chatId!==o||t.loaded!==n}},{key:"render",value:function(){var e=this.props,t=e.chatId;e.showOnline,e.showSavedMessages,e.onSelect,e.small,e.big,e.size,k.get(t);return r.a.createElement("div",{className:g()("chat-tile")})}}]),t}(r.a.Component),A=o(24),L=o(47),D=o.n(L),U=o(37);function W(e,t){if(!e)return null;switch(e.getType()){case U.MsgType.TEXT:return new TextDecoder("utf-8").decode(e.getBlob());case U.MsgType.PICTURE:return"[[[[[[[PICTURE]]]]]]"}}function x(e){return e?W(e):null}function P(e){return e&&e.last_ts?function(e){var t=new Date(e.getAckts()/1e6),o=new Date;if(o.setHours(0,0,0,0),t>o)return D()(t,"H:MM");var n=new Date,r=n.getDay(),a=n.getDate()-r+(0===r?-6:1);return t>new Date(n.setDate(a))?D()(t,"ddd"):D()(t,"d.mm.yyyy")}(e.last_msg):null}o(102);var z=function(e){function t(){var e,o;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(o=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).onFastUpdatingComplete=function(e){o.forceUpdate()},o.onUpdateChatTitle=function(e){var t=o.props.chatId;e.chat_id===t&&o.forceUpdate()},o}return Object(p.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var o=this.props,n=o.chatId,r=o.t;return e.chatId!==n||e.t!==r}},{key:"componentDidMount",value:function(){k.on("clientUpdateFastUpdatingComplete",this.onFastUpdatingComplete),k.on("updateChatTitle",this.onUpdateChatTitle)}},{key:"componentWillUnmount",value:function(){k.off("clientUpdateFastUpdatingComplete",this.onFastUpdatingComplete),k.off("updateChatTitle",this.onUpdateChatTitle)}},{key:"render",value:function(){var e=this.props,t=e.t;!function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];var t=k.get(e);if(!t);}(e.chatId,e.showSavedMessages,t);return r.a.createElement("div",{className:"dialog-title"},r.a.createElement("span",{className:"dialog-title-span"},this.props.chatId))}}]),t}(r.a.Component);z.defaultProps={showSavedMessages:!0};var G=Object(A.a)()(z),_=(o(103),function(e){function t(){var e,o;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(o=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).onClientUpdateClearHistory=function(e){o.props.chatId===e.chatId&&(o.clearHistory=e.inProgress,o.forceUpdate())},o.onFastUpdatingComplete=function(e){o.forceUpdate()},o.onUpdate=function(e){var t=o.props.chatId;console.log("dialogmeta update",t,e),t===e.chatId&&o.forceUpdate()},o}return Object(p.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var o=this.props.chatId;return e.chatId!==o}},{key:"componentDidMount",value:function(){k.on("tgtMsgSend",this.onUpdate),k.on("updateChatLastMessage",this.onUpdate),k.on("updateChatReadInbox",this.onUpdate),k.on("updateChatUnreadMentionCount",this.onUpdate),k.on("updateMessageMentionRead",this.onUpdate)}},{key:"componentWillUnmount",value:function(){k.off("tgtMsgSend",this.onUpdate),k.off("updateChatLastMessage",this.onUpdate),k.off("updateChatReadInbox",this.onUpdate),k.off("updateChatUnreadMentionCount",this.onUpdate),k.off("updateMessageMentionRead",this.onUpdate)}},{key:"render",value:function(){if(this.clearHistory)return null;var e=this.props.chatId,t=k.get(e);if(console.log("dialogmeta",t),!t)return null;if(!t.last_msg)return null;var o=P(t);return o?r.a.createElement("div",{className:"dialog-meta"},o):null}}]),t}(r.a.Component)),V=(o(104),o(105),function(e){function t(){var e,o;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(o=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).onUpdate=function(e){o.props.chatId===e.chatId&&o.forceUpdate()},o}return Object(p.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var o=this.props,n=o.chatId,r=o.t;return e.chatId!==n||e.t!==r}},{key:"componentDidMount",value:function(){k.on("tgtMsgSend",this.onUpdate)}},{key:"componentWillUnmount",value:function(){k.off("tgtMsgSend",this.onUpdate)}},{key:"render",value:function(){var e=this.props,t=e.chatId,o=e.t,r=k.get(t),a=function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1],!e)return null;var t=e.last_msg;return t?x(t):null}(r,o)||"\xa0",s=function(e){return e?(t=e.last_msg)?t.getCid():null:null;var t}(r);return n.createElement("div",{className:"dialog-content"},s&&n.createElement("span",{className:"dialog-content-accent"},s,": "),a)}}]),t}(n.Component)),K=Object(A.a)()(V),q=(o(106),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var o=this.props.chatId;return e.chatId!==o}},{key:"render",value:function(){var e=this.props.chatId;return k.get(e)?r.a.createElement("div",{className:"dialog-badge"}):null}}]),t}(r.a.Component)),J=o(122),Q=o(124),H=o(151),$=function(e){function t(e){var o;Object(i.a)(this,t),(o=Object(l.a)(this,Object(c.a)(t).call(this,e))).onClientUpdateChatId=function(e){var t=o.props.chatId;t!==e.previousChatId&&t!==e.nextChatId||o.forceUpdate()},o.handleSelect=function(e){0===e.button&&T(o.props.chatId)},o.handleContextMenu=function(e){e&&(e.preventDefault(),e.stopPropagation());var t=o.props.chatId,n=o.state.contextMenu;if(console.log("handleContextMenu: ",t),n)o.setState({contextMenu:!1});else{var r=e.clientX,a=e.clientY;k.get(t);o.setState({contextMenu:!0,left:r,top:a})}},o.handleCloseContextMenu=function(e){e&&e.stopPropagation(),o.setState({contextMenu:!1})},o.handleViewInfo=function(e){o.handleCloseContextMenu(e),T(o.props.chatId,null,!0)},o.getViewInfoTitle=function(){var e=o.props.chatId,t=k.get(e);if(console.log("getViewInfoTitle",e,t),t)switch(t.conv.getType()){case 0:return"Single";case 1:return"Group"}},o.dialog=r.a.createRef();var n=k.get(o.props.chatId);return o.state={chat:n,contextMenu:!1,left:0,top:0},o}return Object(p.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e,t,o){var n=this.props,r=n.chatId,a=(n.t,n.hidden,n.isLastPinned,this.state.contextMenu);return e.chatId!==r||t.contextMenu!==a}},{key:"componentDidMount",value:function(){B.on("clientUpdateChatId",this.onClientUpdateChatId)}},{key:"componentWillUnmount",value:function(){B.off("clientUpdateChatId",this.onClientUpdateChatId)}},{key:"render",value:function(){var e=this.props.chatId,t=this.state,o=t.contextMenu,n=t.left,a=t.top,s=B.getChatId(),i=s===e;return console.log("currentChatId: ",s),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{ref:this.dialog,className:g()(i?"dialog-active":"dialog",{"item-selected":i}),onMouseDown:this.handleSelect,onContextMenu:this.handleContextMenu},r.a.createElement("div",{className:"dialog-wrapper"},r.a.createElement(j,{chatId:e}),r.a.createElement("div",{className:"dialog-inner-wrapper"},r.a.createElement("div",{className:"tile-first-row"},r.a.createElement(G,{chatId:e}),r.a.createElement(_,{chatId:e})),r.a.createElement("div",{className:"tile-second-row"},r.a.createElement(K,{chatId:e}),r.a.createElement(q,{chatId:e})))),r.a.createElement(J.a,{open:o,onClose:this.handleCloseContextMenu,anchorReference:"anchorPosition",anchorPosition:{top:a,left:n},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},onMouseDown:function(e){return e.stopPropagation()}},r.a.createElement(Q.a,{classes:{root:"menu-list"},onClick:function(e){return e.stopPropagation()}},r.a.createElement(H.a,{onClick:this.handleViewInfo},this.getViewInfoTitle())))))}}]),t}(r.a.Component),Y=(o(110),function(e){function t(e){var o;return Object(i.a)(this,t),(o=Object(l.a)(this,Object(c.a)(t).call(this,e))).onQueryConv=function(e){var t=k.getSortedItems();o.setState({chats:t},(function(){return o.onLoadNext(!0)}))},o.updateOrder=function(e){var t=k.getSortedItems();o.setState({chats:t},(function(){return o.onLoadNext(!0)}))},o.listRef=r.a.createRef(),o.state={chats:null,fistSliceLoaded:!1},o}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){k.on("queryConv",this.onQueryConv),k.on("tgtMsgSend",this.updateOrder)}},{key:"componentWillUnmount",value:function(){k.off("queryConv",this.onQueryConv),k.on("tgtMsgSend",this.updateOrder)}},{key:"shouldComponentUpdate",value:function(e,t,o){return!0}},{key:"scrollToTop",value:function(){this.listRef.current.scrollTop=0}},{key:"handleScroll",value:function(){}},{key:"render",value:function(){var e=this.state.chats,t=null;return e&&(t=e.map((function(e){return r.a.createElement($,{key:e,chatId:e})}))),r.a.createElement("div",{ref:this.listRef,className:"dialogs-list",onScroll:this.handleScroll},t)}},{key:"onLoadNext",value:function(e){}}]),t}(r.a.Component)),Z=(o(111),function(e){function t(e){var o;return Object(i.a)(this,t),(o=Object(l.a)(this,Object(c.a)(t).call(this,e))).handleLogOut=function(){o.setState({open:!0})},o.state={open:!1},o}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"header-master"},r.a.createElement("div",{className:"header-status grow cursor-pointer"},r.a.createElement("span",{className:"header-status-content"},"IMNut")))}}]),t}(r.a.Component)),X=o(69);o(68);function ee(e,t){if(!e)return null;if(0===e.length)return null;if(0===t)return null;for(var o=e[0].width>=e[0].height,n=Math.abs(t-(o?e[0].width:e[0].height)),r=0,a=1;a<e.length;a++)if("i"!==e[a].type||e[a].photo.local.is_downloading_completed){var s=Math.abs(t-(o?e[a].width:e[a].height));s<n&&(r=a,s=n)}return e[r]}function te(e,t){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e?!o&&e.width<t&&e.height<t?e:e.width>e.height?{width:t,height:Math.floor(e.height*t/e.width)}:{width:Math.floor(e.width*t/e.height),height:t}:{width:0,height:0}}var oe=o(28),ne=o(37),re=new(function(){function e(){var t=this;Object(i.a)(this,e),this.onWorkerMessage=function(e){var o=e.data;if(o){var n=o.handlerKey,r=o.cache,a=t.handlers.get(n);if(a){var s=a.command,i=a.resolve;a.reject;switch(s){case"save":i();break;case"load":i(r)}}}},this.handlers=new Map,this.messageM=new Map}return Object(u.a)(e,[{key:"load",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var o,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O.localStorage){e.next=8;break}if(o=localStorage.getItem(t)){e.next=4;break}return e.abrupt("return",null);case 4:return n=JSON.parse(o),e.abrupt("return",n);case 8:return e.next=10,Object(oe.d)(t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=Object(f.a)(h.a.mark((function e(t,o){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O.localStorage){e.next=4;break}localStorage.setItem(t,JSON.stringify(o)),e.next=6;break;case 4:return e.next=6,Object(oe.f)(t,o);case 6:case"end":return e.stop()}}),e)})));return function(t,o){return e.apply(this,arguments)}}()},{key:"saveMessage",value:function(){var e=Object(f.a)(h.a.mark((function e(t,o,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=this.messageM.get(t))||(r=new oe.a("conv_"+t),this.messageM.set(t,r)),n=Object(m.a)({},n,{msg:n.msg.serializeBinary()}),Object(oe.f)(o,n,r);case 4:case"end":return e.stop()}}),e,this)})));return function(t,o,n){return e.apply(this,arguments)}}()},{key:"loadMessages",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var o,n,r,a,s,i,u,l,c,p;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("CacheStore loadMessages ids: ",t),(o=this.messageM.get(t))||(o=new oe.a("conv_"+t),this.messageM.set(t,o)),n=new Map,e.next=6,Object(oe.e)(o);case 6:r=e.sent,console.log("CacheStore loadMessages ids: ",r),a=!0,s=!1,i=void 0,e.prev=11,u=r[Symbol.iterator]();case 13:if(a=(l=u.next()).done){e.next=23;break}return c=l.value,e.next=17,Object(oe.d)(c,o);case 17:(p=e.sent)&&p.msg&&(p=Object(m.a)({},p,{msg:ne.Msg.deserializeBinary(p.msg)})),n.set(c,p);case 20:a=!0,e.next=13;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(11),s=!0,i=e.t0;case 29:e.prev=29,e.prev=30,a||null==u.return||u.return();case 32:if(e.prev=32,!s){e.next=35;break}throw i;case 35:return e.finish(32);case 36:return e.finish(29);case 37:return e.abrupt("return",n);case 38:case"end":return e.stop()}}),e,this,[[11,25,29,37],[30,,32,36]])})));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(oe.c)(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clear",value:function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(oe.b)();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}()),ae=Object.freeze({STATE_NONE:0,STATE_SEND:1,STATE_ACK:2,STATE_RECEIPT:3,STATE_READ:4});var se=new(function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(c.a)(t).call(this))).reset=function(){e.items=new Map,e.loaded=new Set},e.onUpdate=function(t){switch(t["@type"]){case"tgtMsgSend":var o=t.msg;e.set(o),e.emit("tgtMsgSend",t);break;case"msgAck":var n=t.msgAck;e.updateLocal(n),e.emit("msgAck",t);break;case"msgRead":var r=t.msgRead;e.updateRead(r),e.emit("msgRead",t)}},e.onClientUpdate=function(t){switch(t["@type"]){case"clientSendMessage":e.setLocal(t.msg),e.emitUpdate(t);break;case"clientUpdateCacheLoaded":e.emitUpdate(t)}},e.emitUpdate=function(t){e.emit(t["@type"],t)},e.reset(),e.addIMListener(),e.setMaxListeners(1/0),e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"addIMListener",value:function(){O.addListener("update",this.onUpdate),O.addListener("clientUpdate",this.onClientUpdate)}},{key:"set",value:function(e){if(e){var t=this.items.get(e.getConversationid());t||(t=new Map,this.items.set(e.getConversationid(),t));var o={state:ae.STATE_RECEIPT,msg:e,ts:e.getAckts()/1e6};t.set(e.getId(),o),le.saveMessage(e.getConversationid(),e.getId(),o)}}},{key:"setLocal",value:function(e){if(e){var t=this.items.get(e.getConversationid());t||(t=new Map,this.items.set(e.getConversationid(),t));var o={state:ae.STATE_SEND,msg:e,ts:e.getJetts()};t.set(e.getJetts(),o),le.saveMessage(e.getConversationid(),e.getJetts(),o)}}},{key:"updateRead",value:function(e){if(e){var t=this.items.get(e.getConversationid());if(t){var o=e.getId(),n=t.get(o);if(n){n.state=ae.STATE_READ;var r=Object(m.a)({},n,{state:ae.STATE_READ});t.set(o,r),le.saveMessage(n.msg.getConversationid(),o,r)}}}}},{key:"updateLocal",value:function(e){if(e){var t=this.items.get(e.getConversationid());if(t){var o=e.getJetts(),n=t.get(o);if(n){n.msg.setAckts(e.getAckts()),n.msg.setId(e.getId()),n.state=ae.STATE_ACK;var r=Object(m.a)({},n,{state:ae.STATE_ACK});t.set(e.getJetts(),r),le.saveMessage(n.msg.getConversationid(),o,r)}}}}},{key:"get",value:function(e,t){var o=this.items.get(e);if(!o)return null;var n=o.get(t);return n||null}},{key:"addMessages",value:function(e,t){console.log("MessageStore addMessages",e,t);var o=this.items.get(e);o||(o=new Map,this.items.set(e,o)),t.forEach((function(e,t){o.set(t,e)}))}},{key:"getMessages",value:function(e){console.log("MessageStore getMessages",e),this.loaded.has(e)&&this.loaded.add(e);var t=this.items.get(e);return t?Array.from(t.values()).sort((function(e,t){return e.ts>t.ts?1:-1})):[]}}]),t}(y.EventEmitter));window.message=se;var ie=se,ue=new(function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(c.a)(t).call(this))).reset=function(){e.chatIds=[],e.cache=null},e.onUpdate=function(t){switch(t["@type"]){case"updateAuthorizationState":var o=t.authorization_state;if(!o)break;switch(o["@type"]){case"authorizationStateClosed":e.reset();break;case"authorizationStateLoggingOut":case"authorizationStateWaitCode":case"authorizationStateWaitPhoneNumber":case"authorizationStateWaitPassword":case"authorizationStateWaitRegistration":re.remove("cache"),re.remove("files")}}},e.onClientUpdate=function(e){},e.reset(),e.addIMListener(),e.setMaxListeners(1/0),e.saveChatsInternal=function(e,t,o){var n;return function(){var r=this,a=arguments,s=function(){n=null,o||e.apply(r,a)},i=o&&!n;clearTimeout(n),n=setTimeout(s,t),i&&e.apply(r,a)}}(e.saveChatsInternal,2e3),e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"addIMListener",value:function(){O.addListener("update",this.onUpdate),O.addListener("clientUpdate",this.onClientUpdate)}},{key:"loadCache",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,o,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=[]).push(re.load("cache").catch((function(e){return null}))),e.next=4,Promise.all(t);case 4:if(o=e.sent,n=Object(X.a)(o,2),r=n[0],n[1],this.cache=r,this.cache){e.next=11;break}return e.abrupt("return",null);case 11:return this.parseCache(this.cache),e.abrupt("return",this.cache);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"parseCache",value:function(e){if(e)e.chats}},{key:"getCache",value:function(e){new Map,new Map;return{chats:e.map((function(e){return k.get(e)}))}}},{key:"saveChats",value:function(e){this.chatIds=e,this.saveChatsInternal()}},{key:"saveChatsInternal",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getCache(this.chatIds),e.next=3,re.save("cache",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"saveMessage",value:function(e,t,o){this.saveMessageInternal(e,t,o)}},{key:"saveMessageInternal",value:function(){var e=Object(f.a)(h.a.mark((function e(t,o,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.saveMessage(t,o,n);case 2:case"end":return e.stop()}}),e)})));return function(t,o,n){return e.apply(this,arguments)}}()},{key:"loadMessages",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.loadMessages(t);case 2:o=e.sent,console.log("CacheStore loadMessages",t,o),ie.addMessages(t,o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),t}(y.EventEmitter));window.cache=ue;var le=ue,ce=function(e){function t(e){var o;return Object(i.a)(this,t),(o=Object(l.a)(this,Object(c.a)(t).call(this,e))).handleHeaderClick=function(){o.dialogListRef.current.scrollToTop()},o.dialogsHeaderRef=r.a.createRef(),o.dialogListRef=r.a.createRef(),o}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.loadCache()}},{key:"loadCache",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.loadCache();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:t=e.t0,t.chats,t.archiveChats,this.setState({cache:t}),O.clientUpdate({"@type":"clientUpdateCacheLoaded"});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:g()("dialogs")},r.a.createElement(Z,{ref:this.dialogsHeaderRef,onClick:this.handleHeaderClick}),r.a.createElement("div",{className:"dialogs-content"},r.a.createElement(Y,{ref:this.dialogListRef})))}}]),t}(r.a.Component),pe=(o(112),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.date;e.i18n;return r.a.createElement("div",{className:"day-meta"},r.a.createElement("div",{className:"day-meta-wrapper"},r.a.createElement("div",null,new Date(1e3*t).toLocaleDateString("zh-cn",{day:"numeric",month:"long"}))))}}]),t}(r.a.Component)),de=Object(A.a)()(pe),ge=(o(113),o(70)),Me=o(67),he=o.n(Me),fe=o(20),Ie=new(function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(c.a)(t).call(this))).reset=function(){e.items=new Map,e.fullInfoItems=new Map},e.onUpdate=function(e){},e.onClientUpdate=function(e){},e.reset(),e.addIMListener(),e.setMaxListeners(1/0),e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"addIMListener",value:function(){O.addListener("update",this.onUpdate),O.addListener("clientUpdate",this.onClientUpdate)}},{key:"get",value:function(e){return this.items.get(e)}},{key:"set",value:function(e){this.items.set(e.id,e)}}]),t}(y.EventEmitter));window.user=Ie;var me=Ie,ye=(o(115),function(e){function t(e){var o;return Object(i.a)(this,t),(o=Object(l.a)(this,Object(c.a)(t).call(this,e))).onClientUpdateUserBlob=function(e){o.props.userId===e.userId&&(o.state.loaded?o.setState({loaded:!1}):o.forceUpdate())},o.onClientUpdateChatBlob=function(e){var t=o.props.userId,n=e.chatId,r=k.get(n);if(r&&r.type)switch(r.type["@type"]){case"chatTypeBasicGroup":case"chatTypeSupergroup":return;case"chatTypePrivate":case"chatTypeSecret":if(r.type.user_id!==t)return;o.state.loaded?o.setState({loaded:!1}):o.forceUpdate()}},o.onUpdateChatPhoto=function(e){o.props.userId;var t=e.chat_id,n=(e.photo,k.get(t));n&&n.type&&n.type["@type"]},o.onUpdateChatTitle=function(e){var t=o.props.userId,n=k.get(e.chat_id);if(n&&n.type)switch(n.type["@type"]){case"chatTypeBasicGroup":case"chatTypeSupergroup":return;case"chatTypePrivate":case"chatTypeSecret":if(n.type.user_id!==t&&!n.photo)return;o.forceUpdate()}},o.handleSelect=function(e){var t=o.props,n=t.userId,r=t.onSelect;r&&(e.stopPropagation(),r(n))},o.handleLoad=function(){o.setState({loaded:!0})},o.state={loaded:!1},o}return Object(p.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.userId!==this.props.userId||t.loaded!==this.state.loaded}},{key:"componentDidMount",value:function(){S.on("clientUpdateUserBlob",this.onClientUpdateUserBlob),S.on("clientUpdateChatBlob",this.onClientUpdateChatBlob),k.on("updateChatPhoto",this.onUpdateChatPhoto),k.on("updateChatTitle",this.onUpdateChatTitle)}},{key:"componentWillUnmount",value:function(){S.off("clientUpdateUserBlob",this.onClientUpdateUserBlob),S.off("clientUpdateChatBlob",this.onClientUpdateChatBlob),k.off("updateChatPhoto",this.onUpdateChatPhoto),k.off("updateChatTitle",this.onUpdateChatTitle)}},{key:"render",value:function(){var e=this.props,t=e.userId,o=e.fistName,n=e.lastName,a=e.onSelect,s=e.small,i=this.state.loaded,u=me.get(t);if(!u&&!o&&!n)return null;var l=F(u&&u.profile_photo?u.profile_photo.small:null),c=l&&i,p="tile_color_".concat(Math.abs(t)%8+1);return r.a.createElement("div",{className:g()("user-tile",Object(fe.a)({},p,!c),{pointer:a},{"tile-small":s}),onClick:this.handleSelect},!c&&r.a.createElement("div",{className:"tile-photo"},r.a.createElement("span",{className:"tile-text"},"getUserLetters")),l&&r.a.createElement("img",{className:"tile-photo",src:l,onLoad:this.handleLoad,draggable:!1,alt:""}))}}]),t}(n.Component)),Ne=(o(116),function(e){function t(e){var o;Object(i.a)(this,t),(o=Object(l.a)(this,Object(c.a)(t).call(this,e))).onClientUpdateClearSelection=function(e){o.state.selected&&o.setState({selected:!1})},o.onClientUpdateMessageHighlighted=function(e){var t=o.props,n=t.chatId,r=t.messageId,a=o.state,s=a.selected,i=a.highlighted;s||(n===e.chatId&&r===e.messageId?i?o.setState({highlighted:!1},(function(){setTimeout((function(){o.setState({highlighted:!0})}),0)})):o.setState({highlighted:!0}):i&&o.setState({highlighted:!1}))},o.onClientUpdateMessageSelected=function(e){var t=o.props,n=t.chatId,r=t.messageId,a=e.selected;n===e.chatId&&r===e.messageId&&o.setState({selected:a,highlighted:!1})},o.onUpdateMessageEdited=function(e){var t=e.chat_id,n=e.message_id,r=o.props,a=r.chatId,s=r.messageId;a===t&&s===n&&o.forceUpdate()},o.onUpdateMessageViews=function(e){var t=e.chat_id,n=e.message_id,r=o.props,a=r.chatId,s=r.messageId;a===t&&s===n&&o.forceUpdate()},o.onUpdateMessageContent=function(e){var t=e.chat_id,n=e.message_id,r=o.props,a=r.chatId,s=r.messageId,i=o.state.emojiMatches;if(a===t&&s===n){!1!==i?o.setState({emojiMatches:!1}):o.forceUpdate()}},o.handleSelectUser=function(e){},o.handleSelectChat=function(e){T(e,null,!0)},o.handleSelection=function(){o.mouseDown},o.handleAnimationEnd=function(){o.setState({highlighted:!1})},o.handleMouseDown=function(){o.mouseDown=!0},o.handleMouseOver=function(){o.mouseDown=!1},o.handleMouseOut=function(){o.mouseOut=!1},o.handleContextMenu=function(){var e=Object(f.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(t.preventDefault(),t.stopPropagation()),o.state.contextMenu?o.setState({contextMenu:!1}):(n=t.clientX,r=t.clientY,o.setState({contextMenu:!0,left:n,top:r}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.handleCloseContextMenu=function(e){e&&e.stopPropagation(),o.setState({contextMenu:!1})},o.handleSelect=function(e){var t=o.props;t.chatId,t.messageId;o.handleCloseContextMenu(e)};var n=o.props,r=n.chatId,a=n.messageId;return o.state={message:ie.get(r,a),selected:!1,highlighted:!1},o}return Object(p.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var o=this.props,n=o.theme,r=o.chatId,a=o.messageId,s=o.sendingState,i=o.showUnreadSeparator,u=o.showTail,l=o.showTitle,c=this.state,p=c.contextMenu,d=c.selected,g=c.highlighted,M=c.emojiMatches;return e.theme!==n||(e.chatId!==r||(e.messageId!==a||(e.sendingState!==s||(e.showUnreadSeparator!==i||(e.showTail!==u||(e.showTitle!==l||(t.contextMenu!==p||(t.selected!==d||(t.highlighted!==g||t.emojiMatches!==M)))))))))}},{key:"componentDidMount",value:function(){ie.on("clientUpdateMessageHighlighted",this.onClientUpdateMessageHighlighted),ie.on("clientUpdateMessageSelected",this.onClientUpdateMessageSelected),ie.on("clientUpdateClearSelection",this.onClientUpdateClearSelection),ie.on("updateMessageContent",this.onUpdateMessageContent),ie.on("updateMessageEdited",this.onUpdateMessageEdited),ie.on("updateMessageViews",this.onUpdateMessageViews)}},{key:"componentWillUnmount",value:function(){ie.off("clientUpdateMessageHighlighted",this.onClientUpdateMessageHighlighted),ie.off("clientUpdateMessageSelected",this.onClientUpdateMessageSelected),ie.off("clientUpdateClearSelection",this.onClientUpdateClearSelection),ie.off("updateMessageContent",this.onUpdateMessageContent),ie.off("updateMessageEdited",this.onUpdateMessageEdited),ie.off("updateMessageViews",this.onUpdateMessageViews)}},{key:"getMessageStyle",value:function(e,t){var o=ie.get(e,t);if(!o)return null;var n=o.content;if(!n)return null;switch(n["@type"]){case"messageAnimation":var r=n.animation;if(!r)return null;var a=r.width,s=r.height,i=r.thumbnail,u={width:a,height:s}||i;if(!u)return null;var l=te(u,420,!1);return l?{width:l.width}:null;case"messagePhoto":var c=n.photo;if(!c)return null;var p=ee(c.sizes,320);if(!p)return null;var d=te(p,420,!1);return d?{width:d.width}:null;case"messageVideo":var g=n.video;if(!g)return null;var M=g.thumbnail,h={width:g.width,height:g.height}||M;if(!h)return null;var f=te(h,420);return f?{width:f.width}:null}return null}},{key:"render",value:function(){var e=this.props,t=(e.t,e.chatId),o=e.messageId,n=(e.showUnreadSeparator,e.showTail),a=(e.showTitle,this.state),s=(a.emojiMatches,a.selected,a.highlighted,a.contextMenu,a.left,a.top,ie.get(t,o));if(!s)return r.a.createElement("div",null,"[empty message]");s.state;var i=s.msg,u=s.msg.getCid(),l=u===B.getCid(),c=W(i),p=null;n&&(p=u?r.a.createElement(ye,{small:!0,userId:u,onSelect:this.handleSelectUser}):r.a.createElement(j,{small:!0,chatId:t,onSelect:this.handleSelectChat}));var d=this.getMessageStyle(t,o);return r.a.createElement("div",{className:g()("message",{"message-out":l}),onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onMouseDown:this.handleMouseDown,onClick:this.handleSelection,onAnimationEnd:this.handleAnimationEnd,onContextMenu:this.handleContextMenu},r.a.createElement("div",{className:"message-body"},r.a.createElement("div",{className:"message-padding"},r.a.createElement(he.a,{className:"message-select-tick"})),r.a.createElement("div",{className:g()("message-wrapper",{})},p,r.a.createElement("div",{className:g()("message-content",{"message-bubble":!1,"message-bubble-out":!1}),style:d},r.a.createElement("div",{className:g()("message-text")},c)),r.a.createElement("div",{className:"message-tile-padding"})),r.a.createElement("div",{className:"message-padding"})))}}]),t}(n.Component)),ve=Object(ge.a)(Object(A.a)())(Ne),be=function(e){function t(e){var o;return Object(i.a)(this,t),(o=Object(l.a)(this,Object(c.a)(t).call(this,e))).onNewMessage=function(e){var t=e.msg,n=o.props.chatId;console.log(n,t.getConversationid()),n===t.getConversationid()&&(O.readMessage(n,t.getId()),o.setState({history:ie.getMessages(n)}),o.scrollToBottom())},o.onLoadCache=function(e){var t=o.props.chatId;o.setState({history:ie.getMessages(t)}),o.scrollToBottom()},o.onSendMessage=function(e){var t=o.props.chatId;o.setState({history:ie.getMessages(t)}),o.scrollToBottom()},o.onAckMessage=function(e){var t=o.props.chatId;o.setState({history:ie.getMessages(t)}),o.scrollToBottom()},o.onReadMessage=function(e){},o.scrollToBottom=function(){var e=o.props,t=(e.chatId,e.messageId,o.listRef.current);t.scrollHeight-t.offsetHeight!==t.scrollTop&&(t.scrollTop=t.scrollHeight-t.offsetHeight)},o.scrollToStart=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),o.handleListDragEnter=function(e){e.preventDefault(),e.stopPropagation();o.props.chatId;console.log("handleListDragEnter: ",e)},o.handleScroll=function(){},console.log("MessagesList.ctor chat_id=".concat(e.chatId," message_id=").concat(e.messageId)),o.sessionId=Date.now(),o.state={history:[]},o.listRef=r.a.createRef(),o.itemsRef=r.a.createRef(),o}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e,t,o){var n=this.props,r=n.chatId,a=n.messageId;this.state.scrollDownVisible;e.chatId===r&&e.messageId===a||this.handleSelectChat(r,e.chatId,a,e.messageId)}},{key:"componentDidMount",value:function(){ie.on("tgtMsgSend",this.onNewMessage),ie.on("msgAck",this.onAckMessage),ie.on("clientUpdateCacheLoaded",this.onLoadCache),ie.on("msgRead",this.onReadMessage),ie.on("clientSendMessage",this.onSendMessage)}},{key:"componentWillUnmount",value:function(){ie.off("tgtMsgSend",this.onNewMessage),ie.off("msgAck",this.onAckMessage),ie.off("clientUpdateCacheLoaded",this.onLoadCache),ie.off("msgRead",this.onReadMessage),ie.off("clientSendMessage",this.onSendMessage)}},{key:"shouldComponentUpdate",value:function(e,t,o){var n,r,a=this.props,s=a.chatId,i=(a.messageId,a.theme,this.state),u=(i.playerOpened,i.history);i.dragging,i.clearHistory,i.selectionActive,i.scrollDownVisible;return e.chatId!==s?(console.log("[ml] shouldComponentUpdate chatId"),!0):(n=t.history,r=u,!!(!n&&r||n&&!r||(n||r)&&(0!==n.length||0!==r.length)&&n!==r))}},{key:"handleSelectChat",value:function(){var e=Object(f.a)(h.a.mark((function e(t,o,n,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.get(t),k.get(o),this.readMessages();case 3:case"end":return e.stop()}}),e,this)})));return function(t,o,n,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.chatId,o=ie.getMessages(t);return this.messages=o?o.map((function(n,a){var s=a>0?o[a-1].msg:null;a<o.length-1&&o[a+1].msg;console.log("msglist",t,n.msg);var i,u=e.showMessageDate(n.msg,s,0===a),l=(i=n.state)===ae.STATE_SEND||i===ae.STATE_ACK?n.msg.getJetts():n.msg.getId();n.msg.getId()?n.msg.getAckts():n.msg.getJetts();console.log("MessagesList render messages:",l,n.msg);var c=null;return n.msg&&(c=r.a.createElement(ve,{key:"chat_id=".concat(n.msg.getConversationid()," message_id=").concat(l),ref:function(t){return e.itemsMap.set(a,t)},chatId:n.msg.getConversationid(),messageId:l,showTitle:!1,showTail:!1,showUnreadSeparator:!1})),r.a.createElement("div",{key:"chat_id=".concat(n.msg.getConversationid()," message_id=").concat(l)},u&&r.a.createElement(de,{date:n.msg.getAckts()/1e9}),c)})):null,r.a.createElement("div",{className:"messages-list",onDragEnter:this.handleListDragEnter},r.a.createElement("div",{ref:this.listRef,className:"messages-list-wrapper",onScroll:this.handleScroll},r.a.createElement("div",{className:"messages-list-top"}),r.a.createElement("div",{ref:this.itemsRef,className:"messages-list-items"},this.messages)))}},{key:"showMessageDate",value:function(e,t,o){if(o)return!0;var n=new Date(e.getAckts()/1e6),r=t?new Date(t.getAckts()/1e6):n;return n.getFullYear()!==r.getFullYear()||n.getMonth()!==r.getMonth()||n.getDate()!==r.getDate()}},{key:"readMessages",value:function(){var e=this.props.chatId;ie.getMessages(e).forEach((function(t){t.state===ae.STATE_RECEIPT&&O.readMessage(e,t.msg.getId())}))}}]),t}(r.a.Component),Ce=function(e){function t(e){var o;return Object(i.a)(this,t),(o=Object(l.a)(this,Object(c.a)(t).call(this,e))).state={connectionState:B.getConnectionState(),openDeleteDialog:!1},o}return Object(p.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return t!==this.state}},{key:"render",value:function(){return r.a.createElement("div",{className:"header"})}}]),t}(r.a.Component),Oe=(o(119),o(148)),Ee=o(30),ke=Object(Ee.a)(r.a.createElement("path",{d:"M2.65383364,2.92607697 L4.145798,9.778632 C4.26700994,10.3353554 4.73555061,10.7489799 5.30300879,10.8002098 L16.196355,11.7836569 C16.3159306,11.7944521 16.4041145,11.9001385 16.3933192,12.0197141 C16.3838746,12.1243302 16.3009783,12.2072294 16.1963626,12.2166777 L5.30295988,13.2005138 C4.73552551,13.2517615 4.26701089,13.6653731 4.14579755,14.2220735 L2.65385781,21.074154 C2.55168485,21.543407 2.84926209,22.0066394 3.31851517,22.1088123 C3.50628037,22.1496954 3.70229947,22.1272304 3.87594675,22.0449272 L23.4110848,12.7858981 C23.8450551,12.5802101 24.0301144,12.0616646 23.8244264,11.6276943 C23.7384721,11.4463438 23.5924353,11.300307 23.4110848,11.2143527 L3.87592461,1.95531307 C3.44195432,1.74962507 2.92340882,1.93468443 2.71772082,2.36865471 C2.63541897,2.54229904 2.61295329,2.73831451 2.65383364,2.92607697 Z"}),"Send"),Re=(o(120),Object(Ee.a)(r.a.createElement("path",{d:"M11.657825,8.68730116 L7.89384699,12.5266719 C6.53977525,13.9078658 6.53979565,16.118605 7.89389288,17.4997739 C9.18119565,18.812813 11.2598788,18.8798255 12.6276396,17.6859428 L12.8071445,17.5177786 L19.3928802,10.8005213 C21.4766204,8.67512215 21.4766204,5.27313659 19.3928802,3.14773741 C17.4051081,1.12022499 14.1862843,1.0310006 12.0906645,2.90336495 L11.834659,3.14773741 L5.26671543,9.84699003 C2.45333216,12.7166196 2.45333216,17.3098454 5.26671543,20.179475 C7.96150749,22.9281424 12.3352577,23.0332941 15.1578204,20.4629606 L15.452067,20.1794113 L19.2160679,16.340063 C19.6027032,15.945688 19.596429,15.3125541 19.202054,14.9259188 C18.8076791,14.5392835 18.1745452,14.5455577 17.7879099,14.9399327 L13.9520378,18.8511531 C11.9281881,20.8353343 8.67903707,20.8031766 6.6948559,18.7793268 C4.64395201,16.6874204 4.64395201,13.3390446 6.6948559,11.2471382 L13.3088798,4.50180526 C14.6072848,3.22884976 16.6917843,3.24948061 17.9647398,4.54788555 C19.2860006,5.89556155 19.2860006,8.05269718 17.9647398,9.40037319 L11.3764629,16.119959 C10.803533,16.6816592 9.88373353,16.6725557 9.32203335,16.0996258 C8.73040544,15.4961698 8.73039653,14.5302606 9.3220133,13.9267937 L13.0859914,10.0874229 C13.4726243,9.6930457 13.4663463,9.05991185 13.0719691,8.67327889 C12.6775919,8.28664594 12.044458,8.29292392 11.657825,8.68730116 Z"}),"Attach")),Be=Object(Ee.a)(r.a.createElement("path",{d:"M12.1715729,2 C12.9672223,2 13.7302841,2.31607052 14.2928932,2.87867966 L21.1213203,9.70710678 C21.6839295,10.2697159 22,11.0327777 22,11.8284271 L22,19 C22,20.6568542 20.6568542,22 19,22 L5,22 C3.34314575,22 2,20.6568542 2,19 L2,5 C2,3.34314575 3.34314575,2 5,2 L12.1715729,2 Z M11,4 L5,4 C4.44771525,4 4,4.44771525 4,5 L4,19 C4,19.5522847 4.44771525,20 5,20 L19,20 C19.5522847,20 20,19.5522847 20,19 L20,13 L14,13 C12.4023191,13 11.0963391,11.75108 11.0050927,10.1762728 L11,10 L11,4 Z M19.586,11 L13,4.414 L13,10 C13,10.5128358 13.3860402,10.9355072 13.8833789,10.9932723 L14,11 L19.586,11 Z"}),"Document"),Te=o(150),we=o(152),Se=o(149),Fe=Object(Ee.a)(r.a.createElement("path",{d:"M19,2 C20.6568542,2 22,3.34314575 22,5 L22,19 C22,20.6568542 20.6568542,22 19,22 L5,22 C3.34314575,22 2,20.6568542 2,19 L2,5 C2,3.34314575 3.34314575,2 5,2 L19,2 Z M8.95903938,14.4653367 L8.89694708,14.4202095 C8.68789701,14.291568 8.42133316,14.3352159 8.26303498,14.5116789 L8.2090719,14.5840012 L4.88033327,19.9929138 L4.93969424,19.9982115 L4.93969424,19.9982115 L12.446,20 L9.05890452,14.5810435 C9.0316623,14.5374559 8.99794603,14.4984621 8.95903938,14.4653367 L8.89694708,14.4202095 L8.95903938,14.4653367 Z M15.6580762,12.1926572 C15.4476303,12.0663122 15.1815603,12.1128758 15.0252035,12.2910614 L14.9720355,12.3639701 L12.551,16.396 L14.803,20 L19,20 C19.5410622,20 19.9817615,19.5702952 19.9994483,19.0335352 L15.8247114,12.3563345 C15.7828678,12.2893847 15.7257647,12.2332952 15.6580762,12.1926572 Z M19,4 L5,4 C4.44771525,4 4,4.44771525 4,5 L4,17.606 L6.50573804,13.5358344 C7.19919591,12.4089238 8.64230264,12.0252274 9.79631538,12.6320827 L9.94511393,12.7168756 C10.2187146,12.885239 10.4567799,13.1044297 10.6467737,13.3619985 L10.7549011,13.5210456 L11.361,14.492 L13.2573282,11.3345145 C13.9384069,10.2000794 15.3772263,9.80060652 16.5378139,10.3947912 L16.6875318,10.4779499 C16.9695672,10.6472749 17.2148477,10.8702509 17.409849,11.1335934 L17.5207081,11.2963367 L20,15.264 L20,5 C20,4.44771525 19.5522847,4 19,4 Z"}),"SharedMedia"),je=function(e){function t(){var e,o;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(o=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},o.handleMenuClick=function(e){o.setState({anchorEl:e.currentTarget})},o.handleMenuClose=function(){o.setState({anchorEl:null})},o.handleAttachPhoto=function(){o.handleMenuClose();var e=o.props.onAttachPhoto;e&&setTimeout((function(){return e()}),300)},o.handleAttachDocument=function(){o.handleMenuClose();var e=o.props.onAttachDocument;e&&setTimeout((function(){return e()}),300)},o.handleAttachPoll=function(){o.handleMenuClose();var e=o.props.onAttachPoll;e&&e()},o}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.classes,e.t),o=(e.chatId,this.state.anchorEl);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe.a,{className:"inputbox-icon-button","aria-label":"Attach",open:Boolean(o),onClick:this.handleMenuClick},r.a.createElement(Re,null)),r.a.createElement(Se.a,{id:"attach-menu",anchorEl:o,open:Boolean(o),getContentAnchorEl:null,disableAutoFocusItem:!0,disableRestoreFocus:!0,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"},onClose:this.handleMenuClose},r.a.createElement(H.a,{onClick:this.handleAttachPhoto},r.a.createElement(Te.a,null,r.a.createElement(Fe,null)),r.a.createElement(we.a,{primary:t("AttachPhoto")})),r.a.createElement(H.a,{onClick:this.handleAttachDocument},r.a.createElement(Te.a,null,r.a.createElement(Be,null)),r.a.createElement(we.a,{primary:t("AttachDocument")}))))}}]),t}(r.a.Component),Ae=Object(A.a)()(je),Le=o(37),De=function(e){function t(e){var o;Object(i.a)(this,t),(o=Object(l.a)(this,Object(c.a)(t).call(this,e))).onClientUpdateChatId=function(e){o.state.chatId!==e.nextChatId&&o.setState({chatId:e.nextChatId})},o.handleKeyDown=function(e){var t=e.altKey,n=e.ctrlKey,r=e.keyCode,a=e.metaKey,s=e.repeat,i=e.shiftKey;switch(r){case 13:t||n||a||i||(s||o.handleSubmit(),e.preventDefault(),e.stopPropagation());break;case 27:t||n||a||i||(s||o.handleCancel(),e.preventDefault(),e.stopPropagation())}},o.handleSubmit=function(){var e=o.state,t=(e.chatId,e.editMessageId,o.newMessageRef.current);if(t){var n=t.innerHTML;t.innerText=null,o.handleInput(),n&&n.trim()&&(n=(n=(n=n.replace(/<div><br><\/div>/gi,"<br>")).replace(/<div>/gi,"<br>")).replace(/<\/div>/gi,""),o.sendMessage(n,!1,(function(e){})))}},o.sendMessage=function(){var e=Object(f.a)(h.a.mark((function e(t,n,r){var a,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new Le.Msg,console.log("IMController sendMsg",t),a.setConversationid(o.state.chatId),a.setCid(B.getCid()),a.setType(Le.MsgType.TEXT),a.setJetts(Date.now()),a.setBlob(new TextEncoder("utf-8").encode(t)),(s=k.get(o.state.chatId))||console.error("sendMessage failed!"),O.sendMsg(a,s.conv);case 10:case"end":return e.stop()}}),e)})));return function(t,o,n){return e.apply(this,arguments)}}(),o.attachDocumentRef=r.a.createRef(),o.attachPhotoRef=r.a.createRef(),o.newMessageRef=r.a.createRef();var n=B.getChatId();return o.state={chatId:n},o}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){B.on("clientUpdateChatId",this.onClientUpdateChatId)}},{key:"componentWillUnmount",value:function(){B.off("clientUpdateChatId",this.onClientUpdateChatId)}},{key:"render",value:function(){var e=this.state.chatId;return r.a.createElement("div",{className:"inputbox-background"},r.a.createElement("div",{className:"inputbox"},r.a.createElement("div",{className:"inputbox-bubble"},r.a.createElement("div",{className:"inputbox-wrapper"},r.a.createElement("div",{className:"inputbox-left-column"}),r.a.createElement("div",{className:"inputbox-middle-column"},r.a.createElement("div",{id:"inputbox-message",ref:this.newMessageRef,contentEditable:!0,suppressContentEditableWarning:!0,onKeyDown:this.handleKeyDown,onPaste:this.handlePaste,onInput:this.handleInput})),r.a.createElement("div",{className:"inputbox-right-column"},r.a.createElement("input",{ref:this.attachDocumentRef,className:"inputbox-attach-button",type:"file",multiple:"multiple",onChange:this.handleAttachDocumentComplete}),r.a.createElement("input",{ref:this.attachPhotoRef,className:"inputbox-attach-button",type:"file",multiple:"multiple",accept:"image/*",onChange:this.handleAttachPhotoComplete}),r.a.createElement(Ae,{chatId:e,onAttachPhoto:this.handleAttachPhoto,onAttachDocument:this.handleAttachDocument,onAttachPoll:this.handleAttachPoll})))),r.a.createElement("div",{className:"inputbox-send-button-background"},r.a.createElement(Oe.a,{className:"inputbox-send-button","aria-label":"Send",size:"small",onClick:this.handleSubmit},r.a.createElement(ke,null)))))}},{key:"handleInput",value:function(){}},{key:"handleAttachDocumentComplete",value:function(){}},{key:"handleAttachPhotoComplete",value:function(){}},{key:"handlePaste",value:function(){}}]),t}(r.a.Component),Ue=function(e){function t(e){var o;return Object(i.a)(this,t),(o=Object(l.a)(this,Object(c.a)(t).call(this,e))).onClientUpdateChatId=function(e){o.setState({chatId:e.nextChatId,messageId:e.nextMessageId})},o.scrollToBottom=function(){o.messagesList.scrollToBottom()},o.scrollToStart=function(){o.messagesList.scrollToStart()},o.scrollToMessage=function(){o.messagesList.scrollToMessage()},o.state={chatId:B.getChatId(),messageId:B.getMessageId(),selectedCount:0},o}return Object(p.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var o=this.state,n=o.chatId,r=o.messageId,a=o.selectedCount;return t.chatId!==n||(t.messageId!==r||t.selectedCount!==a)}},{key:"componentDidMount",value:function(){B.on("clientUpdateChatId",this.onClientUpdateChatId)}},{key:"componentWillUnmount",value:function(){B.off("clientUpdateChatId",this.onClientUpdateChatId)}},{key:"loadCache",value:function(){var e=Object(f.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.loadMessages(this.state.chatId);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:e.t0,O.clientUpdate({"@type":"clientUpdateCacheLoaded"});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;this.loadCache();var t=this.state,o=t.chatId,n=t.messageId;t.selectedCount;return console.log("DialogDetails chatId: ",o),r.a.createElement("div",{className:"dialog-details"},r.a.createElement(Ce,{chatId:o}),r.a.createElement(be,{ref:function(t){return e.messagesList=t},chatId:o,messageId:n}),r.a.createElement(De,null))}}]),t}(r.a.Component),We=function(e){function t(e){var o;return Object(i.a)(this,t),(o=Object(l.a)(this,Object(c.a)(t).call(this,e))).onClientUpdateOpenChat=function(e){var t=e.chatId,n=e.messageId,r=e.popup;o.handleSelectChat(t,n,r)},o.handleSelectChat=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],B.getChatId()),r=(B.dialogChatId,B.getMessageId());n===e&&t&&r===t?o.dialogDetailsRef.current.scrollToMessage():n!==e||t?(o.dialogDetailsRef.current.scrollToBottom(),O.setChatId(e,t)):o.dialogDetailsRef.current.scrollToStart()},o.dialogDetailsRef=r.a.createRef(),o}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){k.on("clientUpdateOpenChat",this.onClientUpdateOpenChat)}},{key:"componentWillUnmount",value:function(){k.off("clientUpdateOpenChat",this.onClientUpdateOpenChat)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:g()("page")},r.a.createElement(ce,null),r.a.createElement(Ue,{ref:this.dialogDetailsRef})))}}]),t}(r.a.Component),xe=function(e){function t(e){var o;return Object(i.a)(this,t),(o=Object(l.a)(this,Object(c.a)(t).call(this,e))).onUpdate=function(e){console.log("update: "+e["@type"])},o.state={inactive:!1},o}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){O.init()}},{key:"componentDidMount",value:function(){O.addListener("update",this.onUpdate)}},{key:"componentWillUnmount",value:function(){O.off("update",this.onUpdate)}},{key:"render",value:function(){this.state.inactive;var e=r.a.createElement(We,null);return r.a.createElement("div",{id:"app"},e)}}]),t}(r.a.Component),Pe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ze(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var o=e.installing;null!=o&&(o.onstatechange=function(){"installed"===o.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(r.a.createElement(xe,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/react-app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/react-app","/service-worker.js");Pe?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(o){var n=o.headers.get("content-type");404===o.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ze(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ze(t,e)}))}}()},37:function(e,t,o){var n=o(41),r=n,a=Function("return this")(),s=o(92);r.object.extend(proto,s),r.exportSymbol("proto.IMNut.AuxiliaryMsg",null,a),r.exportSymbol("proto.IMNut.Image",null,a),r.exportSymbol("proto.IMNut.Msg",null,a),r.exportSymbol("proto.IMNut.MsgAck",null,a),r.exportSymbol("proto.IMNut.MsgList",null,a),r.exportSymbol("proto.IMNut.MsgRead",null,a),r.exportSymbol("proto.IMNut.MsgType",null,a),proto.IMNut.Msg=function(e){n.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.IMNut.Msg,n.Message),r.DEBUG&&!COMPILED&&(proto.IMNut.Msg.displayName="proto.IMNut.Msg"),proto.IMNut.MsgAck=function(e){n.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.IMNut.MsgAck,n.Message),r.DEBUG&&!COMPILED&&(proto.IMNut.MsgAck.displayName="proto.IMNut.MsgAck"),proto.IMNut.MsgRead=function(e){n.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.IMNut.MsgRead,n.Message),r.DEBUG&&!COMPILED&&(proto.IMNut.MsgRead.displayName="proto.IMNut.MsgRead"),proto.IMNut.MsgList=function(e){n.Message.initialize(this,e,0,-1,proto.IMNut.MsgList.repeatedFields_,null)},r.inherits(proto.IMNut.MsgList,n.Message),r.DEBUG&&!COMPILED&&(proto.IMNut.MsgList.displayName="proto.IMNut.MsgList"),proto.IMNut.Image=function(e){n.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.IMNut.Image,n.Message),r.DEBUG&&!COMPILED&&(proto.IMNut.Image.displayName="proto.IMNut.Image"),proto.IMNut.AuxiliaryMsg=function(e){n.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.IMNut.AuxiliaryMsg,n.Message),r.DEBUG&&!COMPILED&&(proto.IMNut.AuxiliaryMsg.displayName="proto.IMNut.AuxiliaryMsg"),n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.Msg.prototype.toObject=function(e){return proto.IMNut.Msg.toObject(e,this)},proto.IMNut.Msg.toObject=function(e,t){var o={conversationid:n.Message.getFieldWithDefault(t,1,""),cid:n.Message.getFieldWithDefault(t,2,""),type:n.Message.getFieldWithDefault(t,5,0),blob:t.getBlob_asB64(),blobextra:t.getBlobextra_asB64(),jetts:n.Message.getFieldWithDefault(t,10,0),ackts:n.Message.getFieldWithDefault(t,11,0),id:n.Message.getFieldWithDefault(t,12,0)};return e&&(o.$jspbMessageInstance=t),o}),proto.IMNut.Msg.deserializeBinary=function(e){var t=new n.BinaryReader(e),o=new proto.IMNut.Msg;return proto.IMNut.Msg.deserializeBinaryFromReader(o,t)},proto.IMNut.Msg.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=t.readString();e.setConversationid(o);break;case 2:o=t.readString();e.setCid(o);break;case 5:o=t.readEnum();e.setType(o);break;case 6:o=t.readBytes();e.setBlob(o);break;case 7:o=t.readBytes();e.setBlobextra(o);break;case 10:o=t.readInt64();e.setJetts(o);break;case 11:o=t.readInt64();e.setAckts(o);break;case 12:o=t.readInt64();e.setId(o);break;default:t.skipField()}}return e},proto.IMNut.Msg.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.Msg.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.Msg.serializeBinaryToWriter=function(e,t){var o=void 0;(o=e.getConversationid()).length>0&&t.writeString(1,o),(o=e.getCid()).length>0&&t.writeString(2,o),0!==(o=e.getType())&&t.writeEnum(5,o),(o=e.getBlob_asU8()).length>0&&t.writeBytes(6,o),(o=e.getBlobextra_asU8()).length>0&&t.writeBytes(7,o),0!==(o=e.getJetts())&&t.writeInt64(10,o),0!==(o=e.getAckts())&&t.writeInt64(11,o),0!==(o=e.getId())&&t.writeInt64(12,o)},proto.IMNut.Msg.prototype.getConversationid=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.IMNut.Msg.prototype.setConversationid=function(e){n.Message.setProto3StringField(this,1,e)},proto.IMNut.Msg.prototype.getCid=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.Msg.prototype.setCid=function(e){n.Message.setProto3StringField(this,2,e)},proto.IMNut.Msg.prototype.getType=function(){return n.Message.getFieldWithDefault(this,5,0)},proto.IMNut.Msg.prototype.setType=function(e){n.Message.setProto3EnumField(this,5,e)},proto.IMNut.Msg.prototype.getBlob=function(){return n.Message.getFieldWithDefault(this,6,"")},proto.IMNut.Msg.prototype.getBlob_asB64=function(){return n.Message.bytesAsB64(this.getBlob())},proto.IMNut.Msg.prototype.getBlob_asU8=function(){return n.Message.bytesAsU8(this.getBlob())},proto.IMNut.Msg.prototype.setBlob=function(e){n.Message.setProto3BytesField(this,6,e)},proto.IMNut.Msg.prototype.getBlobextra=function(){return n.Message.getFieldWithDefault(this,7,"")},proto.IMNut.Msg.prototype.getBlobextra_asB64=function(){return n.Message.bytesAsB64(this.getBlobextra())},proto.IMNut.Msg.prototype.getBlobextra_asU8=function(){return n.Message.bytesAsU8(this.getBlobextra())},proto.IMNut.Msg.prototype.setBlobextra=function(e){n.Message.setProto3BytesField(this,7,e)},proto.IMNut.Msg.prototype.getJetts=function(){return n.Message.getFieldWithDefault(this,10,0)},proto.IMNut.Msg.prototype.setJetts=function(e){n.Message.setProto3IntField(this,10,e)},proto.IMNut.Msg.prototype.getAckts=function(){return n.Message.getFieldWithDefault(this,11,0)},proto.IMNut.Msg.prototype.setAckts=function(e){n.Message.setProto3IntField(this,11,e)},proto.IMNut.Msg.prototype.getId=function(){return n.Message.getFieldWithDefault(this,12,0)},proto.IMNut.Msg.prototype.setId=function(e){n.Message.setProto3IntField(this,12,e)},n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.MsgAck.prototype.toObject=function(e){return proto.IMNut.MsgAck.toObject(e,this)},proto.IMNut.MsgAck.toObject=function(e,t){var o={conversationid:n.Message.getFieldWithDefault(t,1,""),id:n.Message.getFieldWithDefault(t,2,0),jetts:n.Message.getFieldWithDefault(t,10,0),ackts:n.Message.getFieldWithDefault(t,11,0)};return e&&(o.$jspbMessageInstance=t),o}),proto.IMNut.MsgAck.deserializeBinary=function(e){var t=new n.BinaryReader(e),o=new proto.IMNut.MsgAck;return proto.IMNut.MsgAck.deserializeBinaryFromReader(o,t)},proto.IMNut.MsgAck.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=t.readString();e.setConversationid(o);break;case 2:o=t.readInt64();e.setId(o);break;case 10:o=t.readInt64();e.setJetts(o);break;case 11:o=t.readInt64();e.setAckts(o);break;default:t.skipField()}}return e},proto.IMNut.MsgAck.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.MsgAck.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.MsgAck.serializeBinaryToWriter=function(e,t){var o=void 0;(o=e.getConversationid()).length>0&&t.writeString(1,o),0!==(o=e.getId())&&t.writeInt64(2,o),0!==(o=e.getJetts())&&t.writeInt64(10,o),0!==(o=e.getAckts())&&t.writeInt64(11,o)},proto.IMNut.MsgAck.prototype.getConversationid=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.IMNut.MsgAck.prototype.setConversationid=function(e){n.Message.setProto3StringField(this,1,e)},proto.IMNut.MsgAck.prototype.getId=function(){return n.Message.getFieldWithDefault(this,2,0)},proto.IMNut.MsgAck.prototype.setId=function(e){n.Message.setProto3IntField(this,2,e)},proto.IMNut.MsgAck.prototype.getJetts=function(){return n.Message.getFieldWithDefault(this,10,0)},proto.IMNut.MsgAck.prototype.setJetts=function(e){n.Message.setProto3IntField(this,10,e)},proto.IMNut.MsgAck.prototype.getAckts=function(){return n.Message.getFieldWithDefault(this,11,0)},proto.IMNut.MsgAck.prototype.setAckts=function(e){n.Message.setProto3IntField(this,11,e)},n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.MsgRead.prototype.toObject=function(e){return proto.IMNut.MsgRead.toObject(e,this)},proto.IMNut.MsgRead.toObject=function(e,t){var o={conversationid:n.Message.getFieldWithDefault(t,1,""),id:n.Message.getFieldWithDefault(t,2,0),cid:n.Message.getFieldWithDefault(t,3,"")};return e&&(o.$jspbMessageInstance=t),o}),proto.IMNut.MsgRead.deserializeBinary=function(e){var t=new n.BinaryReader(e),o=new proto.IMNut.MsgRead;return proto.IMNut.MsgRead.deserializeBinaryFromReader(o,t)},proto.IMNut.MsgRead.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=t.readString();e.setConversationid(o);break;case 2:o=t.readInt64();e.setId(o);break;case 3:o=t.readString();e.setCid(o);break;default:t.skipField()}}return e},proto.IMNut.MsgRead.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.MsgRead.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.MsgRead.serializeBinaryToWriter=function(e,t){var o=void 0;(o=e.getConversationid()).length>0&&t.writeString(1,o),0!==(o=e.getId())&&t.writeInt64(2,o),(o=e.getCid()).length>0&&t.writeString(3,o)},proto.IMNut.MsgRead.prototype.getConversationid=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.IMNut.MsgRead.prototype.setConversationid=function(e){n.Message.setProto3StringField(this,1,e)},proto.IMNut.MsgRead.prototype.getId=function(){return n.Message.getFieldWithDefault(this,2,0)},proto.IMNut.MsgRead.prototype.setId=function(e){n.Message.setProto3IntField(this,2,e)},proto.IMNut.MsgRead.prototype.getCid=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.IMNut.MsgRead.prototype.setCid=function(e){n.Message.setProto3StringField(this,3,e)},proto.IMNut.MsgList.repeatedFields_=[2],n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.MsgList.prototype.toObject=function(e){return proto.IMNut.MsgList.toObject(e,this)},proto.IMNut.MsgList.toObject=function(e,t){var o={limit:n.Message.getFieldWithDefault(t,1,0),msgsList:n.Message.toObjectList(t.getMsgsList(),proto.IMNut.Msg.toObject,e)};return e&&(o.$jspbMessageInstance=t),o}),proto.IMNut.MsgList.deserializeBinary=function(e){var t=new n.BinaryReader(e),o=new proto.IMNut.MsgList;return proto.IMNut.MsgList.deserializeBinaryFromReader(o,t)},proto.IMNut.MsgList.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=t.readInt32();e.setLimit(o);break;case 2:o=new proto.IMNut.Msg;t.readMessage(o,proto.IMNut.Msg.deserializeBinaryFromReader),e.addMsgs(o);break;default:t.skipField()}}return e},proto.IMNut.MsgList.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.MsgList.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.MsgList.serializeBinaryToWriter=function(e,t){var o=void 0;0!==(o=e.getLimit())&&t.writeInt32(1,o),(o=e.getMsgsList()).length>0&&t.writeRepeatedMessage(2,o,proto.IMNut.Msg.serializeBinaryToWriter)},proto.IMNut.MsgList.prototype.getLimit=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.IMNut.MsgList.prototype.setLimit=function(e){n.Message.setProto3IntField(this,1,e)},proto.IMNut.MsgList.prototype.getMsgsList=function(){return n.Message.getRepeatedWrapperField(this,proto.IMNut.Msg,2)},proto.IMNut.MsgList.prototype.setMsgsList=function(e){n.Message.setRepeatedWrapperField(this,2,e)},proto.IMNut.MsgList.prototype.addMsgs=function(e,t){return n.Message.addToRepeatedWrapperField(this,2,e,proto.IMNut.Msg,t)},proto.IMNut.MsgList.prototype.clearMsgsList=function(){this.setMsgsList([])},n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.Image.prototype.toObject=function(e){return proto.IMNut.Image.toObject(e,this)},proto.IMNut.Image.toObject=function(e,t){var o={localpath:n.Message.getFieldWithDefault(t,1,""),cachepath:n.Message.getFieldWithDefault(t,2,""),filename:n.Message.getFieldWithDefault(t,3,""),imgurl:n.Message.getFieldWithDefault(t,4,""),width:n.Message.getFieldWithDefault(t,5,0),height:n.Message.getFieldWithDefault(t,6,0)};return e&&(o.$jspbMessageInstance=t),o}),proto.IMNut.Image.deserializeBinary=function(e){var t=new n.BinaryReader(e),o=new proto.IMNut.Image;return proto.IMNut.Image.deserializeBinaryFromReader(o,t)},proto.IMNut.Image.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=t.readString();e.setLocalpath(o);break;case 2:o=t.readString();e.setCachepath(o);break;case 3:o=t.readString();e.setFilename(o);break;case 4:o=t.readString();e.setImgurl(o);break;case 5:o=t.readInt32();e.setWidth(o);break;case 6:o=t.readInt32();e.setHeight(o);break;default:t.skipField()}}return e},proto.IMNut.Image.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.Image.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.Image.serializeBinaryToWriter=function(e,t){var o=void 0;(o=e.getLocalpath()).length>0&&t.writeString(1,o),(o=e.getCachepath()).length>0&&t.writeString(2,o),(o=e.getFilename()).length>0&&t.writeString(3,o),(o=e.getImgurl()).length>0&&t.writeString(4,o),0!==(o=e.getWidth())&&t.writeInt32(5,o),0!==(o=e.getHeight())&&t.writeInt32(6,o)},proto.IMNut.Image.prototype.getLocalpath=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.IMNut.Image.prototype.setLocalpath=function(e){n.Message.setProto3StringField(this,1,e)},proto.IMNut.Image.prototype.getCachepath=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.Image.prototype.setCachepath=function(e){n.Message.setProto3StringField(this,2,e)},proto.IMNut.Image.prototype.getFilename=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.IMNut.Image.prototype.setFilename=function(e){n.Message.setProto3StringField(this,3,e)},proto.IMNut.Image.prototype.getImgurl=function(){return n.Message.getFieldWithDefault(this,4,"")},proto.IMNut.Image.prototype.setImgurl=function(e){n.Message.setProto3StringField(this,4,e)},proto.IMNut.Image.prototype.getWidth=function(){return n.Message.getFieldWithDefault(this,5,0)},proto.IMNut.Image.prototype.setWidth=function(e){n.Message.setProto3IntField(this,5,e)},proto.IMNut.Image.prototype.getHeight=function(){return n.Message.getFieldWithDefault(this,6,0)},proto.IMNut.Image.prototype.setHeight=function(e){n.Message.setProto3IntField(this,6,e)},n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.AuxiliaryMsg.prototype.toObject=function(e){return proto.IMNut.AuxiliaryMsg.toObject(e,this)},proto.IMNut.AuxiliaryMsg.toObject=function(e,t){var o={type:n.Message.getFieldWithDefault(t,1,0),blob:t.getBlob_asB64()};return e&&(o.$jspbMessageInstance=t),o}),proto.IMNut.AuxiliaryMsg.deserializeBinary=function(e){var t=new n.BinaryReader(e),o=new proto.IMNut.AuxiliaryMsg;return proto.IMNut.AuxiliaryMsg.deserializeBinaryFromReader(o,t)},proto.IMNut.AuxiliaryMsg.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=t.readEnum();e.setType(o);break;case 2:o=t.readBytes();e.setBlob(o);break;default:t.skipField()}}return e},proto.IMNut.AuxiliaryMsg.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.AuxiliaryMsg.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.AuxiliaryMsg.serializeBinaryToWriter=function(e,t){var o=void 0;0!==(o=e.getType())&&t.writeEnum(1,o),(o=e.getBlob_asU8()).length>0&&t.writeBytes(2,o)},proto.IMNut.AuxiliaryMsg.prototype.getType=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.IMNut.AuxiliaryMsg.prototype.setType=function(e){n.Message.setProto3EnumField(this,1,e)},proto.IMNut.AuxiliaryMsg.prototype.getBlob=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.AuxiliaryMsg.prototype.getBlob_asB64=function(){return n.Message.bytesAsB64(this.getBlob())},proto.IMNut.AuxiliaryMsg.prototype.getBlob_asU8=function(){return n.Message.bytesAsU8(this.getBlob())},proto.IMNut.AuxiliaryMsg.prototype.setBlob=function(e){n.Message.setProto3BytesField(this,2,e)},proto.IMNut.MsgType={TEXT:0,PICTURE:1,VOICE:2,REDPACKET:3,AUXILIARY:4},r.object.extend(t,proto.IMNut)},55:function(e,t,o){var n=o(41),r=n,a=Function("return this")();r.exportSymbol("proto.IMNut.Conversation",null,a),r.exportSymbol("proto.IMNut.ConversationList",null,a),r.exportSymbol("proto.IMNut.ConversationType",null,a),r.exportSymbol("proto.IMNut.MemNick",null,a),proto.IMNut.MemNick=function(e){n.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.IMNut.MemNick,n.Message),r.DEBUG&&!COMPILED&&(proto.IMNut.MemNick.displayName="proto.IMNut.MemNick"),proto.IMNut.Conversation=function(e){n.Message.initialize(this,e,0,-1,proto.IMNut.Conversation.repeatedFields_,null)},r.inherits(proto.IMNut.Conversation,n.Message),r.DEBUG&&!COMPILED&&(proto.IMNut.Conversation.displayName="proto.IMNut.Conversation"),proto.IMNut.ConversationList=function(e){n.Message.initialize(this,e,0,-1,proto.IMNut.ConversationList.repeatedFields_,null)},r.inherits(proto.IMNut.ConversationList,n.Message),r.DEBUG&&!COMPILED&&(proto.IMNut.ConversationList.displayName="proto.IMNut.ConversationList"),n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.MemNick.prototype.toObject=function(e){return proto.IMNut.MemNick.toObject(e,this)},proto.IMNut.MemNick.toObject=function(e,t){var o={cid:n.Message.getFieldWithDefault(t,1,""),nick:n.Message.getFieldWithDefault(t,2,"")};return e&&(o.$jspbMessageInstance=t),o}),proto.IMNut.MemNick.deserializeBinary=function(e){var t=new n.BinaryReader(e),o=new proto.IMNut.MemNick;return proto.IMNut.MemNick.deserializeBinaryFromReader(o,t)},proto.IMNut.MemNick.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=t.readString();e.setCid(o);break;case 2:o=t.readString();e.setNick(o);break;default:t.skipField()}}return e},proto.IMNut.MemNick.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.MemNick.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.MemNick.serializeBinaryToWriter=function(e,t){var o=void 0;(o=e.getCid()).length>0&&t.writeString(1,o),(o=e.getNick()).length>0&&t.writeString(2,o)},proto.IMNut.MemNick.prototype.getCid=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.IMNut.MemNick.prototype.setCid=function(e){n.Message.setProto3StringField(this,1,e)},proto.IMNut.MemNick.prototype.getNick=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.MemNick.prototype.setNick=function(e){n.Message.setProto3StringField(this,2,e)},proto.IMNut.Conversation.repeatedFields_=[4,7,8],n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.Conversation.prototype.toObject=function(e){return proto.IMNut.Conversation.toObject(e,this)},proto.IMNut.Conversation.toObject=function(e,t){var o={id:n.Message.getFieldWithDefault(t,1,""),name:n.Message.getFieldWithDefault(t,2,""),type:n.Message.getFieldWithDefault(t,3,0),cidsList:n.Message.getRepeatedField(t,4),creator:n.Message.getFieldWithDefault(t,5,""),version:n.Message.getFieldWithDefault(t,6,0),membersList:n.Message.getRepeatedField(t,7),nicksList:n.Message.toObjectList(t.getNicksList(),proto.IMNut.MemNick.toObject,e)};return e&&(o.$jspbMessageInstance=t),o}),proto.IMNut.Conversation.deserializeBinary=function(e){var t=new n.BinaryReader(e),o=new proto.IMNut.Conversation;return proto.IMNut.Conversation.deserializeBinaryFromReader(o,t)},proto.IMNut.Conversation.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=t.readString();e.setId(o);break;case 2:o=t.readString();e.setName(o);break;case 3:o=t.readEnum();e.setType(o);break;case 4:o=t.readString();e.addCids(o);break;case 5:o=t.readString();e.setCreator(o);break;case 6:o=t.readInt32();e.setVersion(o);break;case 7:o=t.readString();e.addMembers(o);break;case 8:o=new proto.IMNut.MemNick;t.readMessage(o,proto.IMNut.MemNick.deserializeBinaryFromReader),e.addNicks(o);break;default:t.skipField()}}return e},proto.IMNut.Conversation.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.Conversation.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.Conversation.serializeBinaryToWriter=function(e,t){var o=void 0;(o=e.getId()).length>0&&t.writeString(1,o),(o=e.getName()).length>0&&t.writeString(2,o),0!==(o=e.getType())&&t.writeEnum(3,o),(o=e.getCidsList()).length>0&&t.writeRepeatedString(4,o),(o=e.getCreator()).length>0&&t.writeString(5,o),0!==(o=e.getVersion())&&t.writeInt32(6,o),(o=e.getMembersList()).length>0&&t.writeRepeatedString(7,o),(o=e.getNicksList()).length>0&&t.writeRepeatedMessage(8,o,proto.IMNut.MemNick.serializeBinaryToWriter)},proto.IMNut.Conversation.prototype.getId=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.IMNut.Conversation.prototype.setId=function(e){n.Message.setProto3StringField(this,1,e)},proto.IMNut.Conversation.prototype.getName=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.Conversation.prototype.setName=function(e){n.Message.setProto3StringField(this,2,e)},proto.IMNut.Conversation.prototype.getType=function(){return n.Message.getFieldWithDefault(this,3,0)},proto.IMNut.Conversation.prototype.setType=function(e){n.Message.setProto3EnumField(this,3,e)},proto.IMNut.Conversation.prototype.getCidsList=function(){return n.Message.getRepeatedField(this,4)},proto.IMNut.Conversation.prototype.setCidsList=function(e){n.Message.setField(this,4,e||[])},proto.IMNut.Conversation.prototype.addCids=function(e,t){n.Message.addToRepeatedField(this,4,e,t)},proto.IMNut.Conversation.prototype.clearCidsList=function(){this.setCidsList([])},proto.IMNut.Conversation.prototype.getCreator=function(){return n.Message.getFieldWithDefault(this,5,"")},proto.IMNut.Conversation.prototype.setCreator=function(e){n.Message.setProto3StringField(this,5,e)},proto.IMNut.Conversation.prototype.getVersion=function(){return n.Message.getFieldWithDefault(this,6,0)},proto.IMNut.Conversation.prototype.setVersion=function(e){n.Message.setProto3IntField(this,6,e)},proto.IMNut.Conversation.prototype.getMembersList=function(){return n.Message.getRepeatedField(this,7)},proto.IMNut.Conversation.prototype.setMembersList=function(e){n.Message.setField(this,7,e||[])},proto.IMNut.Conversation.prototype.addMembers=function(e,t){n.Message.addToRepeatedField(this,7,e,t)},proto.IMNut.Conversation.prototype.clearMembersList=function(){this.setMembersList([])},proto.IMNut.Conversation.prototype.getNicksList=function(){return n.Message.getRepeatedWrapperField(this,proto.IMNut.MemNick,8)},proto.IMNut.Conversation.prototype.setNicksList=function(e){n.Message.setRepeatedWrapperField(this,8,e)},proto.IMNut.Conversation.prototype.addNicks=function(e,t){return n.Message.addToRepeatedWrapperField(this,8,e,proto.IMNut.MemNick,t)},proto.IMNut.Conversation.prototype.clearNicksList=function(){this.setNicksList([])},proto.IMNut.ConversationList.repeatedFields_=[2],n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.ConversationList.prototype.toObject=function(e){return proto.IMNut.ConversationList.toObject(e,this)},proto.IMNut.ConversationList.toObject=function(e,t){var o={limit:n.Message.getFieldWithDefault(t,1,0),convsList:n.Message.toObjectList(t.getConvsList(),proto.IMNut.Conversation.toObject,e)};return e&&(o.$jspbMessageInstance=t),o}),proto.IMNut.ConversationList.deserializeBinary=function(e){var t=new n.BinaryReader(e),o=new proto.IMNut.ConversationList;return proto.IMNut.ConversationList.deserializeBinaryFromReader(o,t)},proto.IMNut.ConversationList.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=t.readInt32();e.setLimit(o);break;case 2:o=new proto.IMNut.Conversation;t.readMessage(o,proto.IMNut.Conversation.deserializeBinaryFromReader),e.addConvs(o);break;default:t.skipField()}}return e},proto.IMNut.ConversationList.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.ConversationList.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.ConversationList.serializeBinaryToWriter=function(e,t){var o=void 0;0!==(o=e.getLimit())&&t.writeInt32(1,o),(o=e.getConvsList()).length>0&&t.writeRepeatedMessage(2,o,proto.IMNut.Conversation.serializeBinaryToWriter)},proto.IMNut.ConversationList.prototype.getLimit=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.IMNut.ConversationList.prototype.setLimit=function(e){n.Message.setProto3IntField(this,1,e)},proto.IMNut.ConversationList.prototype.getConvsList=function(){return n.Message.getRepeatedWrapperField(this,proto.IMNut.Conversation,2)},proto.IMNut.ConversationList.prototype.setConvsList=function(e){n.Message.setRepeatedWrapperField(this,2,e)},proto.IMNut.ConversationList.prototype.addConvs=function(e,t){return n.Message.addToRepeatedWrapperField(this,2,e,proto.IMNut.Conversation,t)},proto.IMNut.ConversationList.prototype.clearConvsList=function(){this.setConvsList([])},proto.IMNut.ConversationType={SINGLE:0,MULTIPLE:1,SYS:2},r.object.extend(t,proto.IMNut)},78:function(e,t,o){e.exports=o(121)},83:function(e,t,o){},84:function(e,t,o){},86:function(e,t,o){},87:function(e,t,o){var n=o(41),r=n,a=Function("return this")(),s=o(37);r.object.extend(proto,s);var i=o(55);r.object.extend(proto,i),r.exportSymbol("proto.IMNut.Code",null,a),r.exportSymbol("proto.IMNut.IMAck",null,a),r.exportSymbol("proto.IMNut.IMOperation",null,a),r.exportSymbol("proto.IMNut.IMRequest",null,a),r.exportSymbol("proto.IMNut.IMResponse",null,a),r.exportSymbol("proto.IMNut.MessageQuery",null,a),r.exportSymbol("proto.IMNut.NatsMsg",null,a),r.exportSymbol("proto.IMNut.OpResult",null,a),r.exportSymbol("proto.IMNut.TgtGroupMemberAdded",null,a),r.exportSymbol("proto.IMNut.TgtGroupMemberRemoved",null,a),r.exportSymbol("proto.IMNut.TgtMsgPush",null,a),r.exportSymbol("proto.IMNut.TgtPeerState",null,a),proto.IMNut.NatsMsg=function(e){n.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.IMNut.NatsMsg,n.Message),r.DEBUG&&!COMPILED&&(proto.IMNut.NatsMsg.displayName="proto.IMNut.NatsMsg"),proto.IMNut.IMAck=function(e){n.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.IMNut.IMAck,n.Message),r.DEBUG&&!COMPILED&&(proto.IMNut.IMAck.displayName="proto.IMNut.IMAck"),proto.IMNut.IMRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.IMNut.IMRequest,n.Message),r.DEBUG&&!COMPILED&&(proto.IMNut.IMRequest.displayName="proto.IMNut.IMRequest"),proto.IMNut.IMResponse=function(e){n.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.IMNut.IMResponse,n.Message),r.DEBUG&&!COMPILED&&(proto.IMNut.IMResponse.displayName="proto.IMNut.IMResponse"),proto.IMNut.OpResult=function(e){n.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.IMNut.OpResult,n.Message),r.DEBUG&&!COMPILED&&(proto.IMNut.OpResult.displayName="proto.IMNut.OpResult"),proto.IMNut.TgtMsgPush=function(e){n.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.IMNut.TgtMsgPush,n.Message),r.DEBUG&&!COMPILED&&(proto.IMNut.TgtMsgPush.displayName="proto.IMNut.TgtMsgPush"),proto.IMNut.TgtPeerState=function(e){n.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.IMNut.TgtPeerState,n.Message),r.DEBUG&&!COMPILED&&(proto.IMNut.TgtPeerState.displayName="proto.IMNut.TgtPeerState"),proto.IMNut.MessageQuery=function(e){n.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.IMNut.MessageQuery,n.Message),r.DEBUG&&!COMPILED&&(proto.IMNut.MessageQuery.displayName="proto.IMNut.MessageQuery"),proto.IMNut.TgtGroupMemberAdded=function(e){n.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.IMNut.TgtGroupMemberAdded,n.Message),r.DEBUG&&!COMPILED&&(proto.IMNut.TgtGroupMemberAdded.displayName="proto.IMNut.TgtGroupMemberAdded"),proto.IMNut.TgtGroupMemberRemoved=function(e){n.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.IMNut.TgtGroupMemberRemoved,n.Message),r.DEBUG&&!COMPILED&&(proto.IMNut.TgtGroupMemberRemoved.displayName="proto.IMNut.TgtGroupMemberRemoved"),n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.NatsMsg.prototype.toObject=function(e){return proto.IMNut.NatsMsg.toObject(e,this)},proto.IMNut.NatsMsg.toObject=function(e,t){var o={operation:n.Message.getFieldWithDefault(t,1,0),blob:t.getBlob_asB64()};return e&&(o.$jspbMessageInstance=t),o}),proto.IMNut.NatsMsg.deserializeBinary=function(e){var t=new n.BinaryReader(e),o=new proto.IMNut.NatsMsg;return proto.IMNut.NatsMsg.deserializeBinaryFromReader(o,t)},proto.IMNut.NatsMsg.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=t.readEnum();e.setOperation(o);break;case 2:o=t.readBytes();e.setBlob(o);break;default:t.skipField()}}return e},proto.IMNut.NatsMsg.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.NatsMsg.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.NatsMsg.serializeBinaryToWriter=function(e,t){var o=void 0;0!==(o=e.getOperation())&&t.writeEnum(1,o),(o=e.getBlob_asU8()).length>0&&t.writeBytes(2,o)},proto.IMNut.NatsMsg.prototype.getOperation=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.IMNut.NatsMsg.prototype.setOperation=function(e){n.Message.setProto3EnumField(this,1,e)},proto.IMNut.NatsMsg.prototype.getBlob=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.NatsMsg.prototype.getBlob_asB64=function(){return n.Message.bytesAsB64(this.getBlob())},proto.IMNut.NatsMsg.prototype.getBlob_asU8=function(){return n.Message.bytesAsU8(this.getBlob())},proto.IMNut.NatsMsg.prototype.setBlob=function(e){n.Message.setProto3BytesField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.IMAck.prototype.toObject=function(e){return proto.IMNut.IMAck.toObject(e,this)},proto.IMNut.IMAck.toObject=function(e,t){var o={operation:n.Message.getFieldWithDefault(t,1,0),blob:t.getBlob_asB64()};return e&&(o.$jspbMessageInstance=t),o}),proto.IMNut.IMAck.deserializeBinary=function(e){var t=new n.BinaryReader(e),o=new proto.IMNut.IMAck;return proto.IMNut.IMAck.deserializeBinaryFromReader(o,t)},proto.IMNut.IMAck.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=t.readEnum();e.setOperation(o);break;case 2:o=t.readBytes();e.setBlob(o);break;default:t.skipField()}}return e},proto.IMNut.IMAck.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.IMAck.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.IMAck.serializeBinaryToWriter=function(e,t){var o=void 0;0!==(o=e.getOperation())&&t.writeEnum(1,o),(o=e.getBlob_asU8()).length>0&&t.writeBytes(2,o)},proto.IMNut.IMAck.prototype.getOperation=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.IMNut.IMAck.prototype.setOperation=function(e){n.Message.setProto3EnumField(this,1,e)},proto.IMNut.IMAck.prototype.getBlob=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.IMAck.prototype.getBlob_asB64=function(){return n.Message.bytesAsB64(this.getBlob())},proto.IMNut.IMAck.prototype.getBlob_asU8=function(){return n.Message.bytesAsU8(this.getBlob())},proto.IMNut.IMAck.prototype.setBlob=function(e){n.Message.setProto3BytesField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.IMRequest.prototype.toObject=function(e){return proto.IMNut.IMRequest.toObject(e,this)},proto.IMNut.IMRequest.toObject=function(e,t){var o,r={operation:n.Message.getFieldWithDefault(t,1,0),cid:n.Message.getFieldWithDefault(t,2,""),conversation:(o=t.getConversation())&&i.Conversation.toObject(e,o),msg:(o=t.getMsg())&&s.Msg.toObject(e,o),blob:t.getBlob_asB64(),ts:n.Message.getFieldWithDefault(t,10,0)};return e&&(r.$jspbMessageInstance=t),r}),proto.IMNut.IMRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),o=new proto.IMNut.IMRequest;return proto.IMNut.IMRequest.deserializeBinaryFromReader(o,t)},proto.IMNut.IMRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=t.readEnum();e.setOperation(o);break;case 2:o=t.readString();e.setCid(o);break;case 3:o=new i.Conversation;t.readMessage(o,i.Conversation.deserializeBinaryFromReader),e.setConversation(o);break;case 4:o=new s.Msg;t.readMessage(o,s.Msg.deserializeBinaryFromReader),e.setMsg(o);break;case 5:o=t.readBytes();e.setBlob(o);break;case 10:o=t.readInt64();e.setTs(o);break;default:t.skipField()}}return e},proto.IMNut.IMRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.IMRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.IMRequest.serializeBinaryToWriter=function(e,t){var o=void 0;0!==(o=e.getOperation())&&t.writeEnum(1,o),(o=e.getCid()).length>0&&t.writeString(2,o),null!=(o=e.getConversation())&&t.writeMessage(3,o,i.Conversation.serializeBinaryToWriter),null!=(o=e.getMsg())&&t.writeMessage(4,o,s.Msg.serializeBinaryToWriter),(o=e.getBlob_asU8()).length>0&&t.writeBytes(5,o),0!==(o=e.getTs())&&t.writeInt64(10,o)},proto.IMNut.IMRequest.prototype.getOperation=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.IMNut.IMRequest.prototype.setOperation=function(e){n.Message.setProto3EnumField(this,1,e)},proto.IMNut.IMRequest.prototype.getCid=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.IMRequest.prototype.setCid=function(e){n.Message.setProto3StringField(this,2,e)},proto.IMNut.IMRequest.prototype.getConversation=function(){return n.Message.getWrapperField(this,i.Conversation,3)},proto.IMNut.IMRequest.prototype.setConversation=function(e){n.Message.setWrapperField(this,3,e)},proto.IMNut.IMRequest.prototype.clearConversation=function(){this.setConversation(void 0)},proto.IMNut.IMRequest.prototype.hasConversation=function(){return null!=n.Message.getField(this,3)},proto.IMNut.IMRequest.prototype.getMsg=function(){return n.Message.getWrapperField(this,s.Msg,4)},proto.IMNut.IMRequest.prototype.setMsg=function(e){n.Message.setWrapperField(this,4,e)},proto.IMNut.IMRequest.prototype.clearMsg=function(){this.setMsg(void 0)},proto.IMNut.IMRequest.prototype.hasMsg=function(){return null!=n.Message.getField(this,4)},proto.IMNut.IMRequest.prototype.getBlob=function(){return n.Message.getFieldWithDefault(this,5,"")},proto.IMNut.IMRequest.prototype.getBlob_asB64=function(){return n.Message.bytesAsB64(this.getBlob())},proto.IMNut.IMRequest.prototype.getBlob_asU8=function(){return n.Message.bytesAsU8(this.getBlob())},proto.IMNut.IMRequest.prototype.setBlob=function(e){n.Message.setProto3BytesField(this,5,e)},proto.IMNut.IMRequest.prototype.getTs=function(){return n.Message.getFieldWithDefault(this,10,0)},proto.IMNut.IMRequest.prototype.setTs=function(e){n.Message.setProto3IntField(this,10,e)},n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.IMResponse.prototype.toObject=function(e){return proto.IMNut.IMResponse.toObject(e,this)},proto.IMNut.IMResponse.toObject=function(e,t){var o={operation:n.Message.getFieldWithDefault(t,1,0),cid:n.Message.getFieldWithDefault(t,2,""),blob:t.getBlob_asB64(),ts:n.Message.getFieldWithDefault(t,10,0)};return e&&(o.$jspbMessageInstance=t),o}),proto.IMNut.IMResponse.deserializeBinary=function(e){var t=new n.BinaryReader(e),o=new proto.IMNut.IMResponse;return proto.IMNut.IMResponse.deserializeBinaryFromReader(o,t)},proto.IMNut.IMResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=t.readEnum();e.setOperation(o);break;case 2:o=t.readString();e.setCid(o);break;case 3:o=t.readBytes();e.setBlob(o);break;case 10:o=t.readInt64();e.setTs(o);break;default:t.skipField()}}return e},proto.IMNut.IMResponse.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.IMResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.IMResponse.serializeBinaryToWriter=function(e,t){var o=void 0;0!==(o=e.getOperation())&&t.writeEnum(1,o),(o=e.getCid()).length>0&&t.writeString(2,o),(o=e.getBlob_asU8()).length>0&&t.writeBytes(3,o),0!==(o=e.getTs())&&t.writeInt64(10,o)},proto.IMNut.IMResponse.prototype.getOperation=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.IMNut.IMResponse.prototype.setOperation=function(e){n.Message.setProto3EnumField(this,1,e)},proto.IMNut.IMResponse.prototype.getCid=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.IMResponse.prototype.setCid=function(e){n.Message.setProto3StringField(this,2,e)},proto.IMNut.IMResponse.prototype.getBlob=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.IMNut.IMResponse.prototype.getBlob_asB64=function(){return n.Message.bytesAsB64(this.getBlob())},proto.IMNut.IMResponse.prototype.getBlob_asU8=function(){return n.Message.bytesAsU8(this.getBlob())},proto.IMNut.IMResponse.prototype.setBlob=function(e){n.Message.setProto3BytesField(this,3,e)},proto.IMNut.IMResponse.prototype.getTs=function(){return n.Message.getFieldWithDefault(this,10,0)},proto.IMNut.IMResponse.prototype.setTs=function(e){n.Message.setProto3IntField(this,10,e)},n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.OpResult.prototype.toObject=function(e){return proto.IMNut.OpResult.toObject(e,this)},proto.IMNut.OpResult.toObject=function(e,t){var o={code:n.Message.getFieldWithDefault(t,1,0),msg:n.Message.getFieldWithDefault(t,2,""),blob:t.getBlob_asB64()};return e&&(o.$jspbMessageInstance=t),o}),proto.IMNut.OpResult.deserializeBinary=function(e){var t=new n.BinaryReader(e),o=new proto.IMNut.OpResult;return proto.IMNut.OpResult.deserializeBinaryFromReader(o,t)},proto.IMNut.OpResult.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=t.readEnum();e.setCode(o);break;case 2:o=t.readString();e.setMsg(o);break;case 3:o=t.readBytes();e.setBlob(o);break;default:t.skipField()}}return e},proto.IMNut.OpResult.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.OpResult.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.OpResult.serializeBinaryToWriter=function(e,t){var o=void 0;0!==(o=e.getCode())&&t.writeEnum(1,o),(o=e.getMsg()).length>0&&t.writeString(2,o),(o=e.getBlob_asU8()).length>0&&t.writeBytes(3,o)},proto.IMNut.OpResult.prototype.getCode=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.IMNut.OpResult.prototype.setCode=function(e){n.Message.setProto3EnumField(this,1,e)},proto.IMNut.OpResult.prototype.getMsg=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.OpResult.prototype.setMsg=function(e){n.Message.setProto3StringField(this,2,e)},proto.IMNut.OpResult.prototype.getBlob=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.IMNut.OpResult.prototype.getBlob_asB64=function(){return n.Message.bytesAsB64(this.getBlob())},proto.IMNut.OpResult.prototype.getBlob_asU8=function(){return n.Message.bytesAsU8(this.getBlob())},proto.IMNut.OpResult.prototype.setBlob=function(e){n.Message.setProto3BytesField(this,3,e)},n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.TgtMsgPush.prototype.toObject=function(e){return proto.IMNut.TgtMsgPush.toObject(e,this)},proto.IMNut.TgtMsgPush.toObject=function(e,t){var o={c:n.Message.getFieldWithDefault(t,1,"")};return e&&(o.$jspbMessageInstance=t),o}),proto.IMNut.TgtMsgPush.deserializeBinary=function(e){var t=new n.BinaryReader(e),o=new proto.IMNut.TgtMsgPush;return proto.IMNut.TgtMsgPush.deserializeBinaryFromReader(o,t)},proto.IMNut.TgtMsgPush.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=t.readString();e.setC(o);break;default:t.skipField()}}return e},proto.IMNut.TgtMsgPush.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.TgtMsgPush.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.TgtMsgPush.serializeBinaryToWriter=function(e,t){var o;(o=e.getC()).length>0&&t.writeString(1,o)},proto.IMNut.TgtMsgPush.prototype.getC=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.IMNut.TgtMsgPush.prototype.setC=function(e){n.Message.setProto3StringField(this,1,e)},n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.TgtPeerState.prototype.toObject=function(e){return proto.IMNut.TgtPeerState.toObject(e,this)},proto.IMNut.TgtPeerState.toObject=function(e,t){var o={cid:n.Message.getFieldWithDefault(t,1,""),login:n.Message.getFieldWithDefault(t,2,!1)};return e&&(o.$jspbMessageInstance=t),o}),proto.IMNut.TgtPeerState.deserializeBinary=function(e){var t=new n.BinaryReader(e),o=new proto.IMNut.TgtPeerState;return proto.IMNut.TgtPeerState.deserializeBinaryFromReader(o,t)},proto.IMNut.TgtPeerState.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=t.readString();e.setCid(o);break;case 2:o=t.readBool();e.setLogin(o);break;default:t.skipField()}}return e},proto.IMNut.TgtPeerState.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.TgtPeerState.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.TgtPeerState.serializeBinaryToWriter=function(e,t){var o=void 0;(o=e.getCid()).length>0&&t.writeString(1,o),(o=e.getLogin())&&t.writeBool(2,o)},proto.IMNut.TgtPeerState.prototype.getCid=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.IMNut.TgtPeerState.prototype.setCid=function(e){n.Message.setProto3StringField(this,1,e)},proto.IMNut.TgtPeerState.prototype.getLogin=function(){return n.Message.getFieldWithDefault(this,2,!1)},proto.IMNut.TgtPeerState.prototype.setLogin=function(e){n.Message.setProto3BooleanField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.MessageQuery.prototype.toObject=function(e){return proto.IMNut.MessageQuery.toObject(e,this)},proto.IMNut.MessageQuery.toObject=function(e,t){var o={direct:n.Message.getFieldWithDefault(t,1,!1),limit:n.Message.getFieldWithDefault(t,2,0)};return e&&(o.$jspbMessageInstance=t),o}),proto.IMNut.MessageQuery.deserializeBinary=function(e){var t=new n.BinaryReader(e),o=new proto.IMNut.MessageQuery;return proto.IMNut.MessageQuery.deserializeBinaryFromReader(o,t)},proto.IMNut.MessageQuery.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=t.readBool();e.setDirect(o);break;case 2:o=t.readInt32();e.setLimit(o);break;default:t.skipField()}}return e},proto.IMNut.MessageQuery.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.MessageQuery.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.MessageQuery.serializeBinaryToWriter=function(e,t){var o=void 0;(o=e.getDirect())&&t.writeBool(1,o),0!==(o=e.getLimit())&&t.writeInt32(2,o)},proto.IMNut.MessageQuery.prototype.getDirect=function(){return n.Message.getFieldWithDefault(this,1,!1)},proto.IMNut.MessageQuery.prototype.setDirect=function(e){n.Message.setProto3BooleanField(this,1,e)},proto.IMNut.MessageQuery.prototype.getLimit=function(){return n.Message.getFieldWithDefault(this,2,0)},proto.IMNut.MessageQuery.prototype.setLimit=function(e){n.Message.setProto3IntField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.TgtGroupMemberAdded.prototype.toObject=function(e){return proto.IMNut.TgtGroupMemberAdded.toObject(e,this)},proto.IMNut.TgtGroupMemberAdded.toObject=function(e,t){var o={convid:n.Message.getFieldWithDefault(t,1,""),invitor:n.Message.getFieldWithDefault(t,2,"")};return e&&(o.$jspbMessageInstance=t),o}),proto.IMNut.TgtGroupMemberAdded.deserializeBinary=function(e){var t=new n.BinaryReader(e),o=new proto.IMNut.TgtGroupMemberAdded;return proto.IMNut.TgtGroupMemberAdded.deserializeBinaryFromReader(o,t)},proto.IMNut.TgtGroupMemberAdded.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=t.readString();e.setConvid(o);break;case 2:o=t.readString();e.setInvitor(o);break;default:t.skipField()}}return e},proto.IMNut.TgtGroupMemberAdded.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.TgtGroupMemberAdded.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.TgtGroupMemberAdded.serializeBinaryToWriter=function(e,t){var o=void 0;(o=e.getConvid()).length>0&&t.writeString(1,o),(o=e.getInvitor()).length>0&&t.writeString(2,o)},proto.IMNut.TgtGroupMemberAdded.prototype.getConvid=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.IMNut.TgtGroupMemberAdded.prototype.setConvid=function(e){n.Message.setProto3StringField(this,1,e)},proto.IMNut.TgtGroupMemberAdded.prototype.getInvitor=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.TgtGroupMemberAdded.prototype.setInvitor=function(e){n.Message.setProto3StringField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.TgtGroupMemberRemoved.prototype.toObject=function(e){return proto.IMNut.TgtGroupMemberRemoved.toObject(e,this)},proto.IMNut.TgtGroupMemberRemoved.toObject=function(e,t){var o={convid:n.Message.getFieldWithDefault(t,1,""),leaver:n.Message.getFieldWithDefault(t,2,""),kicker:n.Message.getFieldWithDefault(t,3,"")};return e&&(o.$jspbMessageInstance=t),o}),proto.IMNut.TgtGroupMemberRemoved.deserializeBinary=function(e){var t=new n.BinaryReader(e),o=new proto.IMNut.TgtGroupMemberRemoved;return proto.IMNut.TgtGroupMemberRemoved.deserializeBinaryFromReader(o,t)},proto.IMNut.TgtGroupMemberRemoved.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=t.readString();e.setConvid(o);break;case 2:o=t.readString();e.setLeaver(o);break;case 3:o=t.readString();e.setKicker(o);break;default:t.skipField()}}return e},proto.IMNut.TgtGroupMemberRemoved.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.TgtGroupMemberRemoved.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.TgtGroupMemberRemoved.serializeBinaryToWriter=function(e,t){var o=void 0;(o=e.getConvid()).length>0&&t.writeString(1,o),(o=e.getLeaver()).length>0&&t.writeString(2,o),(o=e.getKicker()).length>0&&t.writeString(3,o)},proto.IMNut.TgtGroupMemberRemoved.prototype.getConvid=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.IMNut.TgtGroupMemberRemoved.prototype.setConvid=function(e){n.Message.setProto3StringField(this,1,e)},proto.IMNut.TgtGroupMemberRemoved.prototype.getLeaver=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.TgtGroupMemberRemoved.prototype.setLeaver=function(e){n.Message.setProto3StringField(this,2,e)},proto.IMNut.TgtGroupMemberRemoved.prototype.getKicker=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.IMNut.TgtGroupMemberRemoved.prototype.setKicker=function(e){n.Message.setProto3StringField(this,3,e)},proto.IMNut.IMOperation={DEFAULT:0,CLIENTOPEN:1,CLIENTCLOSE:2,CLIENTQUERY:3,CONVERSATIONCREATION:1e3,CONVERSATIONMEMBERADD:1001,CONVERSATIONMEMBERREMOVE:1002,CONVERSATIONQUERY:1003,CONVERSATIONUPDATENAME:1004,CONVERSATIONLEAVE:1005,CONVERSATIONGROUPINFO:1006,CONVERSATIONGROUPJOIN:1007,CONVERSATIONGROUPNICK:1008,CONVERSATIONMEMBERADDED:1100,CONVERSATIONMEMBERREMOVED:1101,CONVERSATIONMESSAGESEND:2e3,CONVERSATIONMESSAGEUPDATE:2001,CONVERSATIONMESSAGEQUERY:2002,CONVERSATIONENTER:2003,CONVERSATIONEXIT:2004,CONVERSATIONMESSAGEREAD:2005,TARGETMESSAGEPUSH:3e3,TARGETMESSAGESEND:3001,TARGETCONVPEERSTATE:3002,TARGETMESSAGEREAD:3003,ACK:4e3,ACKCLIENTOPEN:4001},proto.IMNut.Code={SUCCESS:0,ERRNOPERMISSION:1,ERRFAILED:2},r.object.extend(t,proto.IMNut)},92:function(e,t,o){var n=o(41),r=n,a=Function("return this")();r.exportSymbol("proto.IMNut.AuxiliaryType",null,a),r.exportSymbol("proto.IMNut.GroupInviteType",null,a),r.exportSymbol("proto.IMNut.GroupKickMsg",null,a),r.exportSymbol("proto.IMNut.GroupMsg",null,a),r.exportSymbol("proto.IMNut.RedpacketOpenedMsg",null,a),proto.IMNut.RedpacketOpenedMsg=function(e){n.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.IMNut.RedpacketOpenedMsg,n.Message),r.DEBUG&&!COMPILED&&(proto.IMNut.RedpacketOpenedMsg.displayName="proto.IMNut.RedpacketOpenedMsg"),proto.IMNut.GroupMsg=function(e){n.Message.initialize(this,e,0,-1,proto.IMNut.GroupMsg.repeatedFields_,null)},r.inherits(proto.IMNut.GroupMsg,n.Message),r.DEBUG&&!COMPILED&&(proto.IMNut.GroupMsg.displayName="proto.IMNut.GroupMsg"),proto.IMNut.GroupKickMsg=function(e){n.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.IMNut.GroupKickMsg,n.Message),r.DEBUG&&!COMPILED&&(proto.IMNut.GroupKickMsg.displayName="proto.IMNut.GroupKickMsg"),n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.RedpacketOpenedMsg.prototype.toObject=function(e){return proto.IMNut.RedpacketOpenedMsg.toObject(e,this)},proto.IMNut.RedpacketOpenedMsg.toObject=function(e,t){var o={msgid:n.Message.getFieldWithDefault(t,1,0),rpid:n.Message.getFieldWithDefault(t,2,""),convid:n.Message.getFieldWithDefault(t,3,"")};return e&&(o.$jspbMessageInstance=t),o}),proto.IMNut.RedpacketOpenedMsg.deserializeBinary=function(e){var t=new n.BinaryReader(e),o=new proto.IMNut.RedpacketOpenedMsg;return proto.IMNut.RedpacketOpenedMsg.deserializeBinaryFromReader(o,t)},proto.IMNut.RedpacketOpenedMsg.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=t.readInt64();e.setMsgid(o);break;case 2:o=t.readString();e.setRpid(o);break;case 3:o=t.readString();e.setConvid(o);break;default:t.skipField()}}return e},proto.IMNut.RedpacketOpenedMsg.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.RedpacketOpenedMsg.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.RedpacketOpenedMsg.serializeBinaryToWriter=function(e,t){var o=void 0;0!==(o=e.getMsgid())&&t.writeInt64(1,o),(o=e.getRpid()).length>0&&t.writeString(2,o),(o=e.getConvid()).length>0&&t.writeString(3,o)},proto.IMNut.RedpacketOpenedMsg.prototype.getMsgid=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.IMNut.RedpacketOpenedMsg.prototype.setMsgid=function(e){n.Message.setProto3IntField(this,1,e)},proto.IMNut.RedpacketOpenedMsg.prototype.getRpid=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.RedpacketOpenedMsg.prototype.setRpid=function(e){n.Message.setProto3StringField(this,2,e)},proto.IMNut.RedpacketOpenedMsg.prototype.getConvid=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.IMNut.RedpacketOpenedMsg.prototype.setConvid=function(e){n.Message.setProto3StringField(this,3,e)},proto.IMNut.GroupMsg.repeatedFields_=[1],n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.GroupMsg.prototype.toObject=function(e){return proto.IMNut.GroupMsg.toObject(e,this)},proto.IMNut.GroupMsg.toObject=function(e,t){var o={cidsList:n.Message.getRepeatedField(t,1),invitor:n.Message.getFieldWithDefault(t,2,""),invitetype:n.Message.getFieldWithDefault(t,3,0)};return e&&(o.$jspbMessageInstance=t),o}),proto.IMNut.GroupMsg.deserializeBinary=function(e){var t=new n.BinaryReader(e),o=new proto.IMNut.GroupMsg;return proto.IMNut.GroupMsg.deserializeBinaryFromReader(o,t)},proto.IMNut.GroupMsg.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=t.readString();e.addCids(o);break;case 2:o=t.readString();e.setInvitor(o);break;case 3:o=t.readEnum();e.setInvitetype(o);break;default:t.skipField()}}return e},proto.IMNut.GroupMsg.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.GroupMsg.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.GroupMsg.serializeBinaryToWriter=function(e,t){var o=void 0;(o=e.getCidsList()).length>0&&t.writeRepeatedString(1,o),(o=e.getInvitor()).length>0&&t.writeString(2,o),0!==(o=e.getInvitetype())&&t.writeEnum(3,o)},proto.IMNut.GroupMsg.prototype.getCidsList=function(){return n.Message.getRepeatedField(this,1)},proto.IMNut.GroupMsg.prototype.setCidsList=function(e){n.Message.setField(this,1,e||[])},proto.IMNut.GroupMsg.prototype.addCids=function(e,t){n.Message.addToRepeatedField(this,1,e,t)},proto.IMNut.GroupMsg.prototype.clearCidsList=function(){this.setCidsList([])},proto.IMNut.GroupMsg.prototype.getInvitor=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.GroupMsg.prototype.setInvitor=function(e){n.Message.setProto3StringField(this,2,e)},proto.IMNut.GroupMsg.prototype.getInvitetype=function(){return n.Message.getFieldWithDefault(this,3,0)},proto.IMNut.GroupMsg.prototype.setInvitetype=function(e){n.Message.setProto3EnumField(this,3,e)},n.Message.GENERATE_TO_OBJECT&&(proto.IMNut.GroupKickMsg.prototype.toObject=function(e){return proto.IMNut.GroupKickMsg.toObject(e,this)},proto.IMNut.GroupKickMsg.toObject=function(e,t){var o={kicker:n.Message.getFieldWithDefault(t,1,""),cid:n.Message.getFieldWithDefault(t,2,"")};return e&&(o.$jspbMessageInstance=t),o}),proto.IMNut.GroupKickMsg.deserializeBinary=function(e){var t=new n.BinaryReader(e),o=new proto.IMNut.GroupKickMsg;return proto.IMNut.GroupKickMsg.deserializeBinaryFromReader(o,t)},proto.IMNut.GroupKickMsg.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=t.readString();e.setKicker(o);break;case 2:o=t.readString();e.setCid(o);break;default:t.skipField()}}return e},proto.IMNut.GroupKickMsg.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.IMNut.GroupKickMsg.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.IMNut.GroupKickMsg.serializeBinaryToWriter=function(e,t){var o=void 0;(o=e.getKicker()).length>0&&t.writeString(1,o),(o=e.getCid()).length>0&&t.writeString(2,o)},proto.IMNut.GroupKickMsg.prototype.getKicker=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.IMNut.GroupKickMsg.prototype.setKicker=function(e){n.Message.setProto3StringField(this,1,e)},proto.IMNut.GroupKickMsg.prototype.getCid=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.IMNut.GroupKickMsg.prototype.setCid=function(e){n.Message.setProto3StringField(this,2,e)},proto.IMNut.AuxiliaryType={REDPACKETOPENED:0,GROUP:1,GROUPKICK:2},proto.IMNut.GroupInviteType={INVITOR:0,INVITEE:1},r.object.extend(t,proto.IMNut)},93:function(e,t,o){}},[[78,1,2]]]);
//# sourceMappingURL=main.b3fe223b.chunk.js.map